(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $j(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var _b={exports:{}},zu={},Tb={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),Hj=Symbol.for("react.portal"),Wj=Symbol.for("react.fragment"),qj=Symbol.for("react.strict_mode"),Gj=Symbol.for("react.profiler"),Kj=Symbol.for("react.provider"),Qj=Symbol.for("react.context"),Yj=Symbol.for("react.forward_ref"),Xj=Symbol.for("react.suspense"),Jj=Symbol.for("react.memo"),Zj=Symbol.for("react.lazy"),gy=Symbol.iterator;function eS(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var Nb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eb=Object.assign,jb={};function yo(t,e,n){this.props=t,this.context=e,this.refs=jb,this.updater=n||Nb}yo.prototype.isReactComponent={};yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sb(){}Sb.prototype=yo.prototype;function Ym(t,e,n){this.props=t,this.context=e,this.refs=jb,this.updater=n||Nb}var Xm=Ym.prototype=new Sb;Xm.constructor=Ym;Eb(Xm,yo.prototype);Xm.isPureReactComponent=!0;var yy=Array.isArray,Ib=Object.prototype.hasOwnProperty,Jm={current:null},kb={key:!0,ref:!0,__self:!0,__source:!0};function Cb(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Ib.call(e,r)&&!kb.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ll,type:t,key:i,ref:a,props:s,_owner:Jm.current}}function tS(t,e){return{$$typeof:ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ll}function nS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xy=/\/+/g;function lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nS(""+t.key):e.toString(36)}function bc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ll:case Hj:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+lh(a,0):r,yy(s)?(n="",t!=null&&(n=t.replace(xy,"$&/")+"/"),bc(s,e,n,"",function(d){return d})):s!=null&&(Zm(s)&&(s=tS(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xy,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",yy(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+lh(i,l);a+=bc(i,e,n,c,s)}else if(c=eS(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+lh(i,l++),a+=bc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Gl(t,e,n){if(t==null)return t;var r=[],s=0;return bc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},_c={transition:null},sS={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:_c,ReactCurrentOwner:Jm};function Ab(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Gl,forEach:function(t,e,n){Gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gl(t,function(){e++}),e},toArray:function(t){return Gl(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=yo;se.Fragment=Wj;se.Profiler=Gj;se.PureComponent=Ym;se.StrictMode=qj;se.Suspense=Xj;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sS;se.act=Ab;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Eb({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Jm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Ib.call(e,c)&&!kb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ll,type:t.type,key:s,ref:i,props:r,_owner:a}};se.createContext=function(t){return t={$$typeof:Qj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kj,_context:t},t.Consumer=t};se.createElement=Cb;se.createFactory=function(t){var e=Cb.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Yj,render:t}};se.isValidElement=Zm;se.lazy=function(t){return{$$typeof:Zj,_payload:{_status:-1,_result:t},_init:rS}};se.memo=function(t,e){return{$$typeof:Jj,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=_c.transition;_c.transition={};try{t()}finally{_c.transition=e}};se.unstable_act=Ab;se.useCallback=function(t,e){return Mt.current.useCallback(t,e)};se.useContext=function(t){return Mt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Mt.current.useEffect(t,e)};se.useId=function(){return Mt.current.useId()};se.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Mt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};se.useRef=function(t){return Mt.current.useRef(t)};se.useState=function(t){return Mt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Mt.current.useTransition()};se.version="18.3.1";Tb.exports=se;var D=Tb.exports;const ep=bb(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS=D,oS=Symbol.for("react.element"),aS=Symbol.for("react.fragment"),lS=Object.prototype.hasOwnProperty,cS=iS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uS={key:!0,ref:!0,__self:!0,__source:!0};function Pb(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)lS.call(e,r)&&!uS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oS,type:t,key:i,ref:a,props:s,_owner:cS.current}}zu.Fragment=aS;zu.jsx=Pb;zu.jsxs=Pb;_b.exports=zu;var o=_b.exports,Rb={exports:{}},rn={},Db={exports:{}},Mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var J=B.length;B.push(G);e:for(;0<J;){var Q=J-1>>>1,re=B[Q];if(0<s(re,G))B[Q]=G,B[J]=re,J=Q;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],J=B.pop();if(J!==G){B[0]=J;e:for(var Q=0,re=B.length,je=re>>>1;Q<je;){var on=2*(Q+1)-1,an=B[on],St=on+1,ln=B[St];if(0>s(an,J))St<re&&0>s(ln,an)?(B[Q]=ln,B[St]=J,Q=St):(B[Q]=an,B[on]=J,Q=on);else if(St<re&&0>s(ln,J))B[Q]=ln,B[St]=J,Q=St;else break e}}return G}function s(B,G){var J=B.sortIndex-G.sortIndex;return J!==0?J:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,m=3,x=!1,b=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=B)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function k(B){if(N=!1,w(B),!b)if(n(c)!==null)b=!0,xe(M);else{var G=n(d);G!==null&&Ce(k,G.startTime-B)}}function M(B,G){b=!1,N&&(N=!1,y(T),T=-1),x=!0;var J=m;try{for(w(G),f=n(c);f!==null&&(!(f.expirationTime>G)||B&&!P());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var re=Q(f.expirationTime<=G);G=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(c)&&r(c),w(G)}else r(c);f=n(c)}if(f!==null)var je=!0;else{var on=n(d);on!==null&&Ce(k,on.startTime-G),je=!1}return je}finally{f=null,m=J,x=!1}}var O=!1,_=null,T=-1,E=5,S=-1;function P(){return!(t.unstable_now()-S<E)}function R(){if(_!==null){var B=t.unstable_now();S=B;var G=!0;try{G=_(!0,B)}finally{G?I():(O=!1,_=null)}}else O=!1}var I;if(typeof g=="function")I=function(){g(R)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,rt=ae.port2;ae.port1.onmessage=R,I=function(){rt.postMessage(null)}}else I=function(){C(R,0)};function xe(B){_=B,O||(O=!0,I())}function Ce(B,G){T=C(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,xe(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var J=m;m=G;try{return B()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=m;m=B;try{return G()}finally{m=J}},t.unstable_scheduleCallback=function(B,G,J){var Q=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Q+J:Q):J=Q,B){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=J+re,B={id:h++,callback:G,priorityLevel:B,startTime:J,expirationTime:re,sortIndex:-1},J>Q?(B.sortIndex=J,e(d,B),n(c)===null&&B===n(d)&&(N?(y(T),T=-1):N=!0,Ce(k,J-Q))):(B.sortIndex=re,e(c,B),b||x||(b=!0,xe(M))),B},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(B){var G=m;return function(){var J=m;m=G;try{return B.apply(this,arguments)}finally{m=J}}}})(Mb);Db.exports=Mb;var dS=Db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS=D,tn=dS;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ob=new Set,Ca={};function ri(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(Ca[t]=e,t=0;t<e.length;t++)Ob.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,fS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vy={},wy={};function mS(t){return yf.call(wy,t)?!0:yf.call(vy,t)?!1:fS.test(t)?wy[t]=!0:(vy[t]=!0,!1)}function pS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gS(t,e,n,r){if(e===null||typeof e>"u"||pS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var tp=/[\-:]([a-z])/g;function np(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tp,np);ut[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tp,np);ut[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tp,np);ut[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function rp(t,e,n,r){var s=ut.hasOwnProperty(e)?ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gS(e,n,s,r)&&(n=null),r||s===null?mS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wr=hS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),Vb=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),wf=Symbol.for("react.suspense_list"),op=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),Fb=Symbol.for("react.offscreen"),by=Symbol.iterator;function Bo(t){return t===null||typeof t!="object"?null:(t=by&&t[by]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,ch;function Zo(t){if(ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ch=e&&e[1]||""}return`
`+ch+t}var uh=!1;function dh(t,e){if(!t||uh)return"";uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zo(t):""}function yS(t){switch(t.tag){case 5:return Zo(t.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return t=dh(t.type,!1),t;case 11:return t=dh(t.type.render,!1),t;case 1:return t=dh(t.type,!0),t;default:return""}}function bf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Ti:return"Portal";case xf:return"Profiler";case sp:return"StrictMode";case vf:return"Suspense";case wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lb:return(t.displayName||"Context")+".Consumer";case Vb:return(t._context.displayName||"Context")+".Provider";case ip:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case op:return e=t.displayName||null,e!==null?e:bf(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return bf(t(e))}catch{}}return null}function xS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bf(e);case 8:return e===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ub(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vS(t){var e=Ub(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ql(t){t._valueTracker||(t._valueTracker=vS(t))}function Bb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ub(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _f(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _y(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zb(t,e){e=e.checked,e!=null&&rp(t,"checked",e,!1)}function Tf(t,e){zb(t,e);var n=ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nf(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ty(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nf(t,e,n){(e!=="number"||Hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ea=Array.isArray;function Ui(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ny(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ea(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function $b(t,e){var n=ts(e.value),r=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ey(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yl,Wb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yl=Yl||document.createElement("div"),Yl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wS=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(t){wS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ua[e]=ua[t]})});function qb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ua.hasOwnProperty(t)&&ua[t]?(""+e).trim():e+"px"}function Gb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var bS=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(t,e){if(e){if(bS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function If(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cf=null,Bi=null,zi=null;function jy(t){if(t=dl(t)){if(typeof Cf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Gu(e),Cf(t.stateNode,t.type,e))}}function Kb(t){Bi?zi?zi.push(t):zi=[t]:Bi=t}function Qb(){if(Bi){var t=Bi,e=zi;if(zi=Bi=null,jy(t),e)for(t=0;t<e.length;t++)jy(e[t])}}function Yb(t,e){return t(e)}function Xb(){}var hh=!1;function Jb(t,e,n){if(hh)return t(e,n);hh=!0;try{return Yb(t,e,n)}finally{hh=!1,(Bi!==null||zi!==null)&&(Xb(),Qb())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Gu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Af=!1;if(dr)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Af=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Af=!1}function _S(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var da=!1,Wc=null,qc=!1,Pf=null,TS={onError:function(t){da=!0,Wc=t}};function NS(t,e,n,r,s,i,a,l,c){da=!1,Wc=null,_S.apply(TS,arguments)}function ES(t,e,n,r,s,i,a,l,c){if(NS.apply(this,arguments),da){if(da){var d=Wc;da=!1,Wc=null}else throw Error(z(198));qc||(qc=!0,Pf=d)}}function si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sy(t){if(si(t)!==t)throw Error(z(188))}function jS(t){var e=t.alternate;if(!e){if(e=si(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sy(s),t;if(i===r)return Sy(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function e_(t){return t=jS(t),t!==null?t_(t):null}function t_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t_(t);if(e!==null)return e;t=t.sibling}return null}var n_=tn.unstable_scheduleCallback,Iy=tn.unstable_cancelCallback,SS=tn.unstable_shouldYield,IS=tn.unstable_requestPaint,Be=tn.unstable_now,kS=tn.unstable_getCurrentPriorityLevel,lp=tn.unstable_ImmediatePriority,r_=tn.unstable_UserBlockingPriority,Gc=tn.unstable_NormalPriority,CS=tn.unstable_LowPriority,s_=tn.unstable_IdlePriority,$u=null,Un=null;function AS(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot($u,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:DS,PS=Math.log,RS=Math.LN2;function DS(t){return t>>>=0,t===0?32:31-(PS(t)/RS|0)|0}var Xl=64,Jl=4194304;function ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ta(l):(i&=a,i!==0&&(r=ta(i)))}else a=n&~s,a!==0?r=ta(a):i!==0&&(r=ta(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-En(e),s=1<<n,r|=t[n],e&=~s;return r}function MS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-En(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=MS(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i_(){var t=Xl;return Xl<<=1,!(Xl&4194240)&&(Xl=64),t}function fh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function VS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-En(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function cp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-En(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var me=0;function o_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a_,up,l_,c_,u_,Df=!1,Zl=[],Br=null,zr=null,$r=null,Ra=new Map,Da=new Map,Ar=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ky(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(e.pointerId)}}function $o(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=dl(e),e!==null&&up(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FS(t,e,n,r,s){switch(e){case"focusin":return Br=$o(Br,t,e,n,r,s),!0;case"dragenter":return zr=$o(zr,t,e,n,r,s),!0;case"mouseover":return $r=$o($r,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ra.set(i,$o(Ra.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Da.set(i,$o(Da.get(i)||null,t,e,n,r,s)),!0}return!1}function d_(t){var e=As(t.target);if(e!==null){var n=si(e);if(n!==null){if(e=n.tag,e===13){if(e=Zb(n),e!==null){t.blockedOn=e,u_(t.priority,function(){l_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kf=r,n.target.dispatchEvent(r),kf=null}else return e=dl(n),e!==null&&up(e),t.blockedOn=n,!1;e.shift()}return!0}function Cy(t,e,n){Tc(t)&&n.delete(e)}function US(){Df=!1,Br!==null&&Tc(Br)&&(Br=null),zr!==null&&Tc(zr)&&(zr=null),$r!==null&&Tc($r)&&($r=null),Ra.forEach(Cy),Da.forEach(Cy)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,Df||(Df=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,US)))}function Ma(t){function e(s){return Ho(s,t)}if(0<Zl.length){Ho(Zl[0],t);for(var n=1;n<Zl.length;n++){var r=Zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Br!==null&&Ho(Br,t),zr!==null&&Ho(zr,t),$r!==null&&Ho($r,t),Ra.forEach(e),Da.forEach(e),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)d_(n),n.blockedOn===null&&Ar.shift()}var $i=wr.ReactCurrentBatchConfig,Qc=!0;function BS(t,e,n,r){var s=me,i=$i.transition;$i.transition=null;try{me=1,dp(t,e,n,r)}finally{me=s,$i.transition=i}}function zS(t,e,n,r){var s=me,i=$i.transition;$i.transition=null;try{me=4,dp(t,e,n,r)}finally{me=s,$i.transition=i}}function dp(t,e,n,r){if(Qc){var s=Mf(t,e,n,r);if(s===null)Th(t,e,r,Yc,n),ky(t,r);else if(FS(s,t,e,n,r))r.stopPropagation();else if(ky(t,r),e&4&&-1<LS.indexOf(t)){for(;s!==null;){var i=dl(s);if(i!==null&&a_(i),i=Mf(t,e,n,r),i===null&&Th(t,e,r,Yc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Th(t,e,r,null,n)}}var Yc=null;function Mf(t,e,n,r){if(Yc=null,t=ap(r),t=As(t),t!==null)if(e=si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function h_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kS()){case lp:return 1;case r_:return 4;case Gc:case CS:return 16;case s_:return 536870912;default:return 16}default:return 16}}var Lr=null,hp=null,Nc=null;function f_(){if(Nc)return Nc;var t,e=hp,n=e.length,r,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Nc=s.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function Ay(){return!1}function sn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ec:Ay,this.isPropagationStopped=Ay,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=sn(xo),ul=De({},xo,{view:0,detail:0}),$S=sn(ul),mh,ph,Wo,Hu=De({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wo&&(Wo&&t.type==="mousemove"?(mh=t.screenX-Wo.screenX,ph=t.screenY-Wo.screenY):ph=mh=0,Wo=t),mh)},movementY:function(t){return"movementY"in t?t.movementY:ph}}),Py=sn(Hu),HS=De({},Hu,{dataTransfer:0}),WS=sn(HS),qS=De({},ul,{relatedTarget:0}),gh=sn(qS),GS=De({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),KS=sn(GS),QS=De({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YS=sn(QS),XS=De({},xo,{data:0}),Ry=sn(XS),JS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eI[t])?!!e[t]:!1}function mp(){return tI}var nI=De({},ul,{key:function(t){if(t.key){var e=JS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mp,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rI=sn(nI),sI=De({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dy=sn(sI),iI=De({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mp}),oI=sn(iI),aI=De({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),lI=sn(aI),cI=De({},Hu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uI=sn(cI),dI=[9,13,27,32],pp=dr&&"CompositionEvent"in window,ha=null;dr&&"documentMode"in document&&(ha=document.documentMode);var hI=dr&&"TextEvent"in window&&!ha,m_=dr&&(!pp||ha&&8<ha&&11>=ha),My=" ",Oy=!1;function p_(t,e){switch(t){case"keyup":return dI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function fI(t,e){switch(t){case"compositionend":return g_(e);case"keypress":return e.which!==32?null:(Oy=!0,My);case"textInput":return t=e.data,t===My&&Oy?null:t;default:return null}}function mI(t,e){if(Ei)return t==="compositionend"||!pp&&p_(t,e)?(t=f_(),Nc=hp=Lr=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m_&&e.locale!=="ko"?null:e.data;default:return null}}var pI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pI[t.type]:e==="textarea"}function y_(t,e,n,r){Kb(r),e=Xc(e,"onChange"),0<e.length&&(n=new fp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fa=null,Oa=null;function gI(t){I_(t,0)}function Wu(t){var e=Ii(t);if(Bb(e))return t}function yI(t,e){if(t==="change")return e}var x_=!1;if(dr){var yh;if(dr){var xh="oninput"in document;if(!xh){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),xh=typeof Ly.oninput=="function"}yh=xh}else yh=!1;x_=yh&&(!document.documentMode||9<document.documentMode)}function Fy(){fa&&(fa.detachEvent("onpropertychange",v_),Oa=fa=null)}function v_(t){if(t.propertyName==="value"&&Wu(Oa)){var e=[];y_(e,Oa,t,ap(t)),Jb(gI,e)}}function xI(t,e,n){t==="focusin"?(Fy(),fa=e,Oa=n,fa.attachEvent("onpropertychange",v_)):t==="focusout"&&Fy()}function vI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(Oa)}function wI(t,e){if(t==="click")return Wu(e)}function bI(t,e){if(t==="input"||t==="change")return Wu(e)}function _I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:_I;function Va(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yf.call(e,s)||!kn(t[s],e[s]))return!1}return!0}function Uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function By(t,e){var n=Uy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uy(n)}}function w_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b_(){for(var t=window,e=Hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TI(t){var e=b_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&w_(n.ownerDocument.documentElement,n)){if(r!==null&&gp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=By(n,i);var a=By(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NI=dr&&"documentMode"in document&&11>=document.documentMode,ji=null,Of=null,ma=null,Vf=!1;function zy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vf||ji==null||ji!==Hc(r)||(r=ji,"selectionStart"in r&&gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ma&&Va(ma,r)||(ma=r,r=Xc(Of,"onSelect"),0<r.length&&(e=new fp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ji)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},vh={},__={};dr&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function qu(t){if(vh[t])return vh[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in __)return vh[t]=e[n];return t}var T_=qu("animationend"),N_=qu("animationiteration"),E_=qu("animationstart"),j_=qu("transitionend"),S_=new Map,$y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(t,e){S_.set(t,e),ri(e,[t])}for(var wh=0;wh<$y.length;wh++){var bh=$y[wh],EI=bh.toLowerCase(),jI=bh[0].toUpperCase()+bh.slice(1);cs(EI,"on"+jI)}cs(T_,"onAnimationEnd");cs(N_,"onAnimationIteration");cs(E_,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(j_,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SI=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Hy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ES(r,e,void 0,t),t.currentTarget=null}function I_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hy(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hy(s,l,d),i=c}}}if(qc)throw t=Pf,qc=!1,Pf=null,t}function _e(t,e){var n=e[zf];n===void 0&&(n=e[zf]=new Set);var r=t+"__bubble";n.has(r)||(k_(e,t,2,!1),n.add(r))}function _h(t,e,n){var r=0;e&&(r|=4),k_(n,t,r,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[nc]){t[nc]=!0,Ob.forEach(function(n){n!=="selectionchange"&&(SI.has(n)||_h(n,!1,t),_h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,_h("selectionchange",!1,e))}}function k_(t,e,n,r){switch(h_(e)){case 1:var s=BS;break;case 4:s=zS;break;default:s=dp}n=s.bind(null,e,n,t),s=void 0,!Af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Th(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=As(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Jb(function(){var d=i,h=ap(n),f=[];e:{var m=S_.get(t);if(m!==void 0){var x=fp,b=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":x=rI;break;case"focusin":b="focus",x=gh;break;case"focusout":b="blur",x=gh;break;case"beforeblur":case"afterblur":x=gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=WS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=oI;break;case T_:case N_:case E_:x=KS;break;case j_:x=lI;break;case"scroll":x=$S;break;case"wheel":x=uI;break;case"copy":case"cut":case"paste":x=YS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Dy}var N=(e&4)!==0,C=!N&&t==="scroll",y=N?m!==null?m+"Capture":null:m;N=[];for(var g=d,w;g!==null;){w=g;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=Pa(g,y),k!=null&&N.push(Fa(g,k,w)))),C)break;g=g.return}0<N.length&&(m=new x(m,b,null,n,h),f.push({event:m,listeners:N}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==kf&&(b=n.relatedTarget||n.fromElement)&&(As(b)||b[hr]))break e;if((x||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=d,b=b?As(b):null,b!==null&&(C=si(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(N=Py,k="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(N=Dy,k="onPointerLeave",y="onPointerEnter",g="pointer"),C=x==null?m:Ii(x),w=b==null?m:Ii(b),m=new N(k,g+"leave",x,n,h),m.target=C,m.relatedTarget=w,k=null,As(h)===d&&(N=new N(y,g+"enter",b,n,h),N.target=w,N.relatedTarget=C,k=N),C=k,x&&b)t:{for(N=x,y=b,g=0,w=N;w;w=xi(w))g++;for(w=0,k=y;k;k=xi(k))w++;for(;0<g-w;)N=xi(N),g--;for(;0<w-g;)y=xi(y),w--;for(;g--;){if(N===y||y!==null&&N===y.alternate)break t;N=xi(N),y=xi(y)}N=null}else N=null;x!==null&&Wy(f,m,x,N,!1),b!==null&&C!==null&&Wy(f,C,b,N,!0)}}e:{if(m=d?Ii(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var M=yI;else if(Vy(m))if(x_)M=bI;else{M=vI;var O=xI}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=wI);if(M&&(M=M(t,d))){y_(f,M,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Nf(m,"number",m.value)}switch(O=d?Ii(d):window,t){case"focusin":(Vy(O)||O.contentEditable==="true")&&(ji=O,Of=d,ma=null);break;case"focusout":ma=Of=ji=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,zy(f,n,h);break;case"selectionchange":if(NI)break;case"keydown":case"keyup":zy(f,n,h)}var _;if(pp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ei?p_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(m_&&n.locale!=="ko"&&(Ei||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ei&&(_=f_()):(Lr=h,hp="value"in Lr?Lr.value:Lr.textContent,Ei=!0)),O=Xc(d,T),0<O.length&&(T=new Ry(T,t,null,n,h),f.push({event:T,listeners:O}),_?T.data=_:(_=g_(n),_!==null&&(T.data=_)))),(_=hI?fI(t,n):mI(t,n))&&(d=Xc(d,"onBeforeInput"),0<d.length&&(h=new Ry("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=_))}I_(f,e)})}function Fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pa(t,n),i!=null&&r.unshift(Fa(t,i,s)),i=Pa(t,e),i!=null&&r.push(Fa(t,i,s))),t=t.return}return r}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wy(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Pa(n,i),c!=null&&a.unshift(Fa(n,c,l))):s||(c=Pa(n,i),c!=null&&a.push(Fa(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var II=/\r\n?/g,kI=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(II,`
`).replace(kI,"")}function rc(t,e,n){if(e=qy(e),qy(t)!==e&&n)throw Error(z(425))}function Jc(){}var Lf=null,Ff=null;function Uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bf=typeof setTimeout=="function"?setTimeout:void 0,CI=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,AI=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(PI)}:Bf;function PI(t){setTimeout(function(){throw t})}function Nh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ma(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ma(e)}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ky(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vo=Math.random().toString(36).slice(2),On="__reactFiber$"+vo,Ua="__reactProps$"+vo,hr="__reactContainer$"+vo,zf="__reactEvents$"+vo,RI="__reactListeners$"+vo,DI="__reactHandles$"+vo;function As(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hr]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ky(t);t!==null;){if(n=t[On])return n;t=Ky(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[On]||t[hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Gu(t){return t[Ua]||null}var $f=[],ki=-1;function us(t){return{current:t}}function Ne(t){0>ki||(t.current=$f[ki],$f[ki]=null,ki--)}function ve(t,e){ki++,$f[ki]=t.current,t.current=e}var ns={},Et=us(ns),Bt=us(!1),$s=ns;function Ji(t,e){var n=t.type.contextTypes;if(!n)return ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zt(t){return t=t.childContextTypes,t!=null}function Zc(){Ne(Bt),Ne(Et)}function Qy(t,e,n){if(Et.current!==ns)throw Error(z(168));ve(Et,e),ve(Bt,n)}function C_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,xS(t)||"Unknown",s));return De({},n,r)}function eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,$s=Et.current,ve(Et,t),ve(Bt,Bt.current),!0}function Yy(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=C_(t,e,$s),r.__reactInternalMemoizedMergedChildContext=t,Ne(Bt),Ne(Et),ve(Et,t)):Ne(Bt),ve(Bt,n)}var er=null,Ku=!1,Eh=!1;function A_(t){er===null?er=[t]:er.push(t)}function MI(t){Ku=!0,A_(t)}function ds(){if(!Eh&&er!==null){Eh=!0;var t=0,e=me;try{var n=er;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}er=null,Ku=!1}catch(s){throw er!==null&&(er=er.slice(t+1)),n_(lp,ds),s}finally{me=e,Eh=!1}}return null}var Ci=[],Ai=0,tu=null,nu=0,hn=[],fn=0,Hs=null,tr=1,nr="";function Ns(t,e){Ci[Ai++]=nu,Ci[Ai++]=tu,tu=t,nu=e}function P_(t,e,n){hn[fn++]=tr,hn[fn++]=nr,hn[fn++]=Hs,Hs=t;var r=tr;t=nr;var s=32-En(r)-1;r&=~(1<<s),n+=1;var i=32-En(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,tr=1<<32-En(e)+s|n<<s|r,nr=i+t}else tr=1<<i|n<<s|r,nr=t}function yp(t){t.return!==null&&(Ns(t,1),P_(t,1,0))}function xp(t){for(;t===tu;)tu=Ci[--Ai],Ci[Ai]=null,nu=Ci[--Ai],Ci[Ai]=null;for(;t===Hs;)Hs=hn[--fn],hn[fn]=null,nr=hn[--fn],hn[fn]=null,tr=hn[--fn],hn[fn]=null}var Zt=null,Yt=null,Se=!1,Nn=null;function R_(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=Hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hs!==null?{id:tr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Yt=null,!0):!1;default:return!1}}function Hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wf(t){if(Se){var e=Yt;if(e){var n=e;if(!Xy(t,e)){if(Hf(t))throw Error(z(418));e=Hr(n.nextSibling);var r=Zt;e&&Xy(t,e)?R_(r,n):(t.flags=t.flags&-4097|2,Se=!1,Zt=t)}}else{if(Hf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Se=!1,Zt=t}}}function Jy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function sc(t){if(t!==Zt)return!1;if(!Se)return Jy(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uf(t.type,t.memoizedProps)),e&&(e=Yt)){if(Hf(t))throw D_(),Error(z(418));for(;e;)R_(t,e),e=Hr(e.nextSibling)}if(Jy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Zt?Hr(t.stateNode.nextSibling):null;return!0}function D_(){for(var t=Yt;t;)t=Hr(t.nextSibling)}function Zi(){Yt=Zt=null,Se=!1}function vp(t){Nn===null?Nn=[t]:Nn.push(t)}var OI=wr.ReactCurrentBatchConfig;function qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ic(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zy(t){var e=t._init;return e(t._payload)}function M_(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Kr(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,g,w,k){return g===null||g.tag!==6?(g=Ph(w,y.mode,k),g.return=y,g):(g=s(g,w),g.return=y,g)}function c(y,g,w,k){var M=w.type;return M===Ni?h(y,g,w.props.children,k,w.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ir&&Zy(M)===g.type)?(k=s(g,w.props),k.ref=qo(y,g,w),k.return=y,k):(k=Pc(w.type,w.key,w.props,null,y.mode,k),k.ref=qo(y,g,w),k.return=y,k)}function d(y,g,w,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Rh(w,y.mode,k),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function h(y,g,w,k,M){return g===null||g.tag!==7?(g=Ls(w,y.mode,k,M),g.return=y,g):(g=s(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ph(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Kl:return w=Pc(g.type,g.key,g.props,null,y.mode,w),w.ref=qo(y,null,g),w.return=y,w;case Ti:return g=Rh(g,y.mode,w),g.return=y,g;case Ir:var k=g._init;return f(y,k(g._payload),w)}if(ea(g)||Bo(g))return g=Ls(g,y.mode,w,null),g.return=y,g;ic(y,g)}return null}function m(y,g,w,k){var M=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:l(y,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kl:return w.key===M?c(y,g,w,k):null;case Ti:return w.key===M?d(y,g,w,k):null;case Ir:return M=w._init,m(y,g,M(w._payload),k)}if(ea(w)||Bo(w))return M!==null?null:h(y,g,w,k,null);ic(y,w)}return null}function x(y,g,w,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,l(g,y,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kl:return y=y.get(k.key===null?w:k.key)||null,c(g,y,k,M);case Ti:return y=y.get(k.key===null?w:k.key)||null,d(g,y,k,M);case Ir:var O=k._init;return x(y,g,w,O(k._payload),M)}if(ea(k)||Bo(k))return y=y.get(w)||null,h(g,y,k,M,null);ic(g,k)}return null}function b(y,g,w,k){for(var M=null,O=null,_=g,T=g=0,E=null;_!==null&&T<w.length;T++){_.index>T?(E=_,_=null):E=_.sibling;var S=m(y,_,w[T],k);if(S===null){_===null&&(_=E);break}t&&_&&S.alternate===null&&e(y,_),g=i(S,g,T),O===null?M=S:O.sibling=S,O=S,_=E}if(T===w.length)return n(y,_),Se&&Ns(y,T),M;if(_===null){for(;T<w.length;T++)_=f(y,w[T],k),_!==null&&(g=i(_,g,T),O===null?M=_:O.sibling=_,O=_);return Se&&Ns(y,T),M}for(_=r(y,_);T<w.length;T++)E=x(_,y,T,w[T],k),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?T:E.key),g=i(E,g,T),O===null?M=E:O.sibling=E,O=E);return t&&_.forEach(function(P){return e(y,P)}),Se&&Ns(y,T),M}function N(y,g,w,k){var M=Bo(w);if(typeof M!="function")throw Error(z(150));if(w=M.call(w),w==null)throw Error(z(151));for(var O=M=null,_=g,T=g=0,E=null,S=w.next();_!==null&&!S.done;T++,S=w.next()){_.index>T?(E=_,_=null):E=_.sibling;var P=m(y,_,S.value,k);if(P===null){_===null&&(_=E);break}t&&_&&P.alternate===null&&e(y,_),g=i(P,g,T),O===null?M=P:O.sibling=P,O=P,_=E}if(S.done)return n(y,_),Se&&Ns(y,T),M;if(_===null){for(;!S.done;T++,S=w.next())S=f(y,S.value,k),S!==null&&(g=i(S,g,T),O===null?M=S:O.sibling=S,O=S);return Se&&Ns(y,T),M}for(_=r(y,_);!S.done;T++,S=w.next())S=x(_,y,T,S.value,k),S!==null&&(t&&S.alternate!==null&&_.delete(S.key===null?T:S.key),g=i(S,g,T),O===null?M=S:O.sibling=S,O=S);return t&&_.forEach(function(R){return e(y,R)}),Se&&Ns(y,T),M}function C(y,g,w,k){if(typeof w=="object"&&w!==null&&w.type===Ni&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kl:e:{for(var M=w.key,O=g;O!==null;){if(O.key===M){if(M=w.type,M===Ni){if(O.tag===7){n(y,O.sibling),g=s(O,w.props.children),g.return=y,y=g;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ir&&Zy(M)===O.type){n(y,O.sibling),g=s(O,w.props),g.ref=qo(y,O,w),g.return=y,y=g;break e}n(y,O);break}else e(y,O);O=O.sibling}w.type===Ni?(g=Ls(w.props.children,y.mode,k,w.key),g.return=y,y=g):(k=Pc(w.type,w.key,w.props,null,y.mode,k),k.ref=qo(y,g,w),k.return=y,y=k)}return a(y);case Ti:e:{for(O=w.key;g!==null;){if(g.key===O)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Rh(w,y.mode,k),g.return=y,y=g}return a(y);case Ir:return O=w._init,C(y,g,O(w._payload),k)}if(ea(w))return b(y,g,w,k);if(Bo(w))return N(y,g,w,k);ic(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,w),g.return=y,y=g):(n(y,g),g=Ph(w,y.mode,k),g.return=y,y=g),a(y)):n(y,g)}return C}var eo=M_(!0),O_=M_(!1),ru=us(null),su=null,Pi=null,wp=null;function bp(){wp=Pi=su=null}function _p(t){var e=ru.current;Ne(ru),t._currentValue=e}function qf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hi(t,e){su=t,wp=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(wp!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if(su===null)throw Error(z(308));Pi=t,su.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var Ps=null;function Tp(t){Ps===null?Ps=[t]:Ps.push(t)}function V_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tp(e)):(n.next=s.next,s.next=n),e.interleaved=n,fr(t,r)}function fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kr=!1;function Np(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fr(t,n)}return s=r.interleaved,s===null?(e.next=e,Tp(r)):(e.next=s.next,s.next=e),r.interleaved=e,fr(t,n)}function jc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cp(t,n)}}function ex(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function iu(t,e,n,r){var s=t.updateQueue;kr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=d=c=null,l=i;do{var m=l.lane,x=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,N=l;switch(m=e,x=n,N.tag){case 1:if(b=N.payload,typeof b=="function"){f=b.call(x,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,m=typeof b=="function"?b.call(x,f,m):b,m==null)break e;f=De({},f,m);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=x,c=f):h=h.next=x,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qs|=a,t.lanes=a,t.memoizedState=f}}function tx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var hl={},Bn=us(hl),Ba=us(hl),za=us(hl);function Rs(t){if(t===hl)throw Error(z(174));return t}function Ep(t,e){switch(ve(za,e),ve(Ba,t),ve(Bn,hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jf(e,t)}Ne(Bn),ve(Bn,e)}function to(){Ne(Bn),Ne(Ba),Ne(za)}function F_(t){Rs(za.current);var e=Rs(Bn.current),n=jf(e,t.type);e!==n&&(ve(Ba,t),ve(Bn,n))}function jp(t){Ba.current===t&&(Ne(Bn),Ne(Ba))}var Ae=us(0);function ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jh=[];function Sp(){for(var t=0;t<jh.length;t++)jh[t]._workInProgressVersionPrimary=null;jh.length=0}var Sc=wr.ReactCurrentDispatcher,Sh=wr.ReactCurrentBatchConfig,Ws=0,Re=null,Ke=null,Je=null,au=!1,pa=!1,$a=0,VI=0;function gt(){throw Error(z(321))}function Ip(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function kp(t,e,n,r,s,i){if(Ws=i,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sc.current=t===null||t.memoizedState===null?BI:zI,t=n(r,s),pa){i=0;do{if(pa=!1,$a=0,25<=i)throw Error(z(301));i+=1,Je=Ke=null,e.updateQueue=null,Sc.current=$I,t=n(r,s)}while(pa)}if(Sc.current=lu,e=Ke!==null&&Ke.next!==null,Ws=0,Je=Ke=Re=null,au=!1,e)throw Error(z(300));return t}function Cp(){var t=$a!==0;return $a=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Re.memoizedState=Je=t:Je=Je.next=t,Je}function yn(){if(Ke===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=Je===null?Re.memoizedState:Je.next;if(e!==null)Je=e,Ke=t;else{if(t===null)throw Error(z(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Je===null?Re.memoizedState=Je=t:Je=Je.next=t}return Je}function Ha(t,e){return typeof e=="function"?e(t):e}function Ih(t){var e=yn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((Ws&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Re.lanes|=h,qs|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,kn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Re.lanes|=i,qs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kh(t){var e=yn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);kn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function U_(){}function B_(t,e){var n=Re,r=yn(),s=e(),i=!kn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ut=!0),r=r.queue,Ap(H_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Wa(9,$_.bind(null,n,r,s,e),void 0,null),Ze===null)throw Error(z(349));Ws&30||z_(n,e,s)}return s}function z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $_(t,e,n,r){e.value=n,e.getSnapshot=r,W_(e)&&q_(t)}function H_(t,e,n){return n(function(){W_(e)&&q_(t)})}function W_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function q_(t){var e=fr(t,1);e!==null&&jn(e,t,1,-1)}function nx(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=UI.bind(null,Re,t),[e.memoizedState,t]}function Wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G_(){return yn().memoizedState}function Ic(t,e,n,r){var s=Mn();Re.flags|=t,s.memoizedState=Wa(1|e,n,void 0,r===void 0?null:r)}function Qu(t,e,n,r){var s=yn();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var a=Ke.memoizedState;if(i=a.destroy,r!==null&&Ip(r,a.deps)){s.memoizedState=Wa(e,n,i,r);return}}Re.flags|=t,s.memoizedState=Wa(1|e,n,i,r)}function rx(t,e){return Ic(8390656,8,t,e)}function Ap(t,e){return Qu(2048,8,t,e)}function K_(t,e){return Qu(4,2,t,e)}function Q_(t,e){return Qu(4,4,t,e)}function Y_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X_(t,e,n){return n=n!=null?n.concat([t]):null,Qu(4,4,Y_.bind(null,e,t),n)}function Pp(){}function J_(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ip(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Z_(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ip(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function e1(t,e,n){return Ws&21?(kn(n,e)||(n=i_(),Re.lanes|=n,qs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function LI(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Sh.transition;Sh.transition={};try{t(!1),e()}finally{me=n,Sh.transition=r}}function t1(){return yn().memoizedState}function FI(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n1(t))r1(e,n);else if(n=V_(t,e,n,r),n!==null){var s=Rt();jn(n,t,r,s),s1(n,e,r)}}function UI(t,e,n){var r=Gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n1(t))r1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,kn(l,a)){var c=e.interleaved;c===null?(s.next=s,Tp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=V_(t,e,s,r),n!==null&&(s=Rt(),jn(n,t,r,s),s1(n,e,r))}}function n1(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function r1(t,e){pa=au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cp(t,n)}}var lu={readContext:gn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},BI={readContext:gn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:rx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,Y_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FI.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:nx,useDebugValue:Pp,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=nx(!1),e=t[0];return t=LI.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,s=Mn();if(Se){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ze===null)throw Error(z(349));Ws&30||z_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rx(H_.bind(null,r,i,t),[t]),r.flags|=2048,Wa(9,$_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mn(),e=Ze.identifierPrefix;if(Se){var n=nr,r=tr;n=(r&~(1<<32-En(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zI={readContext:gn,useCallback:J_,useContext:gn,useEffect:Ap,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Q_,useMemo:Z_,useReducer:Ih,useRef:G_,useState:function(){return Ih(Ha)},useDebugValue:Pp,useDeferredValue:function(t){var e=yn();return e1(e,Ke.memoizedState,t)},useTransition:function(){var t=Ih(Ha)[0],e=yn().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:B_,useId:t1,unstable_isNewReconciler:!1},$I={readContext:gn,useCallback:J_,useContext:gn,useEffect:Ap,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Q_,useMemo:Z_,useReducer:kh,useRef:G_,useState:function(){return kh(Ha)},useDebugValue:Pp,useDeferredValue:function(t){var e=yn();return Ke===null?e.memoizedState=t:e1(e,Ke.memoizedState,t)},useTransition:function(){var t=kh(Ha)[0],e=yn().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:B_,useId:t1,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yu={isMounted:function(t){return(t=t._reactInternals)?si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Gr(t),i=lr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Wr(t,i,s),e!==null&&(jn(e,t,s,r),jc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Gr(t),i=lr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Wr(t,i,s),e!==null&&(jn(e,t,s,r),jc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Gr(t),s=lr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Wr(t,s,r),e!==null&&(jn(e,t,r,n),jc(e,t,r))}};function sx(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Va(n,r)||!Va(s,i):!0}function i1(t,e,n){var r=!1,s=ns,i=e.contextType;return typeof i=="object"&&i!==null?i=gn(i):(s=zt(e)?$s:Et.current,r=e.contextTypes,i=(r=r!=null)?Ji(t,s):ns),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ix(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yu.enqueueReplaceState(e,e.state,null)}function Kf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Np(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gn(i):(i=zt(e)?$s:Et.current,s.context=Ji(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yu.enqueueReplaceState(s,s.state,null),iu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e){try{var n="",r=e;do n+=yS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HI=typeof WeakMap=="function"?WeakMap:Map;function o1(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uu||(uu=!0,im=r),Qf(t,e)},n}function a1(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Qf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qf(t,e),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ox(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sk.bind(null,t,e,n),e.then(t,t))}function ax(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,Wr(n,e,1))),n.lanes|=1),t)}var WI=wr.ReactCurrentOwner,Ut=!1;function Pt(t,e,n,r){e.child=t===null?O_(e,null,n,r):eo(e,t.child,n,r)}function cx(t,e,n,r,s){n=n.render;var i=e.ref;return Hi(e,s),r=kp(t,e,n,r,i,s),n=Cp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mr(t,e,s)):(Se&&n&&yp(e),e.flags|=1,Pt(t,e,r,s),e.child)}function ux(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Up(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,l1(t,e,i,r,s)):(t=Pc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Va,n(a,r)&&t.ref===e.ref)return mr(t,e,s)}return e.flags|=1,t=Kr(i,r),t.ref=e.ref,t.return=e,e.child=t}function l1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Va(i,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,mr(t,e,s)}return Yf(t,e,n,r,s)}function c1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Di,Qt),Qt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(Di,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ve(Di,Qt),Qt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ve(Di,Qt),Qt|=r;return Pt(t,e,s,n),e.child}function u1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yf(t,e,n,r,s){var i=zt(n)?$s:Et.current;return i=Ji(e,i),Hi(e,s),n=kp(t,e,n,r,i,s),r=Cp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mr(t,e,s)):(Se&&r&&yp(e),e.flags|=1,Pt(t,e,n,s),e.child)}function dx(t,e,n,r,s){if(zt(n)){var i=!0;eu(e)}else i=!1;if(Hi(e,s),e.stateNode===null)kc(t,e),i1(e,n,r),Kf(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=gn(d):(d=zt(n)?$s:Et.current,d=Ji(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ix(e,a,r,d),kr=!1;var m=e.memoizedState;a.state=m,iu(e,r,a,s),c=e.memoizedState,l!==r||m!==c||Bt.current||kr?(typeof h=="function"&&(Gf(e,n,h,r),c=e.memoizedState),(l=kr||sx(e,n,l,r,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,L_(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:_n(e.type,l),a.props=d,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=gn(c):(c=zt(n)?$s:Et.current,c=Ji(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ix(e,a,r,c),kr=!1,m=e.memoizedState,a.state=m,iu(e,r,a,s);var b=e.memoizedState;l!==f||m!==b||Bt.current||kr?(typeof x=="function"&&(Gf(e,n,x,r),b=e.memoizedState),(d=kr||sx(e,n,d,r,m,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Xf(t,e,n,r,i,s)}function Xf(t,e,n,r,s,i){u1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Yy(e,n,!1),mr(t,e,i);r=e.stateNode,WI.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=eo(e,t.child,null,i),e.child=eo(e,null,l,i)):Pt(t,e,l,i),e.memoizedState=r.state,s&&Yy(e,n,!0),e.child}function d1(t){var e=t.stateNode;e.pendingContext?Qy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qy(t,e.context,!1),Ep(t,e.containerInfo)}function hx(t,e,n,r,s){return Zi(),vp(s),e.flags|=256,Pt(t,e,n,r),e.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function Zf(t){return{baseLanes:t,cachePool:null,transitions:null}}function h1(t,e,n){var r=e.pendingProps,s=Ae.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ve(Ae,s&1),t===null)return Wf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Zu(a,r,0,null),t=Ls(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zf(n),e.memoizedState=Jf,t):Rp(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return qI(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Kr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kr(l,i):(i=Ls(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Zf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Jf,r}return i=t.child,t=i.sibling,r=Kr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rp(t,e){return e=Zu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oc(t,e,n,r){return r!==null&&vp(r),eo(e,t.child,null,n),t=Rp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qI(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ch(Error(z(422))),oc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zu({mode:"visible",children:r.children},s,0,null),i=Ls(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&eo(e,t.child,null,a),e.child.memoizedState=Zf(a),e.memoizedState=Jf,i);if(!(e.mode&1))return oc(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(z(419)),r=Ch(i,r,void 0),oc(t,e,a,r)}if(l=(a&t.childLanes)!==0,Ut||l){if(r=Ze,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fr(t,s),jn(r,t,s,-1))}return Fp(),r=Ch(Error(z(421))),oc(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ik.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yt=Hr(s.nextSibling),Zt=e,Se=!0,Nn=null,t!==null&&(hn[fn++]=tr,hn[fn++]=nr,hn[fn++]=Hs,tr=t.id,nr=t.overflow,Hs=e),e=Rp(e,r.children),e.flags|=4096,e)}function fx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qf(t.return,e,n)}function Ah(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function f1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fx(t,n,e);else if(t.tag===19)fx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ou(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ah(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ou(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ah(e,!0,n,null,i);break;case"together":Ah(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GI(t,e,n){switch(e.tag){case 3:d1(e),Zi();break;case 5:F_(e);break;case 1:zt(e.type)&&eu(e);break;case 4:Ep(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ve(ru,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?h1(t,e,n):(ve(Ae,Ae.current&1),t=mr(t,e,n),t!==null?t.sibling:null);ve(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,c1(t,e,n)}return mr(t,e,n)}var m1,em,p1,g1;m1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};em=function(){};p1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Rs(Bn.current);var i=null;switch(n){case"input":s=_f(t,s),r=_f(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=Ef(t,s),r=Ef(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jc)}Sf(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ca.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&_e("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};g1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Go(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KI(t,e,n){var r=e.pendingProps;switch(xp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return zt(e.type)&&Zc(),yt(e),null;case 3:return r=e.stateNode,to(),Ne(Bt),Ne(Et),Sp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(lm(Nn),Nn=null))),em(t,e),yt(e),null;case 5:jp(e);var s=Rs(za.current);if(n=e.type,t!==null&&e.stateNode!=null)p1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return yt(e),null}if(t=Rs(Bn.current),sc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[On]=e,r[Ua]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<na.length;s++)_e(na[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":_y(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Ny(r,i),_e("invalid",r)}Sf(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&rc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&rc(r.textContent,l,t),s=["children",""+l]):Ca.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&_e("scroll",r)}switch(n){case"input":Ql(r),Ty(r,i,!0);break;case"textarea":Ql(r),Ey(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[On]=e,t[Ua]=r,m1(t,e,!1,!1),e.stateNode=t;e:{switch(a=If(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<na.length;s++)_e(na[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":_y(t,r),s=_f(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Ny(t,r),s=Ef(t,r),_e("invalid",t);break;default:s=r}Sf(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Gb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Aa(t,c):typeof c=="number"&&Aa(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ca.hasOwnProperty(i)?c!=null&&i==="onScroll"&&_e("scroll",t):c!=null&&rp(t,i,c,a))}switch(n){case"input":Ql(t),Ty(t,r,!1);break;case"textarea":Ql(t),Ey(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ts(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ui(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ui(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)g1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Rs(za.current),Rs(Bn.current),sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(i=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return yt(e),null;case 13:if(Ne(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Yt!==null&&e.mode&1&&!(e.flags&128))D_(),Zi(),e.flags|=98560,i=!1;else if(i=sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[On]=e}else Zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),i=!1}else Nn!==null&&(lm(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Qe===0&&(Qe=3):Fp())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return to(),em(t,e),t===null&&La(e.stateNode.containerInfo),yt(e),null;case 10:return _p(e.type._context),yt(e),null;case 17:return zt(e.type)&&Zc(),yt(e),null;case 19:if(Ne(Ae),i=e.memoizedState,i===null)return yt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Go(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ou(t),a!==null){for(e.flags|=128,Go(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Be()>ro&&(e.flags|=128,r=!0,Go(i,!1),e.lanes=4194304)}else{if(!r)if(t=ou(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Se)return yt(e),null}else 2*Be()-i.renderingStartTime>ro&&n!==1073741824&&(e.flags|=128,r=!0,Go(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Be(),e.sibling=null,n=Ae.current,ve(Ae,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Lp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function QI(t,e){switch(xp(e),e.tag){case 1:return zt(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return to(),Ne(Bt),Ne(Et),Sp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jp(e),null;case 13:if(Ne(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ae),null;case 4:return to(),null;case 10:return _p(e.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var ac=!1,bt=!1,YI=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function tm(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var mx=!1;function XI(t,e){if(Lf=Qc,t=b_(),gp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===t)break t;if(m===n&&++d===s&&(l=a),m===i&&++h===r&&(c=a),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ff={focusedElem:t,selectionRange:n},Qc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,C=b.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?N:_n(e.type,N),C);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Ve(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return b=mx,mx=!1,b}function ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tm(e,n,i)}s=s.next}while(s!==r)}}function Xu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function y1(t){var e=t.alternate;e!==null&&(t.alternate=null,y1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Ua],delete e[zf],delete e[RI],delete e[DI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x1(t){return t.tag===5||t.tag===3||t.tag===4}function px(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jc));else if(r!==4&&(t=t.child,t!==null))for(rm(t,e,n),t=t.sibling;t!==null;)rm(t,e,n),t=t.sibling}function sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sm(t,e,n),t=t.sibling;t!==null;)sm(t,e,n),t=t.sibling}var it=null,Tn=!1;function Nr(t,e,n){for(n=n.child;n!==null;)v1(t,e,n),n=n.sibling}function v1(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount($u,n)}catch{}switch(n.tag){case 5:bt||Ri(n,e);case 6:var r=it,s=Tn;it=null,Nr(t,e,n),it=r,Tn=s,it!==null&&(Tn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(Tn?(t=it,n=n.stateNode,t.nodeType===8?Nh(t.parentNode,n):t.nodeType===1&&Nh(t,n),Ma(t)):Nh(it,n.stateNode));break;case 4:r=it,s=Tn,it=n.stateNode.containerInfo,Tn=!0,Nr(t,e,n),it=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&tm(n,e,a),s=s.next}while(s!==r)}Nr(t,e,n);break;case 1:if(!bt&&(Ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ve(n,e,l)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Nr(t,e,n),bt=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YI),e.forEach(function(r){var s=ok.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,Tn=!1;break e;case 3:it=l.stateNode.containerInfo,Tn=!0;break e;case 4:it=l.stateNode.containerInfo,Tn=!0;break e}l=l.return}if(it===null)throw Error(z(160));v1(i,a,s),it=null,Tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ve(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w1(e,t),e=e.sibling}function w1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Dn(t),r&4){try{ga(3,t,t.return),Xu(3,t)}catch(N){Ve(t,t.return,N)}try{ga(5,t,t.return)}catch(N){Ve(t,t.return,N)}}break;case 1:bn(e,t),Dn(t),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(bn(e,t),Dn(t),r&512&&n!==null&&Ri(n,n.return),t.flags&32){var s=t.stateNode;try{Aa(s,"")}catch(N){Ve(t,t.return,N)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&zb(s,i),If(l,a);var d=If(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?Gb(s,f):h==="dangerouslySetInnerHTML"?Wb(s,f):h==="children"?Aa(s,f):rp(s,h,f,d)}switch(l){case"input":Tf(s,i);break;case"textarea":$b(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ui(s,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ui(s,!!i.multiple,i.defaultValue,!0):Ui(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ua]=i}catch(N){Ve(t,t.return,N)}}break;case 6:if(bn(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){Ve(t,t.return,N)}}break;case 3:if(bn(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ma(e.containerInfo)}catch(N){Ve(t,t.return,N)}break;case 4:bn(e,t),Dn(t);break;case 13:bn(e,t),Dn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Op=Be())),r&4&&gx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(d=bt)||h,bn(e,t),bt=d):bn(e,t),Dn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(m=H,x=m.child,m.tag){case 0:case 11:case 14:case 15:ga(4,m,m.return);break;case 1:Ri(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(N){Ve(r,n,N)}}break;case 5:Ri(m,m.return);break;case 22:if(m.memoizedState!==null){xx(f);continue}}x!==null?(x.return=m,H=x):xx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qb("display",a))}catch(N){Ve(t,t.return,N)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(N){Ve(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(e,t),Dn(t),r&4&&gx(t);break;case 21:break;default:bn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Aa(s,""),r.flags&=-33);var i=px(t);sm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=px(t);rm(t,l,a);break;default:throw Error(z(161))}}catch(c){Ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JI(t,e,n){H=t,b1(t)}function b1(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ac;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||bt;l=ac;var d=bt;if(ac=a,(bt=c)&&!d)for(H=s;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?vx(s):c!==null?(c.return=a,H=c):vx(s);for(;i!==null;)H=i,b1(i),i=i.sibling;H=s,ac=l,bt=d}yx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):yx(t)}}function yx(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Xu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tx(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tx(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ma(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}bt||e.flags&512&&nm(e)}catch(m){Ve(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function xx(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function vx(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xu(4,e)}catch(c){Ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ve(e,s,c)}}var i=e.return;try{nm(e)}catch(c){Ve(e,i,c)}break;case 5:var a=e.return;try{nm(e)}catch(c){Ve(e,a,c)}}}catch(c){Ve(e,e.return,c)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var ZI=Math.ceil,cu=wr.ReactCurrentDispatcher,Dp=wr.ReactCurrentOwner,pn=wr.ReactCurrentBatchConfig,ce=0,Ze=null,qe=null,lt=0,Qt=0,Di=us(0),Qe=0,qa=null,qs=0,Ju=0,Mp=0,ya=null,Lt=null,Op=0,ro=1/0,Zn=null,uu=!1,im=null,qr=null,lc=!1,Fr=null,du=0,xa=0,om=null,Cc=-1,Ac=0;function Rt(){return ce&6?Be():Cc!==-1?Cc:Cc=Be()}function Gr(t){return t.mode&1?ce&2&&lt!==0?lt&-lt:OI.transition!==null?(Ac===0&&(Ac=i_()),Ac):(t=me,t!==0||(t=window.event,t=t===void 0?16:h_(t.type)),t):1}function jn(t,e,n,r){if(50<xa)throw xa=0,om=null,Error(z(185));cl(t,n,r),(!(ce&2)||t!==Ze)&&(t===Ze&&(!(ce&2)&&(Ju|=n),Qe===4&&Pr(t,lt)),$t(t,r),n===1&&ce===0&&!(e.mode&1)&&(ro=Be()+500,Ku&&ds()))}function $t(t,e){var n=t.callbackNode;OS(t,e);var r=Kc(t,t===Ze?lt:0);if(r===0)n!==null&&Iy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Iy(n),e===1)t.tag===0?MI(wx.bind(null,t)):A_(wx.bind(null,t)),AI(function(){!(ce&6)&&ds()}),n=null;else{switch(o_(r)){case 1:n=lp;break;case 4:n=r_;break;case 16:n=Gc;break;case 536870912:n=s_;break;default:n=Gc}n=k1(n,_1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _1(t,e){if(Cc=-1,Ac=0,ce&6)throw Error(z(327));var n=t.callbackNode;if(Wi()&&t.callbackNode!==n)return null;var r=Kc(t,t===Ze?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hu(t,r);else{e=r;var s=ce;ce|=2;var i=N1();(Ze!==t||lt!==e)&&(Zn=null,ro=Be()+500,Vs(t,e));do try{nk();break}catch(l){T1(t,l)}while(!0);bp(),cu.current=i,ce=s,qe!==null?e=0:(Ze=null,lt=0,e=Qe)}if(e!==0){if(e===2&&(s=Rf(t),s!==0&&(r=s,e=am(t,s))),e===1)throw n=qa,Vs(t,0),Pr(t,r),$t(t,Be()),n;if(e===6)Pr(t,r);else{if(s=t.current.alternate,!(r&30)&&!ek(s)&&(e=hu(t,r),e===2&&(i=Rf(t),i!==0&&(r=i,e=am(t,i))),e===1))throw n=qa,Vs(t,0),Pr(t,r),$t(t,Be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Es(t,Lt,Zn);break;case 3:if(Pr(t,r),(r&130023424)===r&&(e=Op+500-Be(),10<e)){if(Kc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bf(Es.bind(null,t,Lt,Zn),e);break}Es(t,Lt,Zn);break;case 4:if(Pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-En(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZI(r/1960))-r,10<r){t.timeoutHandle=Bf(Es.bind(null,t,Lt,Zn),r);break}Es(t,Lt,Zn);break;case 5:Es(t,Lt,Zn);break;default:throw Error(z(329))}}}return $t(t,Be()),t.callbackNode===n?_1.bind(null,t):null}function am(t,e){var n=ya;return t.current.memoizedState.isDehydrated&&(Vs(t,e).flags|=256),t=hu(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&lm(e)),t}function lm(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function ek(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pr(t,e){for(e&=~Mp,e&=~Ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),r=1<<n;t[n]=-1,e&=~r}}function wx(t){if(ce&6)throw Error(z(327));Wi();var e=Kc(t,0);if(!(e&1))return $t(t,Be()),null;var n=hu(t,e);if(t.tag!==0&&n===2){var r=Rf(t);r!==0&&(e=r,n=am(t,r))}if(n===1)throw n=qa,Vs(t,0),Pr(t,e),$t(t,Be()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,Lt,Zn),$t(t,Be()),null}function Vp(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(ro=Be()+500,Ku&&ds())}}function Gs(t){Fr!==null&&Fr.tag===0&&!(ce&6)&&Wi();var e=ce;ce|=1;var n=pn.transition,r=me;try{if(pn.transition=null,me=1,t)return t()}finally{me=r,pn.transition=n,ce=e,!(ce&6)&&ds()}}function Lp(){Qt=Di.current,Ne(Di)}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CI(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zc();break;case 3:to(),Ne(Bt),Ne(Et),Sp();break;case 5:jp(r);break;case 4:to();break;case 13:Ne(Ae);break;case 19:Ne(Ae);break;case 10:_p(r.type._context);break;case 22:case 23:Lp()}n=n.return}if(Ze=t,qe=t=Kr(t.current,null),lt=Qt=e,Qe=0,qa=null,Mp=Ju=qs=0,Lt=ya=null,Ps!==null){for(e=0;e<Ps.length;e++)if(n=Ps[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ps=null}return t}function T1(t,e){do{var n=qe;try{if(bp(),Sc.current=lu,au){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}au=!1}if(Ws=0,Je=Ke=Re=null,pa=!1,$a=0,Dp.current=null,n===null||n.return===null){Qe=1,qa=e,qe=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=ax(a);if(x!==null){x.flags&=-257,lx(x,a,l,i,e),x.mode&1&&ox(i,d,e),e=x,c=d;var b=e.updateQueue;if(b===null){var N=new Set;N.add(c),e.updateQueue=N}else b.add(c);break e}else{if(!(e&1)){ox(i,d,e),Fp();break e}c=Error(z(426))}}else if(Se&&l.mode&1){var C=ax(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),lx(C,a,l,i,e),vp(no(c,l));break e}}i=c=no(c,l),Qe!==4&&(Qe=2),ya===null?ya=[i]:ya.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=o1(i,c,e);ex(i,y);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qr===null||!qr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=a1(i,l,e);ex(i,k);break e}}i=i.return}while(i!==null)}j1(n)}catch(M){e=M,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function N1(){var t=cu.current;return cu.current=lu,t===null?lu:t}function Fp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||!(qs&268435455)&&!(Ju&268435455)||Pr(Ze,lt)}function hu(t,e){var n=ce;ce|=2;var r=N1();(Ze!==t||lt!==e)&&(Zn=null,Vs(t,e));do try{tk();break}catch(s){T1(t,s)}while(!0);if(bp(),ce=n,cu.current=r,qe!==null)throw Error(z(261));return Ze=null,lt=0,Qe}function tk(){for(;qe!==null;)E1(qe)}function nk(){for(;qe!==null&&!SS();)E1(qe)}function E1(t){var e=I1(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?j1(t):qe=e,Dp.current=null}function j1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QI(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,qe=null;return}}else if(n=KI(n,e,Qt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Qe===0&&(Qe=5)}function Es(t,e,n){var r=me,s=pn.transition;try{pn.transition=null,me=1,rk(t,e,n,r)}finally{pn.transition=s,me=r}return null}function rk(t,e,n,r){do Wi();while(Fr!==null);if(ce&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(VS(t,i),t===Ze&&(qe=Ze=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,k1(Gc,function(){return Wi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pn.transition,pn.transition=null;var a=me;me=1;var l=ce;ce|=4,Dp.current=null,XI(t,n),w1(n,t),TI(Ff),Qc=!!Lf,Ff=Lf=null,t.current=n,JI(n),IS(),ce=l,me=a,pn.transition=i}else t.current=n;if(lc&&(lc=!1,Fr=t,du=s),i=t.pendingLanes,i===0&&(qr=null),AS(n.stateNode),$t(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(uu)throw uu=!1,t=im,im=null,t;return du&1&&t.tag!==0&&Wi(),i=t.pendingLanes,i&1?t===om?xa++:(xa=0,om=t):xa=0,ds(),null}function Wi(){if(Fr!==null){var t=o_(du),e=pn.transition,n=me;try{if(pn.transition=null,me=16>t?16:t,Fr===null)var r=!1;else{if(t=Fr,Fr=null,du=0,ce&6)throw Error(z(331));var s=ce;for(ce|=4,H=t.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(H=d;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ga(8,h,i)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var m=h.sibling,x=h.return;if(y1(h),h===d){H=null;break}if(m!==null){m.return=x,H=m;break}H=x}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var C=N.sibling;N.sibling=null,N=C}while(N!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ga(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,H=y;break e}H=i.return}}var g=t.current;for(H=g;H!==null;){a=H;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,H=w;else e:for(a=g;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xu(9,l)}}catch(M){Ve(l,l.return,M)}if(l===a){H=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,H=k;break e}H=l.return}}if(ce=s,ds(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot($u,t)}catch{}r=!0}return r}finally{me=n,pn.transition=e}}return!1}function bx(t,e,n){e=no(n,e),e=o1(t,e,1),t=Wr(t,e,1),e=Rt(),t!==null&&(cl(t,1,e),$t(t,e))}function Ve(t,e,n){if(t.tag===3)bx(t,t,n);else for(;e!==null;){if(e.tag===3){bx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){t=no(n,t),t=a1(e,t,1),e=Wr(e,t,1),t=Rt(),e!==null&&(cl(e,1,t),$t(e,t));break}}e=e.return}}function sk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(lt&n)===n&&(Qe===4||Qe===3&&(lt&130023424)===lt&&500>Be()-Op?Vs(t,0):Mp|=n),$t(t,e)}function S1(t,e){e===0&&(t.mode&1?(e=Jl,Jl<<=1,!(Jl&130023424)&&(Jl=4194304)):e=1);var n=Rt();t=fr(t,e),t!==null&&(cl(t,e,n),$t(t,n))}function ik(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S1(t,n)}function ok(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),S1(t,n)}var I1;I1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,GI(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Se&&e.flags&1048576&&P_(e,nu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kc(t,e),t=e.pendingProps;var s=Ji(e,Et.current);Hi(e,n),s=kp(null,e,r,t,s,n);var i=Cp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(i=!0,eu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Np(e),s.updater=Yu,e.stateNode=s,s._reactInternals=e,Kf(e,r,t,n),e=Xf(null,e,r,!0,i,n)):(e.tag=0,Se&&i&&yp(e),Pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lk(r),t=_n(r,t),s){case 0:e=Yf(null,e,r,t,n);break e;case 1:e=dx(null,e,r,t,n);break e;case 11:e=cx(null,e,r,t,n);break e;case 14:e=ux(null,e,r,_n(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Yf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),dx(t,e,r,s,n);case 3:e:{if(d1(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,L_(t,e),iu(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=no(Error(z(423)),e),e=hx(t,e,r,n,s);break e}else if(r!==s){s=no(Error(z(424)),e),e=hx(t,e,r,n,s);break e}else for(Yt=Hr(e.stateNode.containerInfo.firstChild),Zt=e,Se=!0,Nn=null,n=O_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zi(),r===s){e=mr(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return F_(e),t===null&&Wf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Uf(r,s)?a=null:i!==null&&Uf(r,i)&&(e.flags|=32),u1(t,e),Pt(t,e,a,n),e.child;case 6:return t===null&&Wf(e),null;case 13:return h1(t,e,n);case 4:return Ep(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=eo(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),cx(t,e,r,s,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ve(ru,r._currentValue),r._currentValue=a,i!==null)if(kn(i.value,a)){if(i.children===s.children&&!Bt.current){e=mr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=lr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),qf(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),qf(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hi(e,n),s=gn(s),r=r(s),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,s=_n(r,e.pendingProps),s=_n(r.type,s),ux(t,e,r,s,n);case 15:return l1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),kc(t,e),e.tag=1,zt(r)?(t=!0,eu(e)):t=!1,Hi(e,n),i1(e,r,s),Kf(e,r,s,n),Xf(null,e,r,!0,t,n);case 19:return f1(t,e,n);case 22:return c1(t,e,n)}throw Error(z(156,e.tag))};function k1(t,e){return n_(t,e)}function ak(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new ak(t,e,n,r)}function Up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lk(t){if(typeof t=="function")return Up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ip)return 11;if(t===op)return 14}return 2}function Kr(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pc(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Up(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ni:return Ls(n.children,s,i,e);case sp:a=8,s|=8;break;case xf:return t=mn(12,n,e,s|2),t.elementType=xf,t.lanes=i,t;case vf:return t=mn(13,n,e,s),t.elementType=vf,t.lanes=i,t;case wf:return t=mn(19,n,e,s),t.elementType=wf,t.lanes=i,t;case Fb:return Zu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vb:a=10;break e;case Lb:a=9;break e;case ip:a=11;break e;case op:a=14;break e;case Ir:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=mn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ls(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Zu(t,e,n,r){return t=mn(22,t,r,e),t.elementType=Fb,t.lanes=n,t.stateNode={isHidden:!1},t}function Ph(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function Rh(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ck(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fh(0),this.expirationTimes=fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bp(t,e,n,r,s,i,a,l,c){return t=new ck(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(i),t}function uk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function C1(t){if(!t)return ns;t=t._reactInternals;e:{if(si(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(zt(n))return C_(t,n,e)}return e}function A1(t,e,n,r,s,i,a,l,c){return t=Bp(n,r,!0,t,s,i,a,l,c),t.context=C1(null),n=t.current,r=Rt(),s=Gr(n),i=lr(r,s),i.callback=e??null,Wr(n,i,s),t.current.lanes=s,cl(t,s,r),$t(t,r),t}function ed(t,e,n,r){var s=e.current,i=Rt(),a=Gr(s);return n=C1(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wr(s,e,a),t!==null&&(jn(t,s,a,i),jc(t,s,a)),a}function fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _x(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zp(t,e){_x(t,e),(t=t.alternate)&&_x(t,e)}function dk(){return null}var P1=typeof reportError=="function"?reportError:function(t){console.error(t)};function $p(t){this._internalRoot=t}td.prototype.render=$p.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));ed(t,e,null,null)};td.prototype.unmount=$p.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gs(function(){ed(null,t,null,null)}),e[hr]=null}};function td(t){this._internalRoot=t}td.prototype.unstable_scheduleHydration=function(t){if(t){var e=c_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ar.length&&e!==0&&e<Ar[n].priority;n++);Ar.splice(n,0,t),n===0&&d_(t)}};function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tx(){}function hk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=fu(a);i.call(d)}}var a=A1(e,r,t,0,null,!1,!1,"",Tx);return t._reactRootContainer=a,t[hr]=a.current,La(t.nodeType===8?t.parentNode:t),Gs(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=fu(c);l.call(d)}}var c=Bp(t,0,!1,null,null,!1,!1,"",Tx);return t._reactRootContainer=c,t[hr]=c.current,La(t.nodeType===8?t.parentNode:t),Gs(function(){ed(e,c,n,r)}),c}function rd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=fu(a);l.call(c)}}ed(e,a,t,s)}else a=hk(n,e,t,s,r);return fu(a)}a_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ta(e.pendingLanes);n!==0&&(cp(e,n|1),$t(e,Be()),!(ce&6)&&(ro=Be()+500,ds()))}break;case 13:Gs(function(){var r=fr(t,1);if(r!==null){var s=Rt();jn(r,t,1,s)}}),zp(t,1)}};up=function(t){if(t.tag===13){var e=fr(t,134217728);if(e!==null){var n=Rt();jn(e,t,134217728,n)}zp(t,134217728)}};l_=function(t){if(t.tag===13){var e=Gr(t),n=fr(t,e);if(n!==null){var r=Rt();jn(n,t,e,r)}zp(t,e)}};c_=function(){return me};u_=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};Cf=function(t,e,n){switch(e){case"input":if(Tf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gu(r);if(!s)throw Error(z(90));Bb(r),Tf(r,s)}}}break;case"textarea":$b(t,n);break;case"select":e=n.value,e!=null&&Ui(t,!!n.multiple,e,!1)}};Yb=Vp;Xb=Gs;var fk={usingClientEntryPoint:!1,Events:[dl,Ii,Gu,Kb,Qb,Vp]},Ko={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mk={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e_(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{$u=cc.inject(mk),Un=cc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hp(e))throw Error(z(200));return uk(t,e,null,n)};rn.createRoot=function(t,e){if(!Hp(t))throw Error(z(299));var n=!1,r="",s=P1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Bp(t,1,!1,null,null,n,!1,r,s),t[hr]=e.current,La(t.nodeType===8?t.parentNode:t),new $p(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=e_(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Gs(t)};rn.hydrate=function(t,e,n){if(!nd(e))throw Error(z(200));return rd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Hp(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=P1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=A1(e,null,t,1,n??null,s,!1,i,a),t[hr]=e.current,La(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new td(e)};rn.render=function(t,e,n){if(!nd(e))throw Error(z(200));return rd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!nd(t))throw Error(z(40));return t._reactRootContainer?(Gs(function(){rd(null,null,t,!1,function(){t._reactRootContainer=null,t[hr]=null})}),!0):!1};rn.unstable_batchedUpdates=Vp;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return rd(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function R1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R1)}catch(t){console.error(t)}}R1(),Rb.exports=rn;var pk=Rb.exports,D1,Nx=pk;D1=Nx.createRoot,Nx.hydrateRoot;const M1=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),sd=D.createContext({}),id=D.createContext(null),od=typeof document<"u",Wp=od?D.useLayoutEffect:D.useEffect,O1=D.createContext({strict:!1}),qp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),gk="framerAppearId",V1="data-"+qp(gk);function yk(t,e,n,r){const{visualElement:s}=D.useContext(sd),i=D.useContext(O1),a=D.useContext(id),l=D.useContext(M1).reducedMotion,c=D.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;D.useInsertionEffect(()=>{d&&d.update(n,a)});const h=D.useRef(!!(n[V1]&&!window.HandoffComplete));return Wp(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function Mi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xk(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Mi(n)&&(n.current=r))},[e])}function Ga(t){return typeof t=="string"||Array.isArray(t)}function ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kp=["initial",...Gp];function ld(t){return ad(t.animate)||Kp.some(e=>Ga(t[e]))}function L1(t){return!!(ld(t)||t.variants)}function vk(t,e){if(ld(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ga(n)?n:void 0,animate:Ga(r)?r:void 0}}return t.inherit!==!1?e:{}}function wk(t){const{initial:e,animate:n}=vk(t,D.useContext(sd));return D.useMemo(()=>({initial:e,animate:n}),[Ex(e),Ex(n)])}function Ex(t){return Array.isArray(t)?t.join(" "):t}const jx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ka={};for(const t in jx)Ka[t]={isEnabled:e=>jx[t].some(n=>!!e[n])};function bk(t){for(const e in t)Ka[e]={...Ka[e],...t[e]}}const Qp=D.createContext({}),F1=D.createContext({}),_k=Symbol.for("motionComponentSymbol");function Tk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&bk(t);function i(l,c){let d;const h={...D.useContext(M1),...l,layoutId:Nk(l)},{isStatic:f}=h,m=wk(l),x=r(l,f);if(!f&&od){m.visualElement=yk(s,x,h,e);const b=D.useContext(F1),N=D.useContext(O1).strict;m.visualElement&&(d=m.visualElement.loadFeatures(h,N,t,b))}return D.createElement(sd.Provider,{value:m},d&&m.visualElement?D.createElement(d,{visualElement:m.visualElement,...h}):null,n(s,l,xk(x,m.visualElement,c),x,f,m.visualElement))}const a=D.forwardRef(i);return a[_k]=s,a}function Nk({layoutId:t}){const e=D.useContext(Qp).id;return e&&t!==void 0?e+"-"+t:t}function Ek(t){function e(r,s={}){return Tk(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const jk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yp(t){return typeof t!="string"||t.includes("-")?!1:!!(jk.indexOf(t)>-1||/[A-Z]/.test(t))}const mu={};function Sk(t){Object.assign(mu,t)}const fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ii=new Set(fl);function U1(t,{layout:e,layoutId:n}){return ii.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mu[t]||t==="opacity")}const Gt=t=>!!(t&&t.getVelocity),Ik={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kk=fl.length;function Ck(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<kk;a++){const l=fl[a];if(t[l]!==void 0){const c=Ik[l]||l;i+=`${c}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const B1=t=>e=>typeof e=="string"&&e.startsWith(t),z1=B1("--"),cm=B1("var(--"),Ak=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Pk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rs=(t,e,n)=>Math.min(Math.max(n,t),e),oi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},va={...oi,transform:t=>rs(0,1,t)},uc={...oi,default:1},wa=t=>Math.round(t*1e5)/1e5,cd=/(-)?([\d]*\.?[\d])+/g,$1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Rk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ml(t){return typeof t=="string"}const pl=t=>({test:e=>ml(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sr=pl("deg"),zn=pl("%"),Y=pl("px"),Dk=pl("vh"),Mk=pl("vw"),Sx={...zn,parse:t=>zn.parse(t)/100,transform:t=>zn.transform(t*100)},Ix={...oi,transform:Math.round},H1={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:uc,scaleX:uc,scaleY:uc,scaleZ:uc,skew:Sr,skewX:Sr,skewY:Sr,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:va,originX:Sx,originY:Sx,originZ:Y,zIndex:Ix,fillOpacity:va,strokeOpacity:va,numOctaves:Ix};function Xp(t,e,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=t;let c=!1,d=!1,h=!0;for(const f in e){const m=e[f];if(z1(f)){i[f]=m;continue}const x=H1[f],b=Pk(m,x);if(ii.has(f)){if(c=!0,a[f]=b,!h)continue;m!==(x.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,l[f]=b):s[f]=b}if(e.transform||(c||r?s.transform=Ck(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:x=0}=l;s.transformOrigin=`${f} ${m} ${x}`}}const Jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W1(t,e,n){for(const r in e)!Gt(e[r])&&!U1(r,n)&&(t[r]=e[r])}function Ok({transformTemplate:t},e,n){return D.useMemo(()=>{const r=Jp();return Xp(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Vk(t,e,n){const r=t.style||{},s={};return W1(s,r,t),Object.assign(s,Ok(t,e,n)),t.transformValues?t.transformValues(s):s}function Lk(t,e,n){const r={},s=Vk(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const Fk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Fk.has(t)}let q1=t=>!pu(t);function Uk(t){t&&(q1=e=>e.startsWith("on")?!pu(e):t(e))}try{Uk(require("@emotion/is-prop-valid").default)}catch{}function Bk(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(q1(s)||n===!0&&pu(s)||!e&&!pu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function kx(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function zk(t,e,n){const r=kx(e,t.x,t.width),s=kx(n,t.y,t.height);return`${r} ${s}`}const $k={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hk={offset:"strokeDashoffset",array:"strokeDasharray"};function Wk(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?$k:Hk;t[i.offset]=Y.transform(-r);const a=Y.transform(e),l=Y.transform(n);t[i.array]=`${a} ${l}`}function Zp(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},h,f,m){if(Xp(t,d,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b,dimensions:N}=t;x.transform&&(N&&(b.transform=x.transform),delete x.transform),N&&(s!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=zk(N,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),a!==void 0&&Wk(x,a,l,c,!1)}const G1=()=>({...Jp(),attrs:{}}),eg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qk(t,e,n,r){const s=D.useMemo(()=>{const i=G1();return Zp(i,e,{enableHardwareAcceleration:!1},eg(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};W1(i,t.style,t),s.style={...i,...s.style}}return s}function Gk(t=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Yp(n)?qk:Lk)(r,i,a,n),h={...Bk(r,typeof n=="string",t),...c,ref:s},{children:f}=r,m=D.useMemo(()=>Gt(f)?f.get():f,[f]);return D.createElement(n,{...h,children:m})}}function K1(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Q1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y1(t,e,n,r){K1(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Q1.has(s)?s:qp(s),e.attrs[s])}function tg(t,e){const{style:n}=t,r={};for(const s in n)(Gt(n[s])||e.style&&Gt(e.style[s])||U1(s,t))&&(r[s]=n[s]);return r}function X1(t,e){const n=tg(t,e);for(const r in t)if(Gt(t[r])||Gt(e[r])){const s=fl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function ng(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function J1(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const gu=t=>Array.isArray(t),Kk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Qk=t=>gu(t)?t[t.length-1]||0:t;function Rc(t){const e=Gt(t)?t.get():t;return Kk(e)?e.toValue():e}function Yk({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const a={latestValues:Xk(r,s,i,t),renderState:e()};return n&&(a.mount=l=>n(r,l,a)),a}const Z1=t=>(e,n)=>{const r=D.useContext(sd),s=D.useContext(id),i=()=>Yk(t,e,r,s);return n?i():J1(i)};function Xk(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Rc(i[m]);let{initial:a,animate:l}=t;const c=ld(t),d=L1(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const f=h?l:a;return f&&typeof f!="boolean"&&!ad(f)&&(Array.isArray(f)?f:[f]).forEach(x=>{const b=ng(t,x);if(!b)return;const{transitionEnd:N,transition:C,...y}=b;for(const g in y){let w=y[g];if(Array.isArray(w)){const k=h?w.length-1:0;w=w[k]}w!==null&&(s[g]=w)}for(const g in N)s[g]=N[g]}),s}const ze=t=>t;class Cx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Jk(t){let e=new Cx,n=new Cx,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const f=h&&s,m=f?e:n;return d&&a.add(c),m.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(c),a.has(h)&&(l.schedule(h),t())}s=!1,i&&(i=!1,l.process(c))}};return l}const dc=["prepare","read","update","preRender","render","postRender"],Zk=40;function eC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=dc.reduce((f,m)=>(f[m]=Jk(()=>n=!0),f),{}),a=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,Zk),1),s.timestamp=f,s.isProcessing=!0,dc.forEach(a),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:dc.reduce((f,m)=>{const x=i[m];return f[m]=(b,N=!1,C=!1)=>(n||c(),x.schedule(b,N,C)),f},{}),cancel:f=>dc.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:we,cancel:pr,state:vt,steps:Dh}=eC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ze,!0),tC={useVisualState:Z1({scrapeMotionValuesFromProps:X1,createRenderState:G1,onMount:(t,e,{renderState:n,latestValues:r})=>{we.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),we.render(()=>{Zp(n,r,{enableHardwareAcceleration:!1},eg(e.tagName),t.transformTemplate),Y1(e,n)})}})},nC={useVisualState:Z1({scrapeMotionValuesFromProps:tg,createRenderState:Jp})};function rC(t,{forwardMotionProps:e=!1},n,r){return{...Yp(t)?tC:nC,preloadedFeatures:n,useRender:Gk(e),createVisualElement:r,Component:t}}function rr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const eT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ud(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const sC=t=>e=>eT(e)&&t(e,ud(e));function cr(t,e,n,r){return rr(t,e,sC(n),r)}const iC=(t,e)=>n=>e(t(n)),Qr=(...t)=>t.reduce(iC);function tT(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Ax=tT("dragHorizontal"),Px=tT("dragVertical");function nT(t){let e=!1;if(t==="y")e=Px();else if(t==="x")e=Ax();else{const n=Ax(),r=Px();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function rT(){const t=nT(!0);return t?(t(),!1):!0}class hs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Rx(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||rT())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&we.update(()=>l[r](i,a))};return cr(t.current,n,s,{passive:!t.getProps()[r]})}class oC extends hs{mount(){this.unmount=Qr(Rx(this.node,!0),Rx(this.node,!1))}unmount(){}}class aC extends hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qr(rr(this.node.current,"focus",()=>this.onFocus()),rr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sT=(t,e)=>e?t===e?!0:sT(t,e.parentElement):!1;function Mh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ud(n))}class lC extends hs{constructor(){super(...arguments),this.removeStartListeners=ze,this.removeEndListeners=ze,this.removeAccessibleListeners=ze,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=cr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();we.update(()=>{!f&&!sT(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=cr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qr(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Mh("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&we.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=rr(this.node.current,"keyup",a),Mh("down",(l,c)=>{this.startPress(l,c)})},n=rr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Mh("cancel",(i,a)=>this.cancelPress(i,a))},s=rr(this.node.current,"blur",r);this.removeAccessibleListeners=Qr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&we.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rT()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&we.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=cr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=rr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const um=new WeakMap,Oh=new WeakMap,cC=t=>{const e=um.get(t.target);e&&e(t)},uC=t=>{t.forEach(cC)};function dC({root:t,...e}){const n=t||document;Oh.has(n)||Oh.set(n,{});const r=Oh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(uC,{root:t,...e})),r[s]}function hC(t,e,n){const r=dC(e);return um.set(t,n),r.observe(t),()=>{um.delete(t),r.unobserve(t)}}const fC={some:0,all:1};class mC extends hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fC[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(c)};return hC(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pC(e,n))&&this.startObserver()}unmount(){}}function pC({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gC={inView:{Feature:mC},tap:{Feature:lC},focus:{Feature:aC},hover:{Feature:oC}};function iT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function yC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function xC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function dd(t,e,n){const r=t.getProps();return ng(r,e,n!==void 0?n:r.custom,yC(t),xC(t))}let yu=ze;const Fs=t=>t*1e3,ur=t=>t/1e3,vC={current:!1},oT=t=>Array.isArray(t)&&typeof t[0]=="number";function aT(t){return!!(!t||typeof t=="string"&&lT[t]||oT(t)||Array.isArray(t)&&t.every(aT))}const ra=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,lT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ra([0,.65,.55,1]),circOut:ra([.55,0,1,.45]),backIn:ra([.31,.01,.66,-.59]),backOut:ra([.33,1.53,.69,.99])};function cT(t){if(t)return oT(t)?ra(t):Array.isArray(t)?t.map(cT):lT[t]}function wC(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=cT(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function bC(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const uT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_C=1e-7,TC=12;function NC(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=uT(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>_C&&++l<TC);return a}function gl(t,e,n,r){if(t===e&&n===r)return ze;const s=i=>NC(i,0,1,t,n);return i=>i===0||i===1?i:uT(s(i),e,r)}const EC=gl(.42,0,1,1),jC=gl(0,0,.58,1),dT=gl(.42,0,.58,1),SC=t=>Array.isArray(t)&&typeof t[0]!="number",hT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fT=t=>e=>1-t(1-e),rg=t=>1-Math.sin(Math.acos(t)),mT=fT(rg),IC=hT(rg),pT=gl(.33,1.53,.69,.99),sg=fT(pT),kC=hT(sg),CC=t=>(t*=2)<1?.5*sg(t):.5*(2-Math.pow(2,-10*(t-1))),Dx={linear:ze,easeIn:EC,easeInOut:dT,easeOut:jC,circIn:rg,circInOut:IC,circOut:mT,backIn:sg,backInOut:kC,backOut:pT,anticipate:CC},Mx=t=>{if(Array.isArray(t)){yu(t.length===4);const[e,n,r,s]=t;return gl(e,n,r,s)}else if(typeof t=="string")return yu(Dx[t]!==void 0),Dx[t];return t},ig=(t,e)=>n=>!!(ml(n)&&Rk.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),gT=(t,e,n)=>r=>{if(!ml(r))return r;const[s,i,a,l]=r.match(cd);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},AC=t=>rs(0,255,t),Vh={...oi,transform:t=>Math.round(AC(t))},Ds={test:ig("rgb","red"),parse:gT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Vh.transform(t)+", "+Vh.transform(e)+", "+Vh.transform(n)+", "+wa(va.transform(r))+")"};function PC(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const dm={test:ig("#"),parse:PC,transform:Ds.transform},Oi={test:ig("hsl","hue"),parse:gT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zn.transform(wa(e))+", "+zn.transform(wa(n))+", "+wa(va.transform(r))+")"},At={test:t=>Ds.test(t)||dm.test(t)||Oi.test(t),parse:t=>Ds.test(t)?Ds.parse(t):Oi.test(t)?Oi.parse(t):dm.parse(t),transform:t=>ml(t)?t:t.hasOwnProperty("red")?Ds.transform(t):Oi.transform(t)},Pe=(t,e,n)=>-n*t+n*e+t;function Lh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RC({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=Lh(c,l,t+1/3),i=Lh(c,l,t),a=Lh(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Fh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},DC=[dm,Ds,Oi],MC=t=>DC.find(e=>e.test(t));function Ox(t){const e=MC(t);let n=e.parse(t);return e===Oi&&(n=RC(n)),n}const yT=(t,e)=>{const n=Ox(t),r=Ox(e),s={...n};return i=>(s.red=Fh(n.red,r.red,i),s.green=Fh(n.green,r.green,i),s.blue=Fh(n.blue,r.blue,i),s.alpha=Pe(n.alpha,r.alpha,i),Ds.transform(s))};function OC(t){var e,n;return isNaN(t)&&ml(t)&&(((e=t.match(cd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match($1))===null||n===void 0?void 0:n.length)||0)>0}const xT={regex:Ak,countKey:"Vars",token:"${v}",parse:ze},vT={regex:$1,countKey:"Colors",token:"${c}",parse:At.parse},wT={regex:cd,countKey:"Numbers",token:"${n}",parse:oi.parse};function Uh(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function xu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Uh(n,xT),Uh(n,vT),Uh(n,wT),n}function bT(t){return xu(t).values}function _T(t){const{values:e,numColors:n,numVars:r,tokenised:s}=xu(t),i=e.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(xT.token,a[c]):c<r+n?l=l.replace(vT.token,At.transform(a[c])):l=l.replace(wT.token,wa(a[c]));return l}}const VC=t=>typeof t=="number"?0:t;function LC(t){const e=bT(t);return _T(t)(e.map(VC))}const ss={test:OC,parse:bT,createTransformer:_T,getAnimatableNone:LC},TT=(t,e)=>n=>`${n>0?e:t}`;function NT(t,e){return typeof t=="number"?n=>Pe(t,e,n):At.test(t)?yT(t,e):t.startsWith("var(")?TT(t,e):jT(t,e)}const ET=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,a)=>NT(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},FC=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=NT(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},jT=(t,e)=>{const n=ss.createTransformer(e),r=xu(t),s=xu(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Qr(ET(r.values,s.values),n):TT(t,e)},Qa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Vx=(t,e)=>n=>Pe(t,e,n);function UC(t){return typeof t=="number"?Vx:typeof t=="string"?At.test(t)?yT:jT:Array.isArray(t)?ET:typeof t=="object"?FC:Vx}function BC(t,e,n){const r=[],s=n||UC(t[0]),i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ze:e;l=Qr(c,l)}r.push(l)}return r}function ST(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(yu(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=BC(e,r,s),l=a.length,c=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Qa(t[h],t[h+1],d);return a[h](f)};return n?d=>c(rs(t[0],t[i-1],d)):c}function zC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Qa(0,e,r);t.push(Pe(n,1,s))}}function $C(t){const e=[0];return zC(e,t.length-1),e}function HC(t,e){return t.map(n=>n*e)}function WC(t,e){return t.map(()=>e||dT).splice(0,t.length-1)}function vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=SC(r)?r.map(Mx):Mx(r),i={done:!1,value:e[0]},a=HC(n&&n.length===e.length?n:$C(e),t),l=ST(a,e,{ease:Array.isArray(s)?s:WC(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}function IT(t,e){return e?t*(1e3/e):0}const qC=5;function kT(t,e,n){const r=Math.max(e-qC,0);return IT(n-t(r),e-r)}const Bh=.001,GC=.01,KC=10,QC=.05,YC=1;function XC({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,a=1-e;a=rs(QC,YC,a),t=rs(GC,KC,ur(t)),a<1?(s=d=>{const h=d*a,f=h*t,m=h-n,x=hm(d,a),b=Math.exp(-f);return Bh-m/x*b},i=d=>{const f=d*a*t,m=f*n+n,x=Math.pow(a,2)*Math.pow(d,2)*t,b=Math.exp(-f),N=hm(Math.pow(d,2),a);return(-s(d)+Bh>0?-1:1)*((m-x)*b)/N}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-Bh+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=ZC(s,i,l);if(t=Fs(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const JC=12;function ZC(t,e,n){let r=n;for(let s=1;s<JC;s++)r=r-t(r)/e(r);return r}function hm(t,e){return t*Math.sqrt(1-e*e)}const eA=["duration","bounce"],tA=["stiffness","damping","mass"];function Lx(t,e){return e.some(n=>t[n]!==void 0)}function nA(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Lx(t,tA)&&Lx(t,eA)){const n=XC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function CT({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=nA({...r,velocity:-ur(r.velocity||0)}),x=f||0,b=c/(2*Math.sqrt(l*d)),N=i-s,C=ur(Math.sqrt(l/d)),y=Math.abs(N)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let g;if(b<1){const w=hm(C,b);g=k=>{const M=Math.exp(-b*C*k);return i-M*((x+b*C*N)/w*Math.sin(w*k)+N*Math.cos(w*k))}}else if(b===1)g=w=>i-Math.exp(-C*w)*(N+(x+C*N)*w);else{const w=C*Math.sqrt(b*b-1);g=k=>{const M=Math.exp(-b*C*k),O=Math.min(w*k,300);return i-M*((x+b*C*N)*Math.sinh(O)+w*N*Math.cosh(O))/w}}return{calculatedDuration:m&&h||null,next:w=>{const k=g(w);if(m)a.done=w>=h;else{let M=x;w!==0&&(b<1?M=kT(g,w,k):M=0);const O=Math.abs(M)<=n,_=Math.abs(i-k)<=e;a.done=O&&_}return a.value=a.done?i:k,a}}}function Fx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},x=T=>l!==void 0&&T<l||c!==void 0&&T>c,b=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let N=n*e;const C=f+N,y=a===void 0?C:a(C);y!==C&&(N=y-f);const g=T=>-N*Math.exp(-T/r),w=T=>y+g(T),k=T=>{const E=g(T),S=w(T);m.done=Math.abs(E)<=d,m.value=m.done?y:S};let M,O;const _=T=>{x(m.value)&&(M=T,O=CT({keyframes:[m.value,b(m.value)],velocity:kT(w,T,m.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return _(0),{calculatedDuration:null,next:T=>{let E=!1;return!O&&M===void 0&&(E=!0,k(T),_(T)),M!==void 0&&T>M?O.next(T-M):(!E&&k(T),m)}}}const rA=t=>{const e=({timestamp:n})=>t(n);return{start:()=>we.update(e,!0),stop:()=>pr(e),now:()=>vt.isProcessing?vt.timestamp:performance.now()}},Ux=2e4;function Bx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ux;)e+=n,r=t.next(e);return e>=Ux?1/0:e}const sA={decay:Fx,inertia:Fx,tween:vu,keyframes:vu,spring:CT};function wu({autoplay:t=!0,delay:e=0,driver:n=rA,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...m}){let x=1,b=!1,N,C;const y=()=>{C=new Promise(Q=>{N=Q})};y();let g;const w=sA[s]||vu;let k;w!==vu&&typeof r[0]!="number"&&(k=ST([0,100],r,{clamp:!1}),r=[0,100]);const M=w({...m,keyframes:r});let O;l==="mirror"&&(O=w({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let _="idle",T=null,E=null,S=null;M.calculatedDuration===null&&i&&(M.calculatedDuration=Bx(M));const{calculatedDuration:P}=M;let R=1/0,I=1/0;P!==null&&(R=P+a,I=R*(i+1)-a);let ae=0;const rt=Q=>{if(E===null)return;x>0&&(E=Math.min(E,Q)),x<0&&(E=Math.min(Q-I/x,E)),T!==null?ae=T:ae=Math.round(Q-E)*x;const re=ae-e*(x>=0?1:-1),je=x>=0?re<0:re>I;ae=Math.max(re,0),_==="finished"&&T===null&&(ae=I);let on=ae,an=M;if(i){const So=Math.min(ae,I)/R;let Yn=Math.floor(So),cn=So%1;!cn&&So>=1&&(cn=1),cn===1&&Yn--,Yn=Math.min(Yn,i+1),!!(Yn%2)&&(l==="reverse"?(cn=1-cn,a&&(cn-=a/R)):l==="mirror"&&(an=O)),on=rs(0,1,cn)*R}const St=je?{done:!1,value:r[0]}:an.next(on);k&&(St.value=k(St.value));let{done:ln}=St;!je&&P!==null&&(ln=x>=0?ae>=I:ae<=0);const Fd=T===null&&(_==="finished"||_==="running"&&ln);return f&&f(St.value),Fd&&B(),St},xe=()=>{g&&g.stop(),g=void 0},Ce=()=>{_="idle",xe(),N(),y(),E=S=null},B=()=>{_="finished",h&&h(),xe(),N()},G=()=>{if(b)return;g||(g=n(rt));const Q=g.now();c&&c(),T!==null?E=Q-T:(!E||_==="finished")&&(E=Q),_==="finished"&&y(),S=E,T=null,_="running",g.start()};t&&G();const J={then(Q,re){return C.then(Q,re)},get time(){return ur(ae)},set time(Q){Q=Fs(Q),ae=Q,T!==null||!g||x===0?T=Q:E=g.now()-Q/x},get duration(){const Q=M.calculatedDuration===null?Bx(M):M.calculatedDuration;return ur(Q)},get speed(){return x},set speed(Q){Q===x||!g||(x=Q,J.time=ur(ae))},get state(){return _},play:G,pause:()=>{_="paused",T=ae},stop:()=>{b=!0,_!=="idle"&&(_="idle",d&&d(),Ce())},cancel:()=>{S!==null&&rt(S),Ce()},complete:()=>{_="finished"},sample:Q=>(E=0,rt(Q))};return J}function iA(t){let e;return()=>(e===void 0&&(e=t()),e)}const oA=iA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),aA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),hc=10,lA=2e4,cA=(t,e)=>e.type==="spring"||t==="backgroundColor"||!aT(e.ease);function uA(t,e,{onUpdate:n,onComplete:r,...s}){if(!(oA()&&aA.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,d=!1;const h=()=>{c=new Promise(w=>{l=w})};h();let{keyframes:f,duration:m=300,ease:x,times:b}=s;if(cA(e,s)){const w=wu({...s,repeat:0,delay:0});let k={done:!1,value:f[0]};const M=[];let O=0;for(;!k.done&&O<lA;)k=w.sample(O),M.push(k.value),O+=hc;b=void 0,f=M,m=O-hc,x="linear"}const N=wC(t.owner.current,e,f,{...s,duration:m,ease:x,times:b}),C=()=>{d=!1,N.cancel()},y=()=>{d=!0,we.update(C),l(),h()};return N.onfinish=()=>{d||(t.set(bC(f,s)),r&&r(),y())},{then(w,k){return c.then(w,k)},attachTimeline(w){return N.timeline=w,N.onfinish=null,ze},get time(){return ur(N.currentTime||0)},set time(w){N.currentTime=Fs(w)},get speed(){return N.playbackRate},set speed(w){N.playbackRate=w},get duration(){return ur(m)},play:()=>{a||(N.play(),pr(C))},pause:()=>N.pause(),stop:()=>{if(a=!0,N.playState==="idle")return;const{currentTime:w}=N;if(w){const k=wu({...s,autoplay:!1});t.setWithVelocity(k.sample(w-hc).value,k.sample(w).value,hc)}y()},complete:()=>{d||N.finish()},cancel:y}}function dA({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ze,pause:ze,stop:ze,then:i=>(i(),Promise.resolve()),cancel:ze,complete:ze});return e?wu({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const hA={type:"spring",stiffness:500,damping:25,restSpeed:10},fA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mA={type:"keyframes",duration:.8},pA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gA=(t,{keyframes:e})=>e.length>2?mA:ii.has(t)?t.startsWith("scale")?fA(e[1]):hA:pA,fm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ss.test(e)||e==="0")&&!e.startsWith("url(")),yA=new Set(["brightness","contrast","saturate","opacity"]);function xA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cd)||[];if(!r)return t;const s=n.replace(r,"");let i=yA.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const vA=/([a-z-]*)\(.*?\)/g,mm={...ss,getAnimatableNone:t=>{const e=t.match(vA);return e?e.map(xA).join(" "):t}},wA={...H1,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:mm,WebkitFilter:mm},og=t=>wA[t];function AT(t,e){let n=og(t);return n!==mm&&(n=ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PT=t=>/^0[^.\s]+$/.test(t);function bA(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||PT(t)}function _A(t,e,n,r){const s=fm(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:t.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?a:i[d-1]),bA(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(s&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];i[h]=AT(e,l)}return i}function TA({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function ag(t,e){return t[e]||t.default||t}const NA={skipAnimations:!1},lg=(t,e,n,r={})=>s=>{const i=ag(r,t)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Fs(a);const c=_A(e,t,n,i),d=c[0],h=c[c.length-1],f=fm(t,d),m=fm(t,h);let x={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{e.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(TA(i)||(x={...x,...gA(t,x)}),x.duration&&(x.duration=Fs(x.duration)),x.repeatDelay&&(x.repeatDelay=Fs(x.repeatDelay)),!f||!m||vC.current||i.type===!1||NA.skipAnimations)return dA(x);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=uA(e,t,x);if(b)return b}return wu(x)};function bu(t){return!!(Gt(t)&&t.add)}const RT=t=>/^\-?\d*\.?\d+$/.test(t);function cg(t,e){t.indexOf(e)===-1&&t.push(e)}function ug(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dg{constructor(){this.subscriptions=[]}add(e){return cg(this.subscriptions,e),()=>ug(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const EA=t=>!isNaN(parseFloat(t));class jA{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=vt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,we.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>we.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=EA(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dg);const r=this.events[e].add(n);return e==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?IT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function so(t,e){return new jA(t,e)}const DT=t=>e=>e.test(t),SA={test:t=>t==="auto",parse:t=>t},MT=[oi,Y,zn,Sr,Mk,Dk,SA],Qo=t=>MT.find(DT(t)),IA=[...MT,At,ss],kA=t=>IA.find(DT(t));function CA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,so(n))}function AA(t,e){const n=dd(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=Qk(i[a]);CA(t,a,l)}}function PA(t,e,n){var r,s;const i=Object.keys(e).filter(l=>!t.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),h!=null&&(typeof h=="string"&&(RT(h)||PT(h))?h=parseFloat(h):!kA(h)&&ss.test(d)&&(h=AT(c,d)),t.addValue(c,so(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function RA(t,e){return e?(e[t]||e.default||e).from:void 0}function DA(t,e,n){const r={};for(const s in t){const i=RA(s,e);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function MA({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OA(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function OT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f),x=l[f];if(!m||x===void 0||h&&MA(h,f))continue;const b={delay:n,elapsed:0,...ag(i||{},f)};if(window.HandoffAppearAnimations){const y=t.getProps()[V1];if(y){const g=window.HandoffAppearAnimations(y,f,m,we);g!==null&&(b.elapsed=g,b.isHandoff=!0)}}let N=!b.isHandoff&&!OA(m,x);if(b.type==="spring"&&(m.getVelocity()||b.velocity)&&(N=!1),m.animation&&(N=!1),N)continue;m.start(lg(f,m,x,t.shouldReduceMotion&&ii.has(f)?{type:!1}:b));const C=m.animation;bu(c)&&(c.add(f),C.then(()=>c.remove(f))),d.push(C)}return a&&Promise.all(d).then(()=>{a&&AA(t,a)}),d}function pm(t,e,n={}){const r=dd(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(OT(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return VA(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function VA(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(LA).forEach((d,h)=>{d.notify("AnimationStart",e),a.push(pm(d,e,{...i,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function LA(t,e){return t.sortNodePosition(e)}function FA(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>pm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=pm(t,e,n);else{const s=typeof e=="function"?dd(t,e,n.custom):e;r=Promise.all(OT(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const UA=[...Gp].reverse(),BA=Gp.length;function zA(t){return e=>Promise.all(e.map(({animation:n,options:r})=>FA(t,n,r)))}function $A(t){let e=zA(t);const n=WA();let r=!0;const s=(c,d)=>{const h=dd(t,d);if(h){const{transition:f,transitionEnd:m,...x}=h;c={...c,...x,...m}}return c};function i(c){e=c(t)}function a(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},m=[],x=new Set;let b={},N=1/0;for(let y=0;y<BA;y++){const g=UA[y],w=n[g],k=h[g]!==void 0?h[g]:f[g],M=Ga(k),O=g===d?w.isActive:null;O===!1&&(N=y);let _=k===f[g]&&k!==h[g]&&M;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),w.protectedKeys={...b},!w.isActive&&O===null||!k&&!w.prevProp||ad(k)||typeof k=="boolean")continue;let E=HA(w.prevProp,k)||g===d&&w.isActive&&!_&&M||y>N&&M,S=!1;const P=Array.isArray(k)?k:[k];let R=P.reduce(s,{});O===!1&&(R={});const{prevResolvedValues:I={}}=w,ae={...I,...R},rt=xe=>{E=!0,x.has(xe)&&(S=!0,x.delete(xe)),w.needsAnimating[xe]=!0};for(const xe in ae){const Ce=R[xe],B=I[xe];if(b.hasOwnProperty(xe))continue;let G=!1;gu(Ce)&&gu(B)?G=!iT(Ce,B):G=Ce!==B,G?Ce!==void 0?rt(xe):x.add(xe):Ce!==void 0&&x.has(xe)?rt(xe):w.protectedKeys[xe]=!0}w.prevProp=k,w.prevResolvedValues=R,w.isActive&&(b={...b,...R}),r&&t.blockInitialAnimation&&(E=!1),E&&(!_||S)&&m.push(...P.map(xe=>({animation:xe,options:{type:g,...c}})))}if(x.size){const y={};x.forEach(g=>{const w=t.getBaseTarget(g);w!==void 0&&(y[g]=w)}),m.push({animation:y})}let C=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(m):Promise.resolve()}function l(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(c,d)}),n[c].isActive=d;const m=a(h,c);for(const x in n)n[x].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function HA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iT(e,t):!1}function Ts(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WA(){return{animate:Ts(!0),whileInView:Ts(),whileHover:Ts(),whileTap:Ts(),whileDrag:Ts(),whileFocus:Ts(),exit:Ts()}}class qA extends hs{constructor(e){super(e),e.animationState||(e.animationState=$A(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ad(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let GA=0;class KA extends hs{constructor(){super(...arguments),this.id=GA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const QA={animation:{Feature:qA},exit:{Feature:KA}},zx=(t,e)=>Math.abs(t-e);function YA(t,e){const n=zx(t.x,e.x),r=zx(t.y,e.y);return Math.sqrt(n**2+r**2)}class VT{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$h(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=YA(f.offset,{x:0,y:0})>=3;if(!m&&!x)return;const{point:b}=f,{timestamp:N}=vt;this.history.push({...b,timestamp:N});const{onStart:C,onMove:y}=this.handlers;m||(C&&C(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=zh(m,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=$h(f.type==="pointercancel"?this.lastMoveEventInfo:zh(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,C),b&&b(f,C)},!eT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=ud(e),l=zh(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=vt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,$h(l,this.history)),this.removeListeners=Qr(cr(this.contextWindow,"pointermove",this.handlePointerMove),cr(this.contextWindow,"pointerup",this.handlePointerUp),cr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function zh(t,e){return e?{point:e(t.point)}:t}function $x(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $h({point:t},e){return{point:t,delta:$x(t,LT(e)),offset:$x(t,XA(e)),velocity:JA(e,.1)}}function XA(t){return t[0]}function LT(t){return t[t.length-1]}function JA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=LT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Fs(e)));)n--;if(!r)return{x:0,y:0};const i=ur(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function nn(t){return t.max-t.min}function gm(t,e=0,n=.01){return Math.abs(t-e)<=n}function Hx(t,e,n,r=.5){t.origin=r,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=nn(n)/nn(e),(gm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(gm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ba(t,e,n,r){Hx(t.x,e.x,n.x,r?r.originX:void 0),Hx(t.y,e.y,n.y,r?r.originY:void 0)}function Wx(t,e,n){t.min=n.min+e.min,t.max=t.min+nn(e)}function ZA(t,e,n){Wx(t.x,e.x,n.x),Wx(t.y,e.y,n.y)}function qx(t,e,n){t.min=e.min-n.min,t.max=t.min+nn(e)}function _a(t,e,n){qx(t.x,e.x,n.x),qx(t.y,e.y,n.y)}function eP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pe(n,t,r.max):Math.min(t,n)),t}function Gx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tP(t,{top:e,left:n,bottom:r,right:s}){return{x:Gx(t.x,n,s),y:Gx(t.y,e,r)}}function Kx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nP(t,e){return{x:Kx(t.x,e.x),y:Kx(t.y,e.y)}}function rP(t,e){let n=.5;const r=nn(t),s=nn(e);return s>r?n=Qa(e.min,e.max-r,t.min):r>s&&(n=Qa(t.min,t.max-s,e.min)),rs(0,1,n)}function sP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ym=.35;function iP(t=ym){return t===!1?t=0:t===!0&&(t=ym),{x:Qx(t,"left","right"),y:Qx(t,"top","bottom")}}function Qx(t,e,n){return{min:Yx(t,e),max:Yx(t,n)}}function Yx(t,e){return typeof t=="number"?t:t[e]||0}const Xx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:Xx(),y:Xx()}),Jx=()=>({min:0,max:0}),We=()=>({x:Jx(),y:Jx()});function dn(t){return[t("x"),t("y")]}function FT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hh(t){return t===void 0||t===1}function xm({scale:t,scaleX:e,scaleY:n}){return!Hh(t)||!Hh(e)||!Hh(n)}function js(t){return xm(t)||UT(t)||t.z||t.rotate||t.rotateX||t.rotateY}function UT(t){return Zx(t.x)||Zx(t.y)}function Zx(t){return t&&t!=="0%"}function _u(t,e,n){const r=t-n,s=e*r;return n+s}function ev(t,e,n,r,s){return s!==void 0&&(t=_u(t,s,r)),_u(t,n,r)+e}function vm(t,e=0,n=1,r,s){t.min=ev(t.min,e,n,r,s),t.max=ev(t.max,e,n,r,s)}function BT(t,{x:e,y:n}){vm(t.x,e.translate,e.scale,e.originPoint),vm(t.y,n.translate,n.scale,n.originPoint)}function lP(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Li(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,BT(t,a)),r&&js(i.latestValues)&&Li(t,i.latestValues))}e.x=tv(e.x),e.y=tv(e.y)}function tv(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Cr(t,e){t.min=t.min+e,t.max=t.max+e}function nv(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,a=Pe(t.min,t.max,i);vm(t,e[n],e[r],a,e.scale)}const cP=["x","scaleX","originX"],uP=["y","scaleY","originY"];function Li(t,e){nv(t.x,e,cP),nv(t.y,e,uP)}function zT(t,e){return FT(aP(t.getBoundingClientRect(),e))}function dP(t,e,n){const r=zT(t,n),{scroll:s}=e;return s&&(Cr(r.x,s.offset.x),Cr(r.y,s.offset.y)),r}const $T=({current:t})=>t?t.ownerDocument.defaultView:null,hP=new WeakMap;class fP{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ud(h,"page").point)},i=(h,f)=>{const{drag:m,dragPropagation:x,onDragStart:b}=this.getProps();if(m&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=nT(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(C=>{let y=this.getAxisMotionValue(C).get()||0;if(zn.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[C];w&&(y=nn(w)*(parseFloat(y)/100))}}this.originPoint[C]=y}),b&&we.update(()=>b(h,f),!1,!0);const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},a=(h,f)=>{const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:b,onDrag:N}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:C}=f;if(x&&this.currentDirection===null){this.currentDirection=mP(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,C),this.updateAxis("y",f.point,C),this.visualElement.render(),N&&N(h,f)},l=(h,f)=>this.stop(h,f),c=()=>dn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new VT(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:$T(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&we.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!fc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=eP(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Mi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=tP(s.layoutBox,n):this.constraints=!1,this.elastic=iP(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=sP(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=dP(r,s.root,this.visualElement.getTransformPagePoint());let a=nP(s.layout.layoutBox,i);if(n){const l=n(oP(a));this.hasMutatedConstraints=!!l,l&&(a=FT(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=dn(h=>{if(!fc(h,n,this.currentDirection))return;let f=c&&c[h]||{};a&&(f={min:0,max:0});const m=s?200:1e6,x=s?40:1e7,b={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(lg(e,r,0,n))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:r}=this.getProps();if(!fc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-Pe(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dn(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=rP({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dn(a=>{if(!fc(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Pe(c,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;hP.set(this.visualElement,this);const e=this.visualElement.current,n=cr(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Mi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=rr(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(dn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=ym,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function fc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pP extends hs{constructor(e){super(e),this.removeGroupControls=ze,this.removeListeners=ze,this.controls=new fP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const rv=t=>(e,n)=>{t&&we.update(()=>t(e,n))};class gP extends hs{constructor(){super(...arguments),this.removePointerDownListener=ze}onPointerDown(e){this.session=new VT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$T(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:rv(e),onStart:rv(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&we.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=cr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yP(){const t=D.useContext(id);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=D.useId();return D.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=sv(t,e.target.x),r=sv(t,e.target.y);return`${n}% ${r}%`}},xP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ss.parse(t);if(s.length>5)return r;const i=ss.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const d=Pe(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class vP extends ep.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Sk(wP),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||we.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HT(t){const[e,n]=yP(),r=D.useContext(Qp);return ep.createElement(vP,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(F1),isPresent:e,safeToRemove:n})}const wP={borderRadius:{...Yo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yo,borderTopRightRadius:Yo,borderBottomLeftRadius:Yo,borderBottomRightRadius:Yo,boxShadow:xP},WT=["TopLeft","TopRight","BottomLeft","BottomRight"],bP=WT.length,iv=t=>typeof t=="string"?parseFloat(t):t,ov=t=>typeof t=="number"||Y.test(t);function _P(t,e,n,r,s,i){s?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,TP(r)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,NP(r))):i&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<bP;a++){const l=`border${WT[a]}Radius`;let c=av(e,l),d=av(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||ov(c)===ov(d)?(t[l]=Math.max(Pe(iv(c),iv(d),r),0),(zn.test(d)||zn.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,r))}function av(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TP=qT(0,.5,mT),NP=qT(.5,.95,ze);function qT(t,e,n){return r=>r<t?0:r>e?1:n(Qa(t,e,r))}function lv(t,e){t.min=e.min,t.max=e.max}function un(t,e){lv(t.x,e.x),lv(t.y,e.y)}function cv(t,e,n,r,s){return t-=e,t=_u(t,1/n,r),s!==void 0&&(t=_u(t,1/s,r)),t}function EP(t,e=0,n=1,r=.5,s,i=t,a=t){if(zn.test(e)&&(e=parseFloat(e),e=Pe(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Pe(i.min,i.max,r);t===i&&(l-=e),t.min=cv(t.min,e,n,l,s),t.max=cv(t.max,e,n,l,s)}function uv(t,e,[n,r,s],i,a){EP(t,e[n],e[r],e[s],e.scale,i,a)}const jP=["x","scaleX","originX"],SP=["y","scaleY","originY"];function dv(t,e,n,r){uv(t.x,e,jP,n?n.x:void 0,r?r.x:void 0),uv(t.y,e,SP,n?n.y:void 0,r?r.y:void 0)}function hv(t){return t.translate===0&&t.scale===1}function GT(t){return hv(t.x)&&hv(t.y)}function IP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function KT(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function fv(t){return nn(t.x)/nn(t.y)}class kP{constructor(){this.members=[]}add(e){cg(this.members,e),e.scheduleRender()}remove(e){if(ug(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mv(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const CP=(t,e)=>t.depth-e.depth;class AP{constructor(){this.children=[],this.isDirty=!1}add(e){cg(this.children,e),this.isDirty=!0}remove(e){ug(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CP),this.isDirty=!1,this.children.forEach(e)}}function PP(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(pr(r),t(i-e))};return we.read(r,!0),()=>pr(r)}function RP(t){window.MotionDebug&&window.MotionDebug.record(t)}function DP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function MP(t,e,n){const r=Gt(t)?t:so(t);return r.start(lg("",r,e,n)),r.animation}const pv=["","X","Y","Z"],OP={visibility:"hidden"},gv=1e3;let VP=0;const Ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function QT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=VP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ss.totalNodes=Ss.resolvedTargetDeltas=Ss.recalculatedProjection=0,this.nodes.forEach(UP),this.nodes.forEach(WP),this.nodes.forEach(qP),this.nodes.forEach(BP),RP(Ss)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new AP)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new dg),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DP(a),this.instance=a;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=PP(m,250),Dc.hasAnimatedSinceResize&&(Dc.hasAnimatedSinceResize=!1,this.nodes.forEach(xv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||h.getDefaultTransition()||XP,{onLayoutAnimationStart:C,onLayoutAnimationComplete:y}=h.getProps(),g=!this.targetLayout||!KT(this.targetLayout,b)||x,w=!m&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const k={...ag(N,"layout"),onPlay:C,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else m||xv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GP),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yv);return}this.isUpdating||this.nodes.forEach($P),this.isUpdating=!1,this.nodes.forEach(HP),this.nodes.forEach(LP),this.nodes.forEach(FP),this.clearAllSnapshots();const l=performance.now();vt.delta=rs(0,1e3/60,l-vt.timestamp),vt.timestamp=l,vt.isProcessing=!0,Dh.update.process(vt),Dh.preRender.process(vt),Dh.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zP),this.sharedNodes.forEach(KP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!GT(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&(l||js(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),JP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return We();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Cr(l.x,c.offset.x),Cr(l.y,c.offset.y)),l}removeElementScroll(a){const l=We();un(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){un(l,a);const{scroll:m}=this.root;m&&(Cr(l.x,-m.offset.x),Cr(l.y,-m.offset.y))}Cr(l.x,h.offset.x),Cr(l.y,h.offset.y)}}return l}applyTransform(a,l=!1){const c=We();un(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Li(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),js(h.latestValues)&&Li(c,h.latestValues)}return js(this.latestValues)&&Li(c,this.latestValues),c}removeTransform(a){const l=We();un(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!js(d.latestValues))continue;xm(d.latestValues)&&d.updateSnapshot();const h=We(),f=d.measurePageBox();un(h,f),dv(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return js(this.latestValues)&&dv(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),_a(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),BT(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),_a(this.relativeTargetOrigin,this.target,x.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xm(this.parent.latestValues)||UT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;un(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;lP(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=Vi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi());const N=this.projectionTransform;ba(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=mv(this.projectionDelta,this.treeScale),(this.projectionTransform!==N||this.treeScale.x!==m||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Ss.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=We(),x=c?c.source:void 0,b=this.layout?this.layout.source:void 0,N=x!==b,C=this.getStack(),y=!C||C.members.length<=1,g=!!(N&&!y&&this.options.crossfade===!0&&!this.path.some(YP));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const M=k/1e3;vv(f.x,a.x,M),vv(f.y,a.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_a(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QP(this.relativeTarget,this.relativeTargetOrigin,m,M),w&&IP(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=We()),un(w,this.relativeTarget)),N&&(this.animationValues=h,_P(h,d,this.latestValues,M,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Dc.hasAnimatedSinceResize=!0,this.currentAnimation=MP(0,gv,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&YT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||We();const f=nn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=nn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}un(l,c),Li(l,h),ba(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new kP),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<pv.length;h++){const f="rotate"+pv[h];c[f]&&(d[f]=c[f],a.setStaticValue(f,0))}a.render();for(const h in d)a.setStaticValue(h,d[h]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OP;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Rc(a==null?void 0:a.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Rc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(N.transform=h?h({},""):"none",this.hasProjected=!1),N}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=mv(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x,y:b}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const N in mu){if(m[N]===void 0)continue;const{correct:C,applyTo:y}=mu[N],g=d.transform==="none"?m[N]:C(m[N],f);if(y){const w=y.length;for(let k=0;k<w;k++)d[y[k]]=g}else d[N]=g}return this.options.layoutId&&(d.pointerEvents=f===this?Rc(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(yv),this.root.sharedNodes.clear()}}}function LP(t){t.updateLayout()}function FP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?dn(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],x=nn(m);m.min=r[f].min,m.max=m.min+x}):YT(i,n.layoutBox,r)&&dn(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],x=nn(r[f]);m.max=m.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const l=Vi();ba(l,r,n.layoutBox);const c=Vi();a?ba(c,t.applyTransform(s,!0),n.measuredBox):ba(c,r,n.layoutBox);const d=!GT(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:x}=f;if(m&&x){const b=We();_a(b,n.layoutBox,m.layoutBox);const N=We();_a(N,r,x.layoutBox),KT(b,N)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function UP(t){Ss.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zP(t){t.clearSnapshot()}function yv(t){t.clearMeasurements()}function $P(t){t.isLayoutDirty=!1}function HP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WP(t){t.resolveTargetDelta()}function qP(t){t.calcProjection()}function GP(t){t.resetRotation()}function KP(t){t.removeLeadSnapshot()}function vv(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wv(t,e,n,r){t.min=Pe(e.min,n.min,r),t.max=Pe(e.max,n.max,r)}function QP(t,e,n,r){wv(t.x,e.x,n.x,r),wv(t.y,e.y,n.y,r)}function YP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XP={duration:.45,ease:[.4,0,.1,1]},bv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),_v=bv("applewebkit/")&&!bv("chrome/")?Math.round:ze;function Tv(t){t.min=_v(t.min),t.max=_v(t.max)}function JP(t){Tv(t.x),Tv(t.y)}function YT(t,e,n){return t==="position"||t==="preserve-aspect"&&!gm(fv(e),fv(n),.2)}const ZP=QT({attachResizeListener:(t,e)=>rr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wh={current:void 0},XT=QT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wh.current){const t=new ZP({});t.mount(window),t.setOptions({layoutScroll:!0}),Wh.current=t}return Wh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eR={pan:{Feature:gP},drag:{Feature:pP,ProjectionNode:XT,MeasureLayout:HT}},tR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nR(t){const e=tR.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function wm(t,e,n=1){const[r,s]=nR(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return RT(a)?parseFloat(a):a}else return cm(s)?wm(s,e,n+1):s}function rR(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!cm(i))return;const a=wm(i,r);a&&s.set(a)});for(const s in e){const i=e[s];if(!cm(i))continue;const a=wm(i,r);a&&(e[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const sR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),JT=t=>sR.has(t),iR=t=>Object.keys(t).some(JT),Nv=t=>t===oi||t===Y,Ev=(t,e)=>parseFloat(t.split(", ")[e]),jv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Ev(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Ev(i[1],t):0}},oR=new Set(["x","y","z"]),aR=fl.filter(t=>!oR.has(t));function lR(t){const e=[];return aR.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const io={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:jv(4,13),y:jv(5,14)};io.translateX=io.x;io.translateY=io.y;const cR=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=io[d](r,i)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=io[d](c,i)}),t},uR=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(JT);let i=[],a=!1;const l=[];if(s.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=Qo(h);const m=e[c];let x;if(gu(m)){const b=m.length,N=m[0]===null?1:0;h=m[N],f=Qo(h);for(let C=N;C<b&&m[C]!==null;C++)x?yu(Qo(m[C])===x):x=Qo(m[C])}else x=Qo(m);if(f!==x)if(Nv(f)&&Nv(x)){const b=d.get();typeof b=="string"&&d.set(parseFloat(b)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&x===Y&&(e[c]=m.map(parseFloat))}else f!=null&&f.transform&&(x!=null&&x.transform)&&(h===0||m===0)?h===0?d.set(x.transform(h)):e[c]=f.transform(m):(a||(i=lR(t),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=cR(e,t,l);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),od&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function dR(t,e,n,r){return iR(e)?uR(t,e,n,r):{target:e,transitionEnd:r}}const hR=(t,e,n,r)=>{const s=rR(t,e,r);return e=s.target,r=s.transitionEnd,dR(t,e,n,r)},bm={current:null},ZT={current:!1};function fR(){if(ZT.current=!0,!!od)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bm.current=t.matches;t.addListener(e),e()}else bm.current=!1}function mR(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],a=n[s];if(Gt(i))t.addValue(s,i),bu(r)&&r.add(s);else if(Gt(a))t.addValue(s,so(i,{owner:t})),bu(r)&&r.remove(s);else if(a!==i)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,so(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Sv=new WeakMap,eN=Object.keys(Ka),pR=eN.length,Iv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gR=Kp.length;class yR{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>we.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=ld(n),this.isVariantNode=L1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const m=h[f];l[f]!==void 0&&Gt(m)&&(m.set(l[f],!1),bu(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Sv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ZT.current||fR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sv.delete(this.current),this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ii.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&we.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let a,l;for(let c=0;c<pR;c++){const d=eN[c],{isEnabled:h,Feature:f,ProjectionNode:m,MeasureLayout:x}=Ka[d];m&&(a=m),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:x}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&Mi(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:x})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Iv.length;r++){const s=Iv[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=mR(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<gR;r++){const s=Kp[r],i=this.props[s];(Ga(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=so(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ng(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Gt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class tN extends yR{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let a=DA(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){PA(this,r,a);const l=hR(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function xR(t){return window.getComputedStyle(t)}class vR extends tN{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ii.has(n)){const r=og(n);return r&&r.default||0}else{const r=xR(e),s=(z1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zT(e,n)}build(e,n,r,s){Xp(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return tg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){K1(e,n,r,s)}}class wR extends tN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ii.has(n)){const r=og(n);return r&&r.default||0}return n=Q1.has(n)?n:qp(n),e.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(e,n){return X1(e,n)}build(e,n,r,s){Zp(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){Y1(e,n,r,s)}mount(e){this.isSVGTag=eg(e.tagName),super.mount(e)}}const bR=(t,e)=>Yp(t)?new wR(e,{enableHardwareAcceleration:!1}):new vR(e,{enableHardwareAcceleration:!0}),_R={layout:{ProjectionNode:XT,MeasureLayout:HT}},TR={...QA,...gC,...eR,..._R},A=Ek((t,e)=>rC(t,e,TR,bR));function nN(){const t=D.useRef(!1);return Wp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function NR(){const t=nN(),[e,n]=D.useState(0),r=D.useCallback(()=>{t.current&&n(e+1)},[e]);return[D.useCallback(()=>we.postRender(r),[r]),e]}class ER extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jR({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),D.createElement(ER,{isPresent:e,childRef:r,sizeRef:s},D.cloneElement(t,{ref:r}))}const qh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=J1(SR),c=D.useId(),d=D.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),i?void 0:[n]);return D.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),D.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=D.createElement(jR,{isPresent:n},t)),D.createElement(id.Provider,{value:d},t)};function SR(){return new Map}function IR(t){return D.useEffect(()=>()=>t(),[])}const Is=t=>t.key||"";function kR(t,e){t.forEach(n=>{const r=Is(n);e.set(r,n)})}function CR(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const AR=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=D.useContext(Qp).forceRender||NR()[0],c=nN(),d=CR(t);let h=d;const f=D.useRef(new Map).current,m=D.useRef(h),x=D.useRef(new Map).current,b=D.useRef(!0);if(Wp(()=>{b.current=!1,kR(d,x),m.current=h}),IR(()=>{b.current=!0,x.clear(),f.clear()}),b.current)return D.createElement(D.Fragment,null,h.map(g=>D.createElement(qh,{key:Is(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},g)));h=[...h];const N=m.current.map(Is),C=d.map(Is),y=N.length;for(let g=0;g<y;g++){const w=N[g];C.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return a==="wait"&&f.size&&(h=[]),f.forEach((g,w)=>{if(C.indexOf(w)!==-1)return;const k=x.get(w);if(!k)return;const M=N.indexOf(w);let O=g;if(!O){const _=()=>{f.delete(w);const T=Array.from(x.keys()).filter(E=>!C.includes(E));if(T.forEach(E=>x.delete(E)),m.current=d.filter(E=>{const S=Is(E);return S===w||T.includes(S)}),!f.size){if(c.current===!1)return;l(),r&&r()}};O=D.createElement(qh,{key:Is(k),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:i,mode:a},k),f.set(w,O)}h.splice(M,0,O)}),h=h.map(g=>{const w=g.key;return f.has(w)?g:D.createElement(qh,{key:Is(g),isPresent:!0,presenceAffectsLayout:i,mode:a},g)}),D.createElement(D.Fragment,null,f.size?h:h.map(g=>D.cloneElement(g)))};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},PR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},sN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,x=d&63;c||(x=64,a||(m=64)),r.push(n[h],n[f],n[m],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new RR;const m=i<<2|l>>4;if(r.push(m),d!==64){const x=l<<4&240|d>>2;if(r.push(x),f!==64){const b=d<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DR=function(t){const e=rN(t);return sN.encodeByteArray(e,!0)},Tu=function(t){return DR(t).replace(/\./g,"")},iN=function(t){try{return sN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=()=>MR().__FIREBASE_DEFAULTS__,VR=()=>{if(typeof process>"u"||typeof kv>"u")return;const t=kv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iN(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return OR()||VR()||LR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oN=t=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aN=t=>{const e=oN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lN=()=>{var t;return(t=hd())===null||t===void 0?void 0:t.config},cN=t=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tu(JSON.stringify(n)),Tu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function BR(){var t;const e=(t=hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WR(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hN(){try{return typeof indexedDB=="object"}catch{return!1}}function fN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function qR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GR,Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ai.prototype.create)}}class ai{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?KR(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new vn(s,l,r)}}function KR(t,e){return t.replace(QR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QR=/\{\$([^}]+)}/g;function YR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Cv(i)&&Cv(a)){if(!Ya(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Cv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ia(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XR(t,e){const n=new JR(t,e);return n.subscribe.bind(n)}class JR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Gh),s.error===void 0&&(s.error=Gh),s.complete===void 0&&(s.complete=Gh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=1e3,tD=2,nD=4*60*60*1e3,rD=.5;function Av(t,e=eD,n=tD){const r=e*Math.pow(n,t),s=Math.round(rD*r*(Math.random()-.5)*2);return Math.min(nD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t){return t&&t._delegate?t._delegate:t}class xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oD(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iD(t){return t===ks?void 0:t}function oD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const lD={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},cD=oe.INFO,uD={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},dD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=uD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fd{constructor(e){this.name=e,this._logLevel=cD,this._logHandler=dD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const hD=(t,e)=>e.some(n=>t instanceof n);let Pv,Rv;function fD(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mN=new WeakMap,_m=new WeakMap,pN=new WeakMap,Kh=new WeakMap,hg=new WeakMap;function pD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Yr(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&mN.set(n,t)}).catch(()=>{}),hg.set(e,t),e}function gD(t){if(_m.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});_m.set(t,e)}let Tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yD(t){Tm=t(Tm)}function xD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qh(this),e,...n);return pN.set(r,e.sort?e.sort():[e]),Yr(r)}:mD().includes(t)?function(...e){return t.apply(Qh(this),e),Yr(mN.get(this))}:function(...e){return Yr(t.apply(Qh(this),e))}}function vD(t){return typeof t=="function"?xD(t):(t instanceof IDBTransaction&&gD(t),hD(t,fD())?new Proxy(t,Tm):t)}function Yr(t){if(t instanceof IDBRequest)return pD(t);if(Kh.has(t))return Kh.get(t);const e=vD(t);return e!==t&&(Kh.set(t,e),hg.set(e,t)),e}const Qh=t=>hg.get(t);function gN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Yr(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Yr(a.result),c.oldVersion,c.newVersion,Yr(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const wD=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],Yh=new Map;function Dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=bD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wD.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Yh.set(e,i),i}yD(t=>({...t,get:(e,n,r)=>Dv(e,n)||t.get(e,n,r),has:(e,n)=>!!Dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",Mv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new fd("@firebase/app"),ND="@firebase/app-compat",ED="@firebase/analytics-compat",jD="@firebase/analytics",SD="@firebase/app-check-compat",ID="@firebase/app-check",kD="@firebase/auth",CD="@firebase/auth-compat",AD="@firebase/database",PD="@firebase/data-connect",RD="@firebase/database-compat",DD="@firebase/functions",MD="@firebase/functions-compat",OD="@firebase/installations",VD="@firebase/installations-compat",LD="@firebase/messaging",FD="@firebase/messaging-compat",UD="@firebase/performance",BD="@firebase/performance-compat",zD="@firebase/remote-config",$D="@firebase/remote-config-compat",HD="@firebase/storage",WD="@firebase/storage-compat",qD="@firebase/firestore",GD="@firebase/vertexai-preview",KD="@firebase/firestore-compat",QD="firebase",YD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",XD={[Nm]:"fire-core",[ND]:"fire-core-compat",[jD]:"fire-analytics",[ED]:"fire-analytics-compat",[ID]:"fire-app-check",[SD]:"fire-app-check-compat",[kD]:"fire-auth",[CD]:"fire-auth-compat",[AD]:"fire-rtdb",[PD]:"fire-data-connect",[RD]:"fire-rtdb-compat",[DD]:"fire-fn",[MD]:"fire-fn-compat",[OD]:"fire-iid",[VD]:"fire-iid-compat",[LD]:"fire-fcm",[FD]:"fire-fcm-compat",[UD]:"fire-perf",[BD]:"fire-perf-compat",[zD]:"fire-rc",[$D]:"fire-rc-compat",[HD]:"fire-gcs",[WD]:"fire-gcs-compat",[qD]:"fire-fst",[KD]:"fire-fst-compat",[GD]:"fire-vertex","fire-js":"fire-js",[QD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,JD=new Map,jm=new Map;function Ov(t,e){try{t.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){const e=t.name;if(jm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of Nu.values())Ov(n,t);for(const n of JD.values())Ov(n,t);return!0}function fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new ai("app","Firebase",ZD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=YD;function yN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Xr.create("bad-app-name",{appName:String(s)});if(n||(n=lN()),!n)throw Xr.create("no-options");const i=Nu.get(s);if(i){if(Ya(n,i.options)&&Ya(r,i.config))return i;throw Xr.create("duplicate-app",{appName:s})}const a=new aD(s);for(const c of jm.values())a.addComponent(c);const l=new e4(n,r,a);return Nu.set(s,l),l}function md(t=Em){const e=Nu.get(t);if(!e&&t===Em&&lN())return yN();if(!e)throw Xr.create("no-app",{appName:t});return e}function Ht(t,e,n){var r;let s=(r=XD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(l.join(" "));return}Cn(new xn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebase-heartbeat-database",n4=1,Xa="firebase-heartbeat-store";let Xh=null;function xN(){return Xh||(Xh=gN(t4,n4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),Xh}async function r4(t){try{const n=(await xN()).transaction(Xa),r=await n.objectStore(Xa).get(vN(t));return await n.done,r}catch(e){if(e instanceof vn)gr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Vv(t,e){try{const r=(await xN()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,vN(t)),await r.done}catch(n){if(n instanceof vn)gr.warn(n.message);else{const r=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(r.message)}}}function vN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=1024,i4=30*24*60*60*1e3;class o4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=i4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lv(),{heartbeatsToSend:r,unsentEntries:s}=a4(this._heartbeatsCache.heartbeats),i=Tu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return gr.warn(n),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function a4(t,e=s4){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Fv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hN()?fN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fv(t){return Tu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){Cn(new xn("platform-logger",e=>new _D(e),"PRIVATE")),Cn(new xn("heartbeat",e=>new o4(e),"PRIVATE")),Ht(Nm,Mv,t),Ht(Nm,Mv,"esm2017"),Ht("fire-js","")}c4("");function fg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u4=wN,bN=new ai("auth","Firebase",wN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new fd("@firebase/auth");function d4(t,...e){Eu.logLevel<=oe.WARN&&Eu.warn(`Auth (${li}): ${t}`,...e)}function Mc(t,...e){Eu.logLevel<=oe.ERROR&&Eu.error(`Auth (${li}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw mg(t,...e)}function $n(t,...e){return mg(t,...e)}function _N(t,e,n){const r=Object.assign(Object.assign({},u4()),{[e]:n});return new ai("auth","Firebase",r).create(e,{appName:t.name})}function Jr(t){return _N(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bN.create(t,...e)}function X(t,e,...n){if(!t)throw mg(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mc(e),new Error(e)}function yr(t,e){t||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h4(){return Uv()==="http:"||Uv()==="https:"}function Uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h4()||dN()||"connection"in navigator)?navigator.onLine:!0}function m4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=UR()||$R()}get(){return f4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new xl(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ms(t,e,n,r,s={}){return NN(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=yl(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return zR()||(d.referrerPolicy="no-referrer"),TN.fetch()(EN(t,t.config.apiHost,n,l),d)})}async function NN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},p4),e);try{const s=new x4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw mc(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw mc(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _N(t,h,d);An(t,h)}}catch(s){if(s instanceof vn)throw s;An(t,"network-request-failed",{message:String(s)})}}async function pd(t,e,n,r,s={}){const i=await ms(t,e,n,r,s);return"mfaPendingCredential"in i&&An(t,"multi-factor-auth-required",{_serverResponse:i}),i}function EN(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?pg(t.config,s):`${t.config.apiScheme}://${s}`}function y4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),g4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$n(t,e,r);return s.customData._tokenResponse=n,s}function Bv(t){return t!==void 0&&t.enterprise!==void 0}class v4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function w4(t,e){return ms(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){return ms(t,"POST","/v1/accounts:delete",e)}async function jN(t,e){return ms(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _4(t,e=!1){const n=Ee(t),r=await n.getIdToken(e),s=gg(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ta(Jh(s.auth_time)),issuedAtTime:Ta(Jh(s.iat)),expirationTime:Ta(Jh(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jh(t){return Number(t)*1e3}function gg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const s=iN(n);return s?JSON.parse(s):(Mc("Failed to decode base64 JWT payload"),null)}catch(s){return Mc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zv(t){const e=gg(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vn&&T4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ja(t,jN(n,{idToken:r}));X(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?SN(i.providerUserInfo):[],l=j4(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Im(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function E4(t){const e=Ee(t);await ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function SN(t){return t.map(e=>{var{providerId:n}=e,r=fg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){const n=await NN(t,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=EN(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",TN.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I4(t,e){return ms(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await S4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new qi;return r&&(X(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qi,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Im(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _4(this,e)}reload(){return E4(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Ja(this,b4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(d=n.createdAt)!==null&&d!==void 0?d:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:k,isAnonymous:M,providerData:O,stsTokenManager:_}=n;X(w&&_,e,"internal-error");const T=qi.fromJSON(this.name,_);X(typeof w=="string",e,"internal-error"),Er(f,e.name),Er(m,e.name),X(typeof k=="boolean",e,"internal-error"),X(typeof M=="boolean",e,"internal-error"),Er(x,e.name),Er(b,e.name),Er(N,e.name),Er(C,e.name),Er(y,e.name),Er(g,e.name);const E=new or({uid:w,auth:e,email:m,emailVerified:k,displayName:f,isAnonymous:M,photoURL:b,phoneNumber:x,tenantId:N,stsTokenManager:T,createdAt:y,lastLoginAt:g});return O&&Array.isArray(O)&&(E.providerData=O.map(S=>Object.assign({},S))),C&&(E._redirectEventId=C),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new qi;s.updateFromServerResponse(n);const i=new or({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ju(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?SN(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new qi;l.updateFromIdToken(r);const c=new or({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Im(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function ar(t){yr(t instanceof Function,"Expected a class definition");let e=$v.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$v.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IN.type="NONE";const Hv=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class Gi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Oc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Oc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gi(ar(Hv),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ar(Hv);const a=Oc(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){const f=or._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Gi(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Gi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DN(e))return"Blackberry";if(MN(e))return"Webos";if(CN(e))return"Safari";if((e.includes("chrome/")||AN(e))&&!e.includes("edge/"))return"Chrome";if(RN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kN(t=jt()){return/firefox\//i.test(t)}function CN(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AN(t=jt()){return/crios\//i.test(t)}function PN(t=jt()){return/iemobile/i.test(t)}function RN(t=jt()){return/android/i.test(t)}function DN(t=jt()){return/blackberry/i.test(t)}function MN(t=jt()){return/webos/i.test(t)}function yg(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k4(t=jt()){var e;return yg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C4(){return HR()&&document.documentMode===10}function ON(t=jt()){return yg(t)||RN(t)||MN(t)||DN(t)||/windows phone/i.test(t)||PN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e=[]){let n;switch(t){case"Browser":n=Wv(jt());break;case"Worker":n=`${Wv(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e={}){return ms(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=6;class D4{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:R4,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new A4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Gi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jN(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Jr(this));const n=e?Ee(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P4(this),n=new D4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ai("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Gi.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&d4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wo(t){return Ee(t)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=XR(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O4(t){gd=t}function LN(t){return gd.loadJS(t)}function V4(){return gd.recaptchaEnterpriseScript}function L4(){return gd.gapiScript}function F4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const U4="recaptcha-enterprise",B4="NO_RECAPTCHA";class z4{constructor(e){this.type=U4,this.auth=wo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{w4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new v4(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;Bv(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(B4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&Bv(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=V4();c.length!==0&&(c+=l),LN(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function Gv(t,e,n,r=!1){const s=new z4(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Kv(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Gv(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Gv(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t,e){const n=fs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ya(i,e??{}))return s;An(s,"already-initialized")}return n.initialize({options:e})}function H4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W4(t,e,n){const r=wo(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=FN(e),{host:a,port:l}=q4(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),G4()}function FN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q4(t){const e=FN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Qv(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Qv(a)}}}function Qv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function K4(t,e){return ms(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e){return pd(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return pd(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function X4(t,e){return pd(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends xg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Za(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Za(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kv(e,n,"signInWithPassword",Q4);case"emailLink":return Y4(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kv(e,r,"signUpPassword",K4);case"emailLink":return X4(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ki(t,e){return pd(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="http://localhost";class Ks extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=fg(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Ks(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ki(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ki(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ki(e,n)}buildRequest(){const e={requestUri:J4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e5(t){const e=sa(ia(t)).link,n=e?sa(ia(e)).deep_link_id:null,r=sa(ia(t)).deep_link_id;return(r?sa(ia(r)).link:null)||r||n||e||t}class vg{constructor(e){var n,r,s,i,a,l;const c=sa(ia(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Z4((s=c.mode)!==null&&s!==void 0?s:null);X(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=e5(e);try{return new vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return Za._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vg.parseLink(n);return X(r,"argument-error"),Za._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends UN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends vl{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends vl{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends vl{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await or._fromIdTokenResponse(e,r,s),a=Yv(r);return new oo({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Yv(r);return new oo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Yv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends vn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Su.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Su(e,n,r,s)}}function BN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Su._fromErrorAndOperation(t,i,e,r):i})}async function t5(t,e,n=!1){const r=await Ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Jr(r));const s="reauthenticate";try{const i=await Ja(t,BN(r,s,e,t),n);X(i.idToken,r,"internal-error");const a=gg(i.idToken);X(a,r,"internal-error");const{sub:l}=a;return X(t.uid===l,r,"user-mismatch"),oo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&An(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e,n=!1){if(sr(t.app))return Promise.reject(Jr(t));const r="signIn",s=await BN(t,r,e),i=await oo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function r5(t,e){return zN(wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t){const e=wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function i5(t,e,n){return sr(t.app)?Promise.reject(Jr(t)):r5(Ee(t),bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s5(t),r})}function o5(t,e,n,r){return Ee(t).onIdTokenChanged(e,n,r)}function a5(t,e,n){return Ee(t).beforeAuthStateChanged(e,n)}function $N(t,e,n,r){return Ee(t).onAuthStateChanged(e,n,r)}function l5(t){return Ee(t).signOut()}const Iu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=1e3,u5=10;class WN extends HN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ON(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);C4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,u5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},c5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WN.type="LOCAL";const d5=WN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN extends HN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qN.type="SESSION";const GN=qN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await h5(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=wg("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function m5(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function p5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y5(){return KN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebaseLocalStorageDb",x5=1,ku="firebaseLocalStorage",YN="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xd(t,e){return t.transaction([ku],e?"readwrite":"readonly").objectStore(ku)}function v5(){const t=indexedDB.deleteDatabase(QN);return new wl(t).toPromise()}function km(){const t=indexedDB.open(QN,x5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ku,{keyPath:YN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ku)?e(r):(r.close(),await v5(),e(await km()))})})}async function Xv(t,e,n){const r=xd(t,!0).put({[YN]:e,value:n});return new wl(r).toPromise()}async function w5(t,e){const n=xd(t,!1).get(e),r=await new wl(n).toPromise();return r===void 0?null:r.value}function Jv(t,e){const n=xd(t,!0).delete(e);return new wl(n).toPromise()}const b5=800,_5=3;class XN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(y5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p5(),!this.activeServiceWorker)return;this.sender=new f5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Xv(e,Iu,"1"),await Jv(e,Iu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>w5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=xd(s,!1).getAll();return new wl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XN.type="LOCAL";const T5=XN;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t,e){return e?ar(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E5(t){return zN(t.auth,new bg(t),t.bypassAuthState)}function j5(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),n5(n,new bg(t),t.bypassAuthState)}async function S5(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),t5(n,new bg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E5;case"linkViaPopup":case"linkViaRedirect":return S5;case"reauthViaPopup":case"reauthViaRedirect":return j5;default:An(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new xl(2e3,1e4);class Fi extends JN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Fi.currentPopupAction&&Fi.currentPopupAction.cancel(),Fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I5.get())};e()}}Fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="pendingRedirect",Vc=new Map;class C5 extends JN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const r=await A5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A5(t,e){const n=D5(e),r=R5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function P5(t,e){Vc.set(t._key(),e)}function R5(t){return ar(t._redirectPersistence)}function D5(t){return Oc(k5,t.config.apiKey,t.name)}async function M5(t,e,n=!1){if(sr(t.app))return Promise.reject(Jr(t));const r=wo(t),s=N5(r,e),a=await new C5(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=10*60*1e3;class V5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e={}){return ms(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B5=/^https?/;async function z5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F5(t);for(const n of e)try{if($5(n))return}catch{}An(t,"unauthorized-domain")}function $5(t){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!B5.test(n))return!1;if(U5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new xl(3e4,6e4);function ew(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W5(t){return new Promise((e,n)=>{var r,s,i;function a(){ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ew(),n($n(t,"network-request-failed"))},timeout:H5.get()})}if(!((s=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Hn().gapi)===null||i===void 0)&&i.load)a();else{const l=F4("iframefcb");return Hn()[l]=()=>{gapi.load?a():n($n(t,"network-request-failed"))},LN(`${L4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function q5(t){return Lc=Lc||W5(t),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new xl(5e3,15e3),K5="__/auth/iframe",Q5="emulator/auth/iframe",Y5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J5(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pg(e,Q5):`https://${t.config.authDomain}/${K5}`,r={apiKey:e.apiKey,appName:t.name,v:li},s=X5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yl(r).slice(1)}`}async function Z5(t){const e=await q5(t),n=Hn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:J5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=$n(t,"network-request-failed"),l=Hn().setTimeout(()=>{i(a)},G5.get());function c(){Hn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t3=500,n3=600,r3="_blank",s3="http://localhost";class tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i3(t,e,n,r=t3,s=n3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},e3),{width:r.toString(),height:s.toString(),top:i,left:a}),d=jt().toLowerCase();n&&(l=AN(d)?r3:n),kN(d)&&(e=e||s3,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[x,b])=>`${m}${x}=${b},`,"");if(k4(d)&&l!=="_self")return o3(e||"",l),new tw(null);const f=window.open(e||"",l,h);X(f,t,"popup-blocked");try{f.focus()}catch{}return new tw(f)}function o3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="__/auth/handler",l3="emulator/auth/handler",c3=encodeURIComponent("fac");async function nw(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:s};if(e instanceof UN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",YR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof vl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${c3}=${encodeURIComponent(c)}`:"";return`${u3(t)}?${yl(l).slice(1)}${d}`}function u3({config:t}){return t.emulator?pg(t,l3):`https://${t.authDomain}/${a3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="webStorageSupport";class d3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GN,this._completeRedirectFn=M5,this._overrideRedirectResult=P5}async _openPopup(e,n,r,s){var i;yr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await nw(e,n,r,Sm(),s);return i3(e,a,wg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await nw(e,n,r,Sm(),s);return m5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z5(e),r=new V5(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zh,{type:Zh},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Zh];a!==void 0&&n(!!a),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ON()||CN()||yg()}}const h3=d3;var rw="@firebase/auth",sw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p3(t){Cn(new xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;X(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VN(t)},d=new M4(r,s,i,c);return H4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new xn("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(r=>new f3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(rw,sw,m3(t)),Ht(rw,sw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=5*60,y3=cN("authIdTokenMaxAge")||g3;let iw=null;const x3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y3)return;const s=n==null?void 0:n.token;iw!==s&&(iw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function v3(t=md()){const e=fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$4(t,{popupRedirectResolver:h3,persistence:[T5,d5,GN]}),r=cN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=x3(i.toString());a5(n,a,()=>a(n.currentUser)),o5(n,l=>a(l))}}const s=oN("auth");return s&&W4(n,`http://${s}`),n}function w3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}O4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$n("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",w3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p3("Browser");var b3="firebase",_3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht(b3,_3,"app");var ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,eE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function E(){}E.prototype=T.prototype,_.D=T.prototype,_.prototype=new E,_.prototype.constructor=_,_.C=function(S,P,R){for(var I=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)I[ae-2]=arguments[ae];return T.prototype[P].apply(S,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,T,E){E||(E=0);var S=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)S[P]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(P=0;16>P;++P)S[P]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=_.g[0],E=_.g[1],P=_.g[2];var R=_.g[3],I=T+(R^E&(P^R))+S[0]+3614090360&4294967295;T=E+(I<<7&4294967295|I>>>25),I=R+(P^T&(E^P))+S[1]+3905402710&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(E^R&(T^E))+S[2]+606105819&4294967295,P=R+(I<<17&4294967295|I>>>15),I=E+(T^P&(R^T))+S[3]+3250441966&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(R^E&(P^R))+S[4]+4118548399&4294967295,T=E+(I<<7&4294967295|I>>>25),I=R+(P^T&(E^P))+S[5]+1200080426&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(E^R&(T^E))+S[6]+2821735955&4294967295,P=R+(I<<17&4294967295|I>>>15),I=E+(T^P&(R^T))+S[7]+4249261313&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(R^E&(P^R))+S[8]+1770035416&4294967295,T=E+(I<<7&4294967295|I>>>25),I=R+(P^T&(E^P))+S[9]+2336552879&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(E^R&(T^E))+S[10]+4294925233&4294967295,P=R+(I<<17&4294967295|I>>>15),I=E+(T^P&(R^T))+S[11]+2304563134&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(R^E&(P^R))+S[12]+1804603682&4294967295,T=E+(I<<7&4294967295|I>>>25),I=R+(P^T&(E^P))+S[13]+4254626195&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(E^R&(T^E))+S[14]+2792965006&4294967295,P=R+(I<<17&4294967295|I>>>15),I=E+(T^P&(R^T))+S[15]+1236535329&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(P^R&(E^P))+S[1]+4129170786&4294967295,T=E+(I<<5&4294967295|I>>>27),I=R+(E^P&(T^E))+S[6]+3225465664&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(R^T))+S[11]+643717713&4294967295,P=R+(I<<14&4294967295|I>>>18),I=E+(R^T&(P^R))+S[0]+3921069994&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^R&(E^P))+S[5]+3593408605&4294967295,T=E+(I<<5&4294967295|I>>>27),I=R+(E^P&(T^E))+S[10]+38016083&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(R^T))+S[15]+3634488961&4294967295,P=R+(I<<14&4294967295|I>>>18),I=E+(R^T&(P^R))+S[4]+3889429448&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^R&(E^P))+S[9]+568446438&4294967295,T=E+(I<<5&4294967295|I>>>27),I=R+(E^P&(T^E))+S[14]+3275163606&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(R^T))+S[3]+4107603335&4294967295,P=R+(I<<14&4294967295|I>>>18),I=E+(R^T&(P^R))+S[8]+1163531501&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^R&(E^P))+S[13]+2850285829&4294967295,T=E+(I<<5&4294967295|I>>>27),I=R+(E^P&(T^E))+S[2]+4243563512&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(R^T))+S[7]+1735328473&4294967295,P=R+(I<<14&4294967295|I>>>18),I=E+(R^T&(P^R))+S[12]+2368359562&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(E^P^R)+S[5]+4294588738&4294967295,T=E+(I<<4&4294967295|I>>>28),I=R+(T^E^P)+S[8]+2272392833&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^E)+S[11]+1839030562&4294967295,P=R+(I<<16&4294967295|I>>>16),I=E+(P^R^T)+S[14]+4259657740&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^R)+S[1]+2763975236&4294967295,T=E+(I<<4&4294967295|I>>>28),I=R+(T^E^P)+S[4]+1272893353&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^E)+S[7]+4139469664&4294967295,P=R+(I<<16&4294967295|I>>>16),I=E+(P^R^T)+S[10]+3200236656&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^R)+S[13]+681279174&4294967295,T=E+(I<<4&4294967295|I>>>28),I=R+(T^E^P)+S[0]+3936430074&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^E)+S[3]+3572445317&4294967295,P=R+(I<<16&4294967295|I>>>16),I=E+(P^R^T)+S[6]+76029189&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^R)+S[9]+3654602809&4294967295,T=E+(I<<4&4294967295|I>>>28),I=R+(T^E^P)+S[12]+3873151461&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^E)+S[15]+530742520&4294967295,P=R+(I<<16&4294967295|I>>>16),I=E+(P^R^T)+S[2]+3299628645&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(P^(E|~R))+S[0]+4096336452&4294967295,T=E+(I<<6&4294967295|I>>>26),I=R+(E^(T|~P))+S[7]+1126891415&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~E))+S[14]+2878612391&4294967295,P=R+(I<<15&4294967295|I>>>17),I=E+(R^(P|~T))+S[5]+4237533241&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~R))+S[12]+1700485571&4294967295,T=E+(I<<6&4294967295|I>>>26),I=R+(E^(T|~P))+S[3]+2399980690&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~E))+S[10]+4293915773&4294967295,P=R+(I<<15&4294967295|I>>>17),I=E+(R^(P|~T))+S[1]+2240044497&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~R))+S[8]+1873313359&4294967295,T=E+(I<<6&4294967295|I>>>26),I=R+(E^(T|~P))+S[15]+4264355552&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~E))+S[6]+2734768916&4294967295,P=R+(I<<15&4294967295|I>>>17),I=E+(R^(P|~T))+S[13]+1309151649&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~R))+S[4]+4149444226&4294967295,T=E+(I<<6&4294967295|I>>>26),I=R+(E^(T|~P))+S[11]+3174756917&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~E))+S[2]+718787259&4294967295,P=R+(I<<15&4294967295|I>>>17),I=E+(R^(P|~T))+S[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,_.g[2]=_.g[2]+P&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.u=function(_,T){T===void 0&&(T=_.length);for(var E=T-this.blockSize,S=this.B,P=this.h,R=0;R<T;){if(P==0)for(;R<=E;)s(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<T;)if(S[P++]=_.charCodeAt(R++),P==this.blockSize){s(this,S),P=0;break}}else for(;R<T;)if(S[P++]=_[R++],P==this.blockSize){s(this,S),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;var E=8*this.o;for(T=_.length-8;T<_.length;++T)_[T]=E&255,E/=256;for(this.u(_),_=Array(16),T=E=0;4>T;++T)for(var S=0;32>S;S+=8)_[E++]=this.g[T]>>>S&255;return _};function i(_,T){var E=l;return Object.prototype.hasOwnProperty.call(E,_)?E[_]:E[_]=T(_)}function a(_,T){this.h=T;for(var E=[],S=!0,P=_.length-1;0<=P;P--){var R=_[P]|0;S&&R==T||(E[P]=R,S=!1)}this.g=E}var l={};function c(_){return-128<=_&&128>_?i(_,function(T){return new a([T|0],0>T?-1:0)}):new a([_|0],0>_?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return C(d(-_));for(var T=[],E=1,S=0;_>=E;S++)T[S]=_/E|0,E*=4294967296;return new a(T,0)}function h(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return C(h(_.substring(1),T));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(T,8)),S=f,P=0;P<_.length;P+=8){var R=Math.min(8,_.length-P),I=parseInt(_.substring(P,P+R),T);8>R?(R=d(Math.pow(T,R)),S=S.j(R).add(d(I))):(S=S.j(E),S=S.add(d(I)))}return S}var f=c(0),m=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(N(this))return-C(this).m();for(var _=0,T=1,E=0;E<this.g.length;E++){var S=this.i(E);_+=(0<=S?S:4294967296+S)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b(this))return"0";if(N(this))return"-"+C(this).toString(_);for(var T=d(Math.pow(_,6)),E=this,S="";;){var P=k(E,T).g;E=y(E,P.j(T));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(_);if(E=P,b(E))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function b(_){if(_.h!=0)return!1;for(var T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function N(_){return _.h==-1}t.l=function(_){return _=y(this,_),N(_)?-1:b(_)?0:1};function C(_){for(var T=_.g.length,E=[],S=0;S<T;S++)E[S]=~_.g[S];return new a(E,~_.h).add(m)}t.abs=function(){return N(this)?C(this):this},t.add=function(_){for(var T=Math.max(this.g.length,_.g.length),E=[],S=0,P=0;P<=T;P++){var R=S+(this.i(P)&65535)+(_.i(P)&65535),I=(R>>>16)+(this.i(P)>>>16)+(_.i(P)>>>16);S=I>>>16,R&=65535,I&=65535,E[P]=I<<16|R}return new a(E,E[E.length-1]&-2147483648?-1:0)};function y(_,T){return _.add(C(T))}t.j=function(_){if(b(this)||b(_))return f;if(N(this))return N(_)?C(this).j(C(_)):C(C(this).j(_));if(N(_))return C(this.j(C(_)));if(0>this.l(x)&&0>_.l(x))return d(this.m()*_.m());for(var T=this.g.length+_.g.length,E=[],S=0;S<2*T;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var P=0;P<_.g.length;P++){var R=this.i(S)>>>16,I=this.i(S)&65535,ae=_.i(P)>>>16,rt=_.i(P)&65535;E[2*S+2*P]+=I*rt,g(E,2*S+2*P),E[2*S+2*P+1]+=R*rt,g(E,2*S+2*P+1),E[2*S+2*P+1]+=I*ae,g(E,2*S+2*P+1),E[2*S+2*P+2]+=R*ae,g(E,2*S+2*P+2)}for(S=0;S<T;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=T;S<2*T;S++)E[S]=0;return new a(E,0)};function g(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function w(_,T){this.g=_,this.h=T}function k(_,T){if(b(T))throw Error("division by zero");if(b(_))return new w(f,f);if(N(_))return T=k(C(_),T),new w(C(T.g),C(T.h));if(N(T))return T=k(_,C(T)),new w(C(T.g),T.h);if(30<_.g.length){if(N(_)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var E=m,S=T;0>=S.l(_);)E=M(E),S=M(S);var P=O(E,1),R=O(S,1);for(S=O(S,2),E=O(E,2);!b(S);){var I=R.add(S);0>=I.l(_)&&(P=P.add(E),R=I),S=O(S,1),E=O(E,1)}return T=y(_,P.j(T)),new w(P,T)}for(P=f;0<=_.l(T);){for(E=Math.max(1,Math.floor(_.m()/T.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(E),I=R.j(T);N(I)||0<I.l(_);)E-=S,R=d(E),I=R.j(T);b(R)&&(R=m),P=P.add(R),_=y(_,I)}return new w(P,_)}t.A=function(_){return k(this,_).h},t.and=function(_){for(var T=Math.max(this.g.length,_.g.length),E=[],S=0;S<T;S++)E[S]=this.i(S)&_.i(S);return new a(E,this.h&_.h)},t.or=function(_){for(var T=Math.max(this.g.length,_.g.length),E=[],S=0;S<T;S++)E[S]=this.i(S)|_.i(S);return new a(E,this.h|_.h)},t.xor=function(_){for(var T=Math.max(this.g.length,_.g.length),E=[],S=0;S<T;S++)E[S]=this.i(S)^_.i(S);return new a(E,this.h^_.h)};function M(_){for(var T=_.g.length+1,E=[],S=0;S<T;S++)E[S]=_.i(S)<<1|_.i(S-1)>>>31;return new a(E,_.h)}function O(_,T){var E=T>>5;T%=32;for(var S=_.g.length-E,P=[],R=0;R<S;R++)P[R]=0<T?_.i(R+E)>>>T|_.i(R+E+1)<<32-T:_.i(R+E);return new a(P,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eE=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Us=a}).apply(typeof ow<"u"?ow:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tE,oa,nE,Fc,Cm,rE,sE,iE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var v=r;u=u.split(".");for(var j=0;j<u.length-1;j++){var V=u[j];if(!(V in v))break e;v=v[V]}u=u[u.length-1],j=v[u],p=p(j),p!=j&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var v=0,j=!1,V={next:function(){if(!j&&v<u.length){var L=v++;return{value:p(L,u[L]),done:!1}}return j=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,v){return u.call.apply(u.bind,arguments)}function f(u,p,v){if(!u)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,j),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function m(u,p,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function x(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var j=v.slice();return j.push.apply(j,arguments),u.apply(this,j)}}function b(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(j,V,L){for(var $=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)$[ge-2]=arguments[ge];return p.prototype[V].apply(j,$)}}function N(u){const p=u.length;if(0<p){const v=Array(p);for(let j=0;j<p;j++)v[j]=u[j];return v}return[]}function C(u,p){for(let v=1;v<arguments.length;v++){const j=arguments[v];if(c(j)){const V=u.length||0,L=j.length||0;u.length=V+L;for(let $=0;$<L;$++)u[V+$]=j[$]}else u.push(j)}}class y{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function g(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(u,p,v){for(const j in u)p.call(v,u[j],j,u)}function _(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function T(u){const p={};for(const v in u)p[v]=u[v];return p}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(u,p){let v,j;for(let V=1;V<arguments.length;V++){j=arguments[V];for(v in j)u[v]=j[v];for(let L=0;L<E.length;L++)v=E[L],Object.prototype.hasOwnProperty.call(j,v)&&(u[v]=j[v])}}function P(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function R(u){l.setTimeout(()=>{throw u},0)}function I(){var u=G;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ae{constructor(){this.h=this.g=null}add(p,v){const j=rt.get();j.set(p,v),this.h?this.h.next=j:this.g=j,this.h=j}}var rt=new y(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,B=!1,G=new ae,J=()=>{const u=l.Promise.resolve(void 0);Ce=()=>{u.then(Q)}};var Q=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(v){R(v)}var p=rt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}B=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var on=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};l.addEventListener("test",v,p),l.removeEventListener("test",v,p)}catch{}return u}();function an(u,p){if(je.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,j=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(M){e:{try{k(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&an.aa.h.call(this)}}b(an,je);var St={2:"touch",3:"pen",4:"mouse"};an.prototype.h=function(){an.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),Fd=0;function So(u,p,v,j,V){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!j,this.ha=V,this.key=++Fd,this.da=this.fa=!1}function Yn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cn(u){this.src=u,this.g={},this.h=0}cn.prototype.add=function(u,p,v,j,V){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var $=Ud(u,p,j,V);return-1<$?(p=u[$],v||(p.fa=!1)):(p=new So(p,this.src,L,!!j,V),p.fa=v,u.push(p)),p};function Cl(u,p){var v=p.type;if(v in u.g){var j=u.g[v],V=Array.prototype.indexOf.call(j,p,void 0),L;(L=0<=V)&&Array.prototype.splice.call(j,V,1),L&&(Yn(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ud(u,p,v,j){for(var V=0;V<u.length;++V){var L=u[V];if(!L.da&&L.listener==p&&L.capture==!!v&&L.ha==j)return V}return-1}var Bd="closure_lm_"+(1e6*Math.random()|0),zd={};function y0(u,p,v,j,V){if(Array.isArray(p)){for(var L=0;L<p.length;L++)y0(u,p[L],v,j,V);return null}return v=w0(v),u&&u[ln]?u.K(p,v,d(j)?!!j.capture:!!j,V):mj(u,p,v,!1,j,V)}function mj(u,p,v,j,V,L){if(!p)throw Error("Invalid event type");var $=d(V)?!!V.capture:!!V,ge=Hd(u);if(ge||(u[Bd]=ge=new cn(u)),v=ge.add(p,v,j,$,L),v.proxy)return v;if(j=pj(),v.proxy=j,j.src=u,j.listener=v,u.addEventListener)on||(V=$),V===void 0&&(V=!1),u.addEventListener(p.toString(),j,V);else if(u.attachEvent)u.attachEvent(v0(p.toString()),j);else if(u.addListener&&u.removeListener)u.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pj(){function u(v){return p.call(u.src,u.listener,v)}const p=gj;return u}function x0(u,p,v,j,V){if(Array.isArray(p))for(var L=0;L<p.length;L++)x0(u,p[L],v,j,V);else j=d(j)?!!j.capture:!!j,v=w0(v),u&&u[ln]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],v=Ud(L,v,j,V),-1<v&&(Yn(L[v]),Array.prototype.splice.call(L,v,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=Hd(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ud(p,v,j,V)),(v=-1<u?p[u]:null)&&$d(v))}function $d(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ln])Cl(p.i,u);else{var v=u.type,j=u.proxy;p.removeEventListener?p.removeEventListener(v,j,u.capture):p.detachEvent?p.detachEvent(v0(v),j):p.addListener&&p.removeListener&&p.removeListener(j),(v=Hd(p))?(Cl(v,u),v.h==0&&(v.src=null,p[Bd]=null)):Yn(u)}}}function v0(u){return u in zd?zd[u]:zd[u]="on"+u}function gj(u,p){if(u.da)u=!0;else{p=new an(p,this);var v=u.listener,j=u.ha||u.src;u.fa&&$d(u),u=v.call(j,p)}return u}function Hd(u){return u=u[Bd],u instanceof cn?u:null}var Wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function w0(u){return typeof u=="function"?u:(u[Wd]||(u[Wd]=function(p){return u.handleEvent(p)}),u[Wd])}function ft(){re.call(this),this.i=new cn(this),this.M=this,this.F=null}b(ft,re),ft.prototype[ln]=!0,ft.prototype.removeEventListener=function(u,p,v,j){x0(this,u,p,v,j)};function It(u,p){var v,j=u.F;if(j)for(v=[];j;j=j.F)v.push(j);if(u=u.M,j=p.type||p,typeof p=="string")p=new je(p,u);else if(p instanceof je)p.target=p.target||u;else{var V=p;p=new je(j,u),S(p,V)}if(V=!0,v)for(var L=v.length-1;0<=L;L--){var $=p.g=v[L];V=Al($,j,!0,p)&&V}if($=p.g=u,V=Al($,j,!0,p)&&V,V=Al($,j,!1,p)&&V,v)for(L=0;L<v.length;L++)$=p.g=v[L],V=Al($,j,!1,p)&&V}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],j=0;j<v.length;j++)Yn(v[j]);delete u.g[p],u.h--}}this.F=null},ft.prototype.K=function(u,p,v,j){return this.i.add(String(u),p,!1,v,j)},ft.prototype.L=function(u,p,v,j){return this.i.add(String(u),p,!0,v,j)};function Al(u,p,v,j){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,L=0;L<p.length;++L){var $=p[L];if($&&!$.da&&$.capture==v){var ge=$.listener,st=$.ha||$.src;$.fa&&Cl(u.i,$),V=ge.call(st,j)!==!1&&V}}return V&&!j.defaultPrevented}function b0(u,p,v){if(typeof u=="function")v&&(u=m(u,v));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function _0(u){u.g=b0(()=>{u.g=null,u.i&&(u.i=!1,_0(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class yj extends re{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_0(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Io(u){re.call(this),this.h=u,this.g={}}b(Io,re);var T0=[];function N0(u){O(u.g,function(p,v){this.g.hasOwnProperty(v)&&$d(p)},u),u.g={}}Io.prototype.N=function(){Io.aa.N.call(this),N0(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qd=l.JSON.stringify,xj=l.JSON.parse,vj=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Gd(){}Gd.prototype.h=null;function E0(u){return u.h||(u.h=u.i())}function j0(){}var ko={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kd(){je.call(this,"d")}b(Kd,je);function Qd(){je.call(this,"c")}b(Qd,je);var vs={},S0=null;function Pl(){return S0=S0||new ft}vs.La="serverreachability";function I0(u){je.call(this,vs.La,u)}b(I0,je);function Co(u){const p=Pl();It(p,new I0(p))}vs.STAT_EVENT="statevent";function k0(u,p){je.call(this,vs.STAT_EVENT,u),this.stat=p}b(k0,je);function kt(u){const p=Pl();It(p,new k0(p,u))}vs.Ma="timingevent";function C0(u,p){je.call(this,vs.Ma,u),this.size=p}b(C0,je);function Ao(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function Po(){this.g=!0}Po.prototype.xa=function(){this.g=!1};function wj(u,p,v,j,V,L){u.info(function(){if(u.g)if(L)for(var $="",ge=L.split("&"),st=0;st<ge.length;st++){var ue=ge[st].split("=");if(1<ue.length){var mt=ue[0];ue=ue[1];var pt=mt.split("_");$=2<=pt.length&&pt[1]=="type"?$+(mt+"="+ue+"&"):$+(mt+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+j+") [attempt "+V+"]: "+p+`
`+v+`
`+$})}function bj(u,p,v,j,V,L,$){u.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+V+"]: "+p+`
`+v+`
`+L+" "+$})}function mi(u,p,v,j){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Tj(u,v)+(j?" "+j:"")})}function _j(u,p){u.info(function(){return"TIMEOUT: "+p})}Po.prototype.info=function(){};function Tj(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var j=v[u];if(!(2>j.length)){var V=j[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<V.length;$++)V[$]=""}}}}return qd(v)}catch{return p}}var Rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},A0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yd;function Dl(){}b(Dl,Gd),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},Yd=new Dl;function br(u,p,v,j){this.j=u,this.i=p,this.l=v,this.R=j||1,this.U=new Io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P0}function P0(){this.i=null,this.g="",this.h=!1}var R0={},Xd={};function Jd(u,p,v){u.L=1,u.v=Ll(Xn(p)),u.m=v,u.P=!0,D0(u,null)}function D0(u,p){u.F=Date.now(),Ml(u),u.A=Xn(u.v);var v=u.A,j=u.R;Array.isArray(j)||(j=[String(j)]),K0(v.i,"t",j),u.C=0,v=u.j.J,u.h=new P0,u.g=hy(u.j,v?p:null,!u.m),0<u.O&&(u.M=new yj(m(u.Y,u,u.g),u.O)),p=u.U,v=u.g,j=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(T0[0]=V.toString()),V=T0);for(var L=0;L<V.length;L++){var $=y0(v,V[L],j||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Co(),wj(u.i,u.u,u.A,u.l,u.R,u.m)}br.prototype.ca=function(u){u=u.target;const p=this.M;p&&Jn(u)==3?p.j():this.Y(u)},br.prototype.Y=function(u){try{if(u==this.g)e:{const pt=Jn(this.g);var p=this.g.Ba();const yi=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||ty(this.g)))){this.J||pt!=4||p==7||(p==8||0>=yi?Co(3):Co(2)),Zd(this);var v=this.g.Z();this.X=v;t:if(M0(this)){var j=ty(this.g);u="";var V=j.length,L=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Ro(this);var $="";break t}this.h.i=new l.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(j[p],{stream:!(L&&p==V-1)});j.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=v==200,bj(this.i,this.u,this.A,this.l,this.R,pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,st=this.g;if((ge=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ge)){var ue=ge;break t}}ue=null}if(v=ue)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,v);else{this.o=!1,this.s=3,kt(12),ws(this),Ro(this);break e}}if(this.P){v=!0;let wn;for(;!this.J&&this.C<$.length;)if(wn=Nj(this,$),wn==Xd){pt==4&&(this.s=4,kt(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==R0){this.s=4,kt(15),mi(this.i,this.l,$,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,wn,null),eh(this,wn);if(M0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||$.length!=0||this.h.h||(this.s=1,kt(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,$,"[Invalid Chunked Response]"),ws(this),Ro(this);else if(0<$.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),oh(mt),mt.M=!0,kt(11))}}else mi(this.i,this.l,$,null),eh(this,$);pt==4&&ws(this),this.o&&!this.J&&(pt==4?ly(this.j,this):(this.o=!1,Ml(this)))}else Bj(this.g),v==400&&0<$.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),ws(this),Ro(this)}}}catch{}finally{}};function M0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Nj(u,p){var v=u.C,j=p.indexOf(`
`,v);return j==-1?Xd:(v=Number(p.substring(v,j)),isNaN(v)?R0:(j+=1,j+v>p.length?Xd:(p=p.slice(j,j+v),u.C=j+v,p)))}br.prototype.cancel=function(){this.J=!0,ws(this)};function Ml(u){u.S=Date.now()+u.I,O0(u,u.I)}function O0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ao(m(u.ba,u),p)}function Zd(u){u.B&&(l.clearTimeout(u.B),u.B=null)}br.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_j(this.i,this.A),this.L!=2&&(Co(),kt(17)),ws(this),this.s=2,Ro(this)):O0(this,this.S-u)};function Ro(u){u.j.G==0||u.J||ly(u.j,u)}function ws(u){Zd(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,N0(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function eh(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||th(v.h,u))){if(!u.K&&th(v.h,u)&&v.G==3){try{var j=v.Da.g.parse(p)}catch{j=null}if(Array.isArray(j)&&j.length==3){var V=j;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Hl(v),zl(v);else break e;ih(v),kt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ao(m(v.Za,v),6e3));if(1>=F0(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else _s(v,11)}else if((u.K||v.g==u)&&Hl(v),!g(p))for(V=v.Da.g.parse(p),p=0;p<V.length;p++){let ue=V[p];if(v.T=ue[0],ue=ue[1],v.G==2)if(ue[0]=="c"){v.K=ue[1],v.ia=ue[2];const mt=ue[3];mt!=null&&(v.la=mt,v.j.info("VER="+v.la));const pt=ue[4];pt!=null&&(v.Aa=pt,v.j.info("SVER="+v.Aa));const yi=ue[5];yi!=null&&typeof yi=="number"&&0<yi&&(j=1.5*yi,v.L=j,v.j.info("backChannelRequestTimeoutMs_="+j)),j=v;const wn=u.g;if(wn){const ql=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var L=j.h;L.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(nh(L,L.h),L.h=null))}if(j.D){const ah=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(j.ya=ah,be(j.I,j.D,ah))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),j=v;var $=u;if(j.qa=dy(j,j.J?j.ia:null,j.W),$.K){U0(j.h,$);var ge=$,st=j.L;st&&(ge.I=st),ge.B&&(Zd(ge),Ml(ge)),j.g=$}else oy(j);0<v.i.length&&$l(v)}else ue[0]!="stop"&&ue[0]!="close"||_s(v,7);else v.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?_s(v,7):sh(v):ue[0]!="noop"&&v.l&&v.l.ta(ue),v.v=0)}}Co(4)}catch{}}var Ej=class{constructor(u,p){this.g=u,this.map=p}};function V0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function L0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function F0(u){return u.h?1:u.g?u.g.size:0}function th(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function nh(u,p){u.g?u.g.add(p):u.h=p}function U0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}V0.prototype.cancel=function(){if(this.i=B0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function B0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return N(u.i)}function jj(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],v=u.length,j=0;j<v;j++)p.push(u[j]);return p}p=[],v=0;for(j in u)p[v++]=u[j];return p}function Sj(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const j in u)p[v++]=j;return p}}}function z0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=Sj(u),j=jj(u),V=j.length,L=0;L<V;L++)p.call(void 0,j[L],v&&v[L],u)}var $0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ij(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var j=u[v].indexOf("="),V=null;if(0<=j){var L=u[v].substring(0,j);V=u[v].substring(j+1)}else L=u[v];p(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function bs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof bs){this.h=u.h,Ol(this,u.j),this.o=u.o,this.g=u.g,Vl(this,u.s),this.l=u.l;var p=u.i,v=new Oo;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),H0(this,v),this.m=u.m}else u&&(p=String(u).match($0))?(this.h=!1,Ol(this,p[1]||"",!0),this.o=Do(p[2]||""),this.g=Do(p[3]||"",!0),Vl(this,p[4]),this.l=Do(p[5]||"",!0),H0(this,p[6]||"",!0),this.m=Do(p[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}bs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Mo(p,W0,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Mo(p,W0,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mo(v,v.charAt(0)=="/"?Aj:Cj,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mo(v,Rj)),u.join("")};function Xn(u){return new bs(u)}function Ol(u,p,v){u.j=v?Do(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Vl(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function H0(u,p,v){p instanceof Oo?(u.i=p,Dj(u.i,u.h)):(v||(p=Mo(p,Pj)),u.i=new Oo(p,u.h))}function be(u,p,v){u.i.set(p,v)}function Ll(u){return be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Do(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mo(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,kj),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kj(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var W0=/[#\/\?@]/g,Cj=/[#\?:]/g,Aj=/[#\?]/g,Pj=/[#\?@]/g,Rj=/#/g;function Oo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function _r(u){u.g||(u.g=new Map,u.h=0,u.i&&Ij(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Oo.prototype,t.add=function(u,p){_r(this),this.i=null,u=pi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function q0(u,p){_r(u),p=pi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function G0(u,p){return _r(u),p=pi(u,p),u.g.has(p)}t.forEach=function(u,p){_r(this),this.g.forEach(function(v,j){v.forEach(function(V){u.call(p,V,j,this)},this)},this)},t.na=function(){_r(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let j=0;j<p.length;j++){const V=u[j];for(let L=0;L<V.length;L++)v.push(p[j])}return v},t.V=function(u){_r(this);let p=[];if(typeof u=="string")G0(this,u)&&(p=p.concat(this.g.get(pi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},t.set=function(u,p){return _r(this),this.i=null,u=pi(this,u),G0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function K0(u,p,v){q0(u,p),0<v.length&&(u.i=null,u.g.set(pi(u,p),N(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var j=p[v];const L=encodeURIComponent(String(j)),$=this.V(j);for(j=0;j<$.length;j++){var V=L;$[j]!==""&&(V+="="+encodeURIComponent(String($[j]))),u.push(V)}}return this.i=u.join("&")};function pi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Dj(u,p){p&&!u.j&&(_r(u),u.i=null,u.g.forEach(function(v,j){var V=j.toLowerCase();j!=V&&(q0(this,j),K0(this,V,v))},u)),u.j=p}function Mj(u,p){const v=new Po;if(l.Image){const j=new Image;j.onload=x(Tr,v,"TestLoadImage: loaded",!0,p,j),j.onerror=x(Tr,v,"TestLoadImage: error",!1,p,j),j.onabort=x(Tr,v,"TestLoadImage: abort",!1,p,j),j.ontimeout=x(Tr,v,"TestLoadImage: timeout",!1,p,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=u}else p(!1)}function Oj(u,p){const v=new Po,j=new AbortController,V=setTimeout(()=>{j.abort(),Tr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:j.signal}).then(L=>{clearTimeout(V),L.ok?Tr(v,"TestPingServer: ok",!0,p):Tr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),Tr(v,"TestPingServer: error",!1,p)})}function Tr(u,p,v,j,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),j(v)}catch{}}function Vj(){this.g=new vj}function Lj(u,p,v){const j=v||"";try{z0(u,function(V,L){let $=V;d(V)&&($=qd(V)),p.push(j+L+"="+encodeURIComponent($))})}catch(V){throw p.push(j+"type="+encodeURIComponent("_badmap")),V}}function Fl(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Fl,Gd),Fl.prototype.g=function(){return new Ul(this.l,this.j)},Fl.prototype.i=function(u){return function(){return u}}({});function Ul(u,p){ft.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ul,ft),t=Ul.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Lo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Vo(this):Lo(this),this.readyState==3&&Q0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Vo(this))},t.Qa=function(u){this.g&&(this.response=u,Vo(this))},t.ga=function(){this.g&&Vo(this)};function Vo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Lo(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Lo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Y0(u){let p="";return O(u,function(v,j){p+=j,p+=":",p+=v,p+=`\r
`}),p}function rh(u,p,v){e:{for(j in v){var j=!1;break e}j=!0}j||(v=Y0(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):be(u,p,v))}function Oe(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Oe,ft);var Fj=/^https?$/i,Uj=["POST","PUT"];t=Oe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,v,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yd.g(),this.v=this.o?E0(this.o):E0(Yd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){X0(this,L);return}if(u=v||"",v=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var V in j)v.set(V,j[V]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const L of j.keys())v.set(L,j.get(L));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(v.keys()).find(L=>L.toLowerCase()=="content-type"),V=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Uj,p,void 0))||j||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of v)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ey(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){X0(this,L)}};function X0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,J0(u),Bl(u)}function J0(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),Bl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Z0(this):this.bb())},t.bb=function(){Z0(this)};function Z0(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Jn(u)!=4||u.Z()!=2)){if(u.u&&Jn(u)==4)b0(u.Ea,0,u);else if(It(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var j;if(j=$===0){var V=String(u.D).match($0)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),j=!Fj.test(V?V.toLowerCase():"")}v=j}if(v)It(u,"complete"),It(u,"success");else{u.m=6;try{var L=2<Jn(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",J0(u)}}finally{Bl(u)}}}}function Bl(u,p){if(u.g){ey(u);const v=u.g,j=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||It(u,"ready");try{v.onreadystatechange=j}catch{}}}function ey(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),xj(p)}};function ty(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bj(u){const p={};u=(u.g&&2<=Jn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<u.length;j++){if(g(u[j]))continue;var v=P(u[j]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const L=p[V]||[];p[V]=L,L.push(v)}_(p,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function ny(u){this.Aa=0,this.i=[],this.j=new Po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,u),this.cb=Fo("retryDelaySeedMs",1e4,u),this.Wa=Fo("forwardChannelMaxRetries",2,u),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new V0(u&&u.concurrentRequestLimit),this.Da=new Vj,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ny.prototype,t.la=8,t.G=1,t.connect=function(u,p,v,j){kt(0),this.W=u,this.H=p||{},v&&j!==void 0&&(this.H.OSID=v,this.H.OAID=j),this.F=this.X,this.I=dy(this,null,this.W),$l(this)};function sh(u){if(ry(u),u.G==3){var p=u.U++,v=Xn(u.I);if(be(v,"SID",u.K),be(v,"RID",p),be(v,"TYPE","terminate"),Uo(u,v),p=new br(u,u.j,p),p.L=2,p.v=Ll(Xn(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=p.v,v=!0),v||(p.g=hy(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ml(p)}uy(u)}function zl(u){u.g&&(oh(u),u.g.cancel(),u.g=null)}function ry(u){zl(u),u.u&&(l.clearTimeout(u.u),u.u=null),Hl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function $l(u){if(!L0(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ce||J(),B||(Ce(),B=!0),G.add(p,u),u.B=0}}function zj(u,p){return F0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ao(m(u.Ga,u,p),cy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new br(this,this.j,u);let L=this.o;if(this.S&&(L?(L=T(L),S(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var j=this.i[v];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(p+=j,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=iy(this,V,p),v=Xn(this.I),be(v,"RID",u),be(v,"CVER",22),this.D&&be(v,"X-HTTP-Session-Id",this.D),Uo(this,v),L&&(this.O?p="headers="+encodeURIComponent(String(Y0(L)))+"&"+p:this.m&&rh(v,this.m,L)),nh(this.h,V),this.Ua&&be(v,"TYPE","init"),this.P?(be(v,"$req",p),be(v,"SID","null"),V.T=!0,Jd(V,v,null)):Jd(V,v,p),this.G=2}}else this.G==3&&(u?sy(this,u):this.i.length==0||L0(this.h)||sy(this))};function sy(u,p){var v;p?v=p.l:v=u.U++;const j=Xn(u.I);be(j,"SID",u.K),be(j,"RID",v),be(j,"AID",u.T),Uo(u,j),u.m&&u.o&&rh(j,u.m,u.o),v=new br(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=iy(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),nh(u.h,v),Jd(v,j,p)}function Uo(u,p){u.H&&O(u.H,function(v,j){be(p,j,v)}),u.l&&z0({},function(v,j){be(p,j,v)})}function iy(u,p,v){v=Math.min(u.i.length,v);var j=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let L=-1;for(;;){const $=["count="+v];L==-1?0<v?(L=V[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let ge=!0;for(let st=0;st<v;st++){let ue=V[st].g;const mt=V[st].map;if(ue-=L,0>ue)L=Math.max(0,V[st].g-100),ge=!1;else try{Lj(mt,$,"req"+ue+"_")}catch{j&&j(mt)}}if(ge){j=$.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,j}function oy(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ce||J(),B||(Ce(),B=!0),G.add(p,u),u.v=0}}function ih(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ao(m(u.Fa,u),cy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ay(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ao(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),zl(this),ay(this))};function oh(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function ay(u){u.g=new br(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Xn(u.qa);be(p,"RID","rpc"),be(p,"SID",u.K),be(p,"AID",u.T),be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&be(p,"TO",u.ja),be(p,"TYPE","xmlhttp"),Uo(u,p),u.m&&u.o&&rh(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ll(Xn(p)),v.m=null,v.P=!0,D0(v,u)}t.Za=function(){this.C!=null&&(this.C=null,zl(this),ih(this),kt(19))};function Hl(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function ly(u,p){var v=null;if(u.g==p){Hl(u),oh(u),u.g=null;var j=2}else if(th(u.h,p))v=p.D,U0(u.h,p),j=1;else return;if(u.G!=0){if(p.o)if(j==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;j=Pl(),It(j,new C0(j,v)),$l(u)}else oy(u);else if(V=p.s,V==3||V==0&&0<p.X||!(j==1&&zj(u,p)||j==2&&ih(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),V){case 1:_s(u,5);break;case 4:_s(u,10);break;case 3:_s(u,6);break;default:_s(u,2)}}}function cy(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function _s(u,p){if(u.j.info("Error code "+p),p==2){var v=m(u.fb,u),j=u.Xa;const V=!j;j=new bs(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ol(j,"https"),Ll(j),V?Mj(j.toString(),v):Oj(j.toString(),v)}else kt(2);u.G=0,u.l&&u.l.sa(p),uy(u),ry(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function uy(u){if(u.G=0,u.ka=[],u.l){const p=B0(u.h);(p.length!=0||u.i.length!=0)&&(C(u.ka,p),C(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function dy(u,p,v){var j=v instanceof bs?Xn(v):new bs(v);if(j.g!="")p&&(j.g=p+"."+j.g),Vl(j,j.s);else{var V=l.location;j=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var L=new bs(null);j&&Ol(L,j),p&&(L.g=p),V&&Vl(L,V),v&&(L.l=v),j=L}return v=u.D,p=u.ya,v&&p&&be(j,v,p),be(j,"VER",u.la),Uo(u,j),j}function hy(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Oe(new Fl({eb:v})):new Oe(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fy(){}t=fy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wl(){}Wl.prototype.g=function(u,p){return new Kt(u,p)};function Kt(u,p){ft.call(this),this.g=new ny(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!g(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!g(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new gi(this)}b(Kt,ft),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){sh(this.g)},Kt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=qd(u),u=v);p.i.push(new Ej(p.Ya++,u)),p.G==3&&$l(p)},Kt.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,Kt.aa.N.call(this)};function my(u){Kd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(my,Kd);function py(){Qd.call(this),this.status=1}b(py,Qd);function gi(u){this.g=u}b(gi,fy),gi.prototype.ua=function(){It(this.g,"a")},gi.prototype.ta=function(u){It(this.g,new my(u))},gi.prototype.sa=function(u){It(this.g,new py)},gi.prototype.ra=function(){It(this.g,"b")},Wl.prototype.createWebChannel=Wl.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,iE=function(){return new Wl},sE=function(){return Pl()},rE=vs,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rl.NO_ERROR=0,Rl.TIMEOUT=8,Rl.HTTP_ERROR=6,Fc=Rl,A0.COMPLETE="complete",nE=A0,j0.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",ft.prototype.listen=ft.prototype.K,oa=j0,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,tE=Oe}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const aw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new fd("@firebase/firestore");function Xo(){return Qs.logLevel}function q(t,...e){if(Qs.logLevel<=oe.DEBUG){const n=e.map(_g);Qs.debug(`Firestore (${_o}): ${t}`,...n)}}function xr(t,...e){if(Qs.logLevel<=oe.ERROR){const n=e.map(_g);Qs.error(`Firestore (${_o}): ${t}`,...n)}}function ao(t,...e){if(Qs.logLevel<=oe.WARN){const n=e.map(_g);Qs.warn(`Firestore (${_o}): ${t}`,...n)}}function _g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+t;throw xr(e),new Error(e)}function pe(t,e){t||Z()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class N3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E3{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bs,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new oE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new wt(e)}}class j3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class S3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new j3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){pe(this.o===void 0);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new I3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=C3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ye(0,0))}static max(){return new ee(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends el{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const A3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends el{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return A3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Te.fromString(e))}static fromName(e){return new K(Te.fromString(e).popFirst(5))}static empty(){return new K(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Te(e.slice()))}}function P3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new is(s,K.empty(),e)}function R3(t){return new is(t.readTime,t.key,-1)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(ee.min(),K.empty(),-1)}static max(){return new is(ee.max(),K.empty(),-1)}}function D3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==M3)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function V3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tg.oe=-1;function vd(t){return t==null}function Cu(t){return t===0&&1/t==-1/0}function L3(t){return typeof t=="number"&&Number.isInteger(t)&&!Cu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gc(this.root,e,this.comparator,!0)}}class gc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ot.RED,this.left=s??ot.EMPTY,this.right=i??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new ct(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cE("Invalid base64 string: "+i):i}}(e);return new dt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(pe(!!t),typeof t=="string"){let e=0;const n=F3.exec(t);if(pe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Eg(t){const e=t.mapValue.fields.__previous_value__;return Ng(e)?Eg(e):e}function tl(t){const e=os(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,s,i,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ng(t)?4:z3(t)?9007199254740991:B3(t)?10:11:Z()}function Gn(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tl(t).isEqual(tl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=os(s.timestampValue),l=os(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ys(s.bytesValue).isEqual(Ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ue(s.geoPointValue.latitude)===Ue(i.geoPointValue.latitude)&&Ue(s.geoPointValue.longitude)===Ue(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ue(s.integerValue)===Ue(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ue(s.doubleValue),l=Ue(i.doubleValue);return a===l?Cu(a)===Cu(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(lw(a)!==lw(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Gn(a[c],l[c])))return!1;return!0}(t,e);default:return Z()}}function rl(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function co(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ue(i.integerValue||i.doubleValue),c=Ue(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return uw(t.timestampValue,e.timestampValue);case 4:return uw(tl(t),tl(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ys(i),c=Ys(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=de(l[d],c[d]);if(h!==0)return h}return de(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=de(Ue(i.latitude),Ue(a.latitude));return l!==0?l:de(Ue(i.longitude),Ue(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dw(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,d,h;const f=i.fields||{},m=a.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=(c=m.value)===null||c===void 0?void 0:c.arrayValue,N=de(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:dw(x,b)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===yc.mapValue&&a===yc.mapValue)return 0;if(i===yc.mapValue)return 1;if(a===yc.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=de(c[f],h[f]);if(m!==0)return m;const x=co(l[c[f]],d[h[f]]);if(x!==0)return x}return de(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Z()}}function uw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=os(t),r=os(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function dw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=co(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function uo(t){return Am(t)}function Am(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Am(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Am(n.fields[a])}`;return s+"}"}(t.mapValue):Z()}function hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pm(t){return!!t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function fw(t){return!!t&&"nullValue"in t}function mw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function B3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Na(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Na(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Na(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Na(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ui(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ft(Na(this.value))}}function uE(t){const e=[];return ui(t.fields,(n,r)=>{const s=new at([n]);if(Uc(r)){const i=uE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new _t(e,0,ee.min(),ee.min(),ee.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,s){return new _t(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new _t(e,2,n,ee.min(),ee.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,ee.min(),ee.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.position=e,this.inclusive=n}}function pw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(a.referenceValue),n.key):r=co(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n="asc"){this.field=e,this.dir=n}}function $3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Ge extends dE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W3(e,n,r):n==="array-contains"?new K3(e,r):n==="in"?new Q3(e,r):n==="not-in"?new Y3(e,r):n==="array-contains-any"?new X3(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q3(e,r):new G3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(co(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends dE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Pn(e,n)}matches(e){return hE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hE(t){return t.op==="and"}function fE(t){return H3(t)&&hE(t)}function H3(t){for(const e of t.filters)if(e instanceof Pn)return!1;return!0}function Rm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+uo(t.value);if(fE(t))return t.filters.map(e=>Rm(e)).join(",");{const e=t.filters.map(n=>Rm(n)).join(",");return`${t.op}(${e})`}}function mE(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&Gn(r.value,s.value)}(t,e):t instanceof Pn?function(r,s){return s instanceof Pn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&mE(a,s.filters[l]),!0):!1}(t,e):void Z()}function pE(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(t):t instanceof Pn?function(n){return n.op.toString()+" {"+n.getFilters().map(pE).join(" ,")+"}"}(t):"Filter"}class W3 extends Ge{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class q3 extends Ge{constructor(e,n){super(e,"in",n),this.keys=gE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G3 extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=gE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class K3 extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&rl(n.arrayValue,this.value)}}class Q3 extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class Y3 extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rl(this.value.arrayValue,n)}}class X3 extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function yw(t,e=null,n=[],r=[],s=null,i=null,a=null){return new J3(t,e,n,r,s,i,a)}function Sg(t){const e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uo(r)).join(",")),e.ue=n}return e.ue}function Ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gw(t.startAt,e.startAt)&&gw(t.endAt,e.endAt)}function Dm(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Z3(t,e,n,r,s,i,a,l){return new To(t,e,n,r,s,i,a,l)}function kg(t){return new To(t)}function xw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yE(t){return t.collectionGroup!==null}function Ea(t){const e=te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ct(at.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new sl(i,r))}),n.has(at.keyField().canonicalString())||e.ce.push(new sl(at.keyField(),r))}return e.ce}function Wn(t){const e=te(t);return e.le||(e.le=eM(e,Ea(t))),e.le}function eM(t,e){if(t.limitType==="F")return yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new sl(s.field,i)});const n=t.endAt?new Au(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Au(t.startAt.position,t.startAt.inclusive):null;return yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mm(t,e){const n=t.filters.concat([e]);return new To(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Om(t,e,n){return new To(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wd(t,e){return Ig(Wn(t),Wn(e))&&t.limitType===e.limitType}function xE(t){return`${Sg(Wn(t))}|lt:${t.limitType}`}function wi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pE(s)).join(", ")}]`),vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>uo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>uo(s)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ea(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=pw(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,Ea(r),s)||r.endAt&&!function(a,l,c){const d=pw(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,Ea(r),s))}(t,e)}function tM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vE(t){return(e,n)=>{let r=!1;for(const s of Ea(t)){const i=nM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nM(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?co(c,d):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Me(K.comparator);function vr(){return rM}const wE=new Me(K.comparator);function aa(...t){let e=wE;for(const n of t)e=e.insert(n.key,n);return e}function bE(t){let e=wE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ms(){return ja()}function _E(){return ja()}function ja(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const sM=new Me(K.comparator),iM=new ct(K.comparator);function ie(...t){let e=iM;for(const n of t)e=e.add(n);return e}const oM=new ct(de);function aM(){return oM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function TE(t){return{integerValue:""+t}}function lM(t,e){return L3(e)?TE(e):Cg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function cM(t,e,n){return t instanceof Pu?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ng(i)&&(i=Eg(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof il?EE(t,e):t instanceof ol?jE(t,e):function(s,i){const a=NE(s,i),l=vw(a)+vw(s.Pe);return Pm(a)&&Pm(s.Pe)?TE(l):Cg(s.serializer,l)}(t,e)}function uM(t,e,n){return t instanceof il?EE(t,e):t instanceof ol?jE(t,e):n}function NE(t,e){return t instanceof Ru?function(r){return Pm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pu extends _d{}class il extends _d{constructor(e){super(),this.elements=e}}function EE(t,e){const n=SE(e);for(const r of t.elements)n.some(s=>Gn(s,r))||n.push(r);return{arrayValue:{values:n}}}class ol extends _d{constructor(e){super(),this.elements=e}}function jE(t,e){let n=SE(e);for(const r of t.elements)n=n.filter(s=>!Gn(s,r));return{arrayValue:{values:n}}}class Ru extends _d{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function vw(t){return Ue(t.integerValue||t.doubleValue)}function SE(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof il&&s instanceof il||r instanceof ol&&s instanceof ol?lo(r.elements,s.elements,Gn):r instanceof Ru&&s instanceof Ru?Gn(r.Pe,s.Pe):r instanceof Pu&&s instanceof Pu}(t.transform,e.transform)}class hM{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Td{}function IE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ag(t.key,Sn.none()):new Tl(t.key,t.data,Sn.none());{const n=t.data,r=Ft.empty();let s=new ct(at.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ps(t.key,r,new Xt(s.toArray()),Sn.none())}}function fM(t,e,n){t instanceof Tl?function(s,i,a){const l=s.value.clone(),c=bw(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(s,i,a){if(!Bc(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=bw(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(kE(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,r){return t instanceof Tl?function(i,a,l,c){if(!Bc(i.precondition,a))return l;const d=i.value.clone(),h=_w(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ps?function(i,a,l,c){if(!Bc(i.precondition,a))return l;const d=_w(i.fieldTransforms,c,a),h=a.data;return h.setAll(kE(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Bc(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function mM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=NE(r.transform,s||null);i!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,i))}return n||null}function ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lo(r,s,(i,a)=>dM(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tl extends Td{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ps extends Td{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bw(t,e,n){const r=new Map;pe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,uM(a,l,n[s]))}return r}function _w(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,cM(i,a,e))}return r}class Ag extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pM extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_E();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=IE(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>ww(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>ww(n,r))}}class Pg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){pe(e.mutations.length===r.length);let s=function(){return sM}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Pg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,le;function vM(t){switch(t){default:return Z();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function CE(t){if(t===void 0)return xr("GRPC error has no .code"),F.UNKNOWN;switch(t){case He.OK:return F.OK;case He.CANCELLED:return F.CANCELLED;case He.UNKNOWN:return F.UNKNOWN;case He.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case He.INTERNAL:return F.INTERNAL;case He.UNAVAILABLE:return F.UNAVAILABLE;case He.UNAUTHENTICATED:return F.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case He.NOT_FOUND:return F.NOT_FOUND;case He.ALREADY_EXISTS:return F.ALREADY_EXISTS;case He.PERMISSION_DENIED:return F.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case He.ABORTED:return F.ABORTED;case He.OUT_OF_RANGE:return F.OUT_OF_RANGE;case He.UNIMPLEMENTED:return F.UNIMPLEMENTED;case He.DATA_LOSS:return F.DATA_LOSS;default:return Z()}}(le=He||(He={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Us([4294967295,4294967295],0);function Tw(t){const e=wM().encode(t),n=new eE;return n.update(e),new Uint8Array(n.digest())}function Nw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Us([n,r],0),new Us([s,i],0)]}class Rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new la(`Invalid padding: ${n}`);if(r<0)throw new la(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new la(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new la(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Us.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Us.fromNumber(r)));return s.compare(bM)===1&&(s=new Us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Tw(e),[r,s]=Nw(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Rg(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=Tw(e),[r,s]=Nw(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class la extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nd(ee.min(),s,new Me(de),vr(),ie())}}class Nl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nl(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class AE{constructor(e,n){this.targetId=e,this.me=n}}class PE{constructor(e,n,r=dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ew{constructor(){this.fe=0,this.ge=Sw(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ie(),n=ie(),r=ie();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z()}}),new Nl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Sw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _M{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=jw(),this.Qe=new Me(de)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Dm(i))if(r===0){const a=new K(i.path);this.Ue(n,a,_t.newNoDocument(a,ee.min()))}else pe(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ys(r).toUint8Array()}catch(c){if(c instanceof cE)return ao("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Rg(a,s,i)}catch(c){return ao(c instanceof la?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&Dm(l.target)){const c=new K(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,_t.newNoDocument(c,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=ie();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new Nd(e,n,this.Qe,this.ke,r);return this.ke=vr(),this.qe=jw(),this.Qe=new Me(de),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ew,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ct(de),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ew),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jw(){return new Me(K.comparator)}function Sw(){return new Me(K.comparator)}const TM={asc:"ASCENDING",desc:"DESCENDING"},NM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EM={and:"AND",or:"OR"};class jM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SM(t,e){return Du(t,e.toTimestamp())}function qn(t){return pe(!!t),ee.fromTimestamp(function(n){const r=os(n);return new Ye(r.seconds,r.nanos)}(t))}function Dg(t,e){return Lm(t,e).canonicalString()}function Lm(t,e){const n=function(s){return new Te(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DE(t){const e=Te.fromString(t);return pe(FE(e)),e}function Fm(t,e){return Dg(t.databaseId,e.path)}function ef(t,e){const n=DE(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(OE(n))}function ME(t,e){return Dg(t.databaseId,e)}function IM(t){const e=DE(t);return e.length===4?Te.emptyPath():OE(e)}function Um(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OE(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Iw(t,e,n){return{name:Fm(t,e),fields:n.value.mapValue.fields}}function kM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(pe(h===void 0||typeof h=="string"),dt.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?F.UNKNOWN:CE(d.code);return new W(h,d.message||"")}(a);n=new PE(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ef(t,r.document.name),i=qn(r.document.updateTime),a=r.document.createTime?qn(r.document.createTime):ee.min(),l=new Ft({mapValue:{fields:r.document.fields}}),c=_t.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new zc(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ef(t,r.document),i=r.readTime?qn(r.readTime):ee.min(),a=_t.newNoDocument(s,i),l=r.removedTargetIds||[];n=new zc([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ef(t,r.document),i=r.removedTargetIds||[];n=new zc([],i,s,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new xM(s,i),l=r.targetId;n=new AE(l,a)}}return n}function CM(t,e){let n;if(e instanceof Tl)n={update:Iw(t,e.key,e.value)};else if(e instanceof Ag)n={delete:Fm(t,e.key)};else if(e instanceof ps)n={update:Iw(t,e.key,e.data),updateMask:FM(e.fieldMask)};else{if(!(e instanceof pM))return Z();n={verify:Fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Pu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof il)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ol)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ru)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:SM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function AM(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?qn(s.updateTime):qn(i);return a.isEqual(ee.min())&&(a=qn(i)),new hM(a,s.transformResults||[])}(n,e))):[]}function PM(t,e){return{documents:[ME(t,e.path)]}}function RM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ME(t,s);const i=function(d){if(d.length!==0)return LE(Pn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:bi(m.field),direction:OM(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Vm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function DM(t){let e=IM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){pe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=VE(f);return m instanceof Pn&&fE(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(b){return new sl(_i(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,vd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,x=f.values||[];return new Au(x,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,x=f.values||[];return new Au(x,m)}(n.endAt)),Z3(e,s,a,i,l,"F",c,d)}function MM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_i(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_i(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_i(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_i(n.unaryFilter.field);return Ge.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(_i(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pn.create(n.compositeFilter.filters.map(r=>VE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function OM(t){return TM[t]}function VM(t){return NM[t]}function LM(t){return EM[t]}function bi(t){return{fieldPath:t.canonicalString()}}function _i(t){return at.fromServerFormat(t.fieldPath)}function LE(t){return t instanceof Ge?function(n){if(n.op==="=="){if(mw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NAN"}};if(fw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NOT_NAN"}};if(fw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bi(n.field),op:VM(n.op),value:n.value}}}(t):t instanceof Pn?function(n){const r=n.getFilters().map(s=>LE(s));return r.length===1?r[0]:{compositeFilter:{op:LM(n.op),filters:r}}}(t):Z()}function FM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,s,i=ee.min(),a=ee.min(),l=dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.ct=e}}function BM(t){const e=DM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.un=new $M}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(is.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class $M{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(Te.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ho(0)}static kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sa(r.mutation,s,Xt.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const s=Ms();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=aa();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ms();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=vr();const a=ja(),l=function(){return ja()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ps)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Sa(h.mutation,d,h.mutation.getFieldMask(),Ye.now())):a.set(d.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new WM(h,(f=a.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ja();let s=new Me((a,l)=>a-l),i=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Xt.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||ie()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=_E();h.forEach(m=>{if(!i.has(m)){const x=IE(n.get(m),r.get(m));x!==null&&f.set(m,x),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return K.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ms());let l=-1,c=i;return a.next(d=>U.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ie())).next(h=>({batchId:l,changes:bE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=aa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=aa();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,c=>{const d=function(f,m){return new To(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,_t.newInvalidDocument(h)))});let l=aa();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Sa(h.mutation,d,Xt.empty(),Ye.now()),bd(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:BM(s.bundledQuery),readTime:qn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.overlays=new Me(K.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ms();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ms(),i=n.length+1,a=new K(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Me((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ms(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Ms(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return U.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new yM(n,r));let i=this.Ir.get(n);i===void 0&&(i=ie(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Tr=new ct(Xe.Er),this.dr=new ct(Xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Xe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new Te([])),r=new Xe(n,e),s=new Xe(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new Te([])),r=new Xe(n,e),s=new Xe(n,e+1);let i=ie();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Xe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||de(e.wr,n.wr)}static Ar(e,n){return de(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ct(Xe.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new gM(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new Xe(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(de);return n.forEach(s=>{const i=new Xe(s,0),a=new Xe(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],l=>{r=r.add(l.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const a=new Xe(new K(i),0);let l=new ct(de);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},a),U.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new Xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Xe(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.Mr=e,this.docs=function(){return new Me(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_t.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vr();const a=n.path,l=new K(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||D3(R3(h),r)<=0||(s.has(h.key)||bd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JM(this)}getSize(e){return U.resolve(this.size)}}class JM extends HM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.persistence=e,this.Nr=new No(n=>Sg(n),Ig),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mg,this.targetCount=0,this.kr=ho.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Tg(0),this.Kr=!1,this.Kr=!0,this.$r=new QM,this.referenceDelegate=e(this),this.Ur=new ZM(this),this.indexManager=new zM,this.remoteDocumentCache=function(s){return new XM(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new UM(n),this.Gr=new GM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YM(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new tO(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class tO extends O3{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Jr=new Mg,this.Yr=null}static Zr(e){return new Og(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=K.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ie(),s=ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Vg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WR()?8:V3(jt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new nO;return this.Xi(e,n,a).next(l=>{if(i.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Xo()<=oe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",wi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Xo()<=oe.DEBUG&&q("QueryEngine","Query:",wi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Xo()<=oe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",wi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):U.resolve())}Yi(e,n){if(xw(n))return U.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Om(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ie(...i);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,a,c.readTime)?this.Yi(e,Om(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return xw(n)||s.isEqual(ee.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?U.resolve(null):(Xo()<=oe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wi(n)),this.rs(e,a,n,P3(s,-1)).next(l=>l))})}ts(e,n){let r=new ct(vE(e));return n.forEach((s,i)=>{bd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Xo()<=oe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",wi(n)),this.Ji.getDocumentsMatchingQuery(e,n,is.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Me(de),this._s=new No(i=>Sg(i),Ig),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function iO(t,e,n,r){return new sO(t,e,n,r)}async function UE(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ie();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:l}))})})}function oO(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let x=U.resolve();return m.forEach(b=>{x=x.next(()=>h.getEntry(c,b)).next(N=>{const C=d.docVersions.get(b);pe(C!==null),N.version.compareTo(C)<0&&(f.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),h.addEntry(N)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ie();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BE(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aO(t,e){const n=te(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let x=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(dt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(N,C,y){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,x,h)&&l.push(n.Ur.updateTargetData(i,x))});let c=vr(),d=ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(lO(i,a,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(ee.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return U.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function lO(t,e,n){let r=ie(),s=ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=vr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function cO(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uO(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new Ur(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Bm(t,e,n){const r=te(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!_l(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function kw(t,e,n){const r=te(t);let s=ee.min(),i=ie();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=te(c),m=f._s.get(h);return m!==void 0?U.resolve(f.os.get(m)):f.Ur.getTargetData(d,h)}(r,a,Wn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:ee.min(),n?i:ie())).next(l=>(dO(r,tM(e),l),{documents:l,Ts:i})))}function dO(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Cw{constructor(){this.activeTargetIds=aM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hO{constructor(){this.so=new Cw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function tf(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class gO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const l=tf(),c=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,c,d,s).then(h=>(q("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw ao("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,a,l){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=mO[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=tf();return new Promise((a,l)=>{const c=new tE;c.setWithCredentials(!0),c.listenOnce(nE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fc.NO_ERROR:const h=c.getResponseJson();q(xt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case Fc.TIMEOUT:q(xt,`RPC '${e}' ${i} timed out`),l(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const f=c.getStatus();if(q(xt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const b=function(C){const y=C.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(x.status);l(new W(b,x.message))}else l(new W(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new W(F.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{q(xt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);q(xt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=tf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=iE(),l=sE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");q(xt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);let m=!1,x=!1;const b=new pO({Io:C=>{x?q(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(m||(q(xt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),q(xt,`RPC '${e}' stream ${s} sending:`,C),f.send(C))},To:()=>f.close()}),N=(C,y,g)=>{C.listen(y,w=>{try{g(w)}catch(k){setTimeout(()=>{throw k},0)}})};return N(f,oa.EventType.OPEN,()=>{x||(q(xt,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),N(f,oa.EventType.CLOSE,()=>{x||(x=!0,q(xt,`RPC '${e}' stream ${s} transport closed`),b.So())}),N(f,oa.EventType.ERROR,C=>{x||(x=!0,ao(xt,`RPC '${e}' stream ${s} transport errored:`,C),b.So(new W(F.UNAVAILABLE,"The operation could not be completed")))}),N(f,oa.EventType.MESSAGE,C=>{var y;if(!x){const g=C.data[0];pe(!!g);const w=g,k=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(k){q(xt,`RPC '${e}' stream ${s} received error:`,k);const M=k.status;let O=function(E){const S=He[E];if(S!==void 0)return CE(S)}(M),_=k.message;O===void 0&&(O=F.INTERNAL,_="Unknown error status: "+M+" with message "+k.message),x=!0,b.So(new W(O,_)),f.close()}else q(xt,`RPC '${e}' stream ${s} received:`,g),b.bo(g)}}),N(l,rE.STAT_EVENT,C=>{C.stat===Cm.PROXY?q(xt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Cm.NOPROXY&&q(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return new jM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,s,i,a,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yO extends $E{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=kM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ee.min():a.readTime?qn(a.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Dm(c)?{documents:PM(i,c)}:{query:RM(i,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=RE(i,a.resumeToken);const d=Vm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(ee.min())>0){l.readTime=Du(i,a.snapshotVersion.toTimestamp());const d=Vm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=MM(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.a_(n)}}class xO extends $E{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return pe(!!e.streamToken),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=AM(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Um(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CM(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Lm(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,Lm(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new W(F.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class wO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xr(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{di(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=te(c);d.L_.add(4),await El(d),d.q_.set("Unknown"),d.L_.delete(4),await jd(d)}(this))})}),this.q_=new wO(r,s)}}async function jd(t){if(di(t))for(const e of t.B_)await e(!0)}async function El(t){for(const e of t.B_)await e(!1)}function HE(t,e){const n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Bg(n)?Ug(n):Eo(n).r_()&&Fg(n,e))}function Lg(t,e){const n=te(t),r=Eo(n);n.N_.delete(e),r.r_()&&WE(n,e),n.N_.size===0&&(r.r_()?r.o_():di(n)&&n.q_.set("Unknown"))}function Fg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).A_(e)}function WE(t,e){t.Q_.xe(e),Eo(t).R_(e)}function Ug(t){t.Q_=new _M({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.q_.v_()}function Bg(t){return di(t)&&!Eo(t).n_()&&t.N_.size>0}function di(t){return te(t).L_.size===0}function qE(t){t.Q_=void 0}async function _O(t){t.q_.set("Online")}async function TO(t){t.N_.forEach((e,n)=>{Fg(t,e)})}async function NO(t,e){qE(t),Bg(t)?(t.q_.M_(e),Ug(t)):t.q_.set("Unknown")}async function EO(t,e,n){if(t.q_.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mu(t,r)}else if(e instanceof zc?t.Q_.Ke(e):e instanceof AE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{const r=await BE(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Q_.rt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),WE(i,c);const f=new Ur(h.target,c,d,h.sequenceNumber);Fg(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Mu(t,r)}}async function Mu(t,e,n){if(!_l(e))throw e;t.L_.add(1),await El(t),t.q_.set("Offline"),n||(n=()=>BE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await jd(t)})}function GE(t,e){return e().catch(n=>Mu(t,n,e))}async function Sd(t){const e=te(t),n=as(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jO(e);)try{const s=await cO(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,SO(e,s)}catch(s){await Mu(e,s)}KE(e)&&QE(e)}function jO(t){return di(t)&&t.O_.length<10}function SO(t,e){t.O_.push(e);const n=as(t);n.r_()&&n.V_&&n.m_(e.mutations)}function KE(t){return di(t)&&!as(t).n_()&&t.O_.length>0}function QE(t){as(t).start()}async function IO(t){as(t).p_()}async function kO(t){const e=as(t);for(const n of t.O_)e.m_(n.mutations)}async function CO(t,e,n){const r=t.O_.shift(),s=Pg.from(r,e,n);await GE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sd(t)}async function AO(t,e){e&&as(t).V_&&await async function(r,s){if(function(a){return vM(a)&&a!==F.ABORTED}(s.code)){const i=r.O_.shift();as(r).s_(),await GE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Sd(r)}}(t,e),KE(t)&&QE(t)}async function Pw(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=di(n);n.L_.add(3),await El(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await jd(n)}async function PO(t,e){const n=te(t);e?(n.L_.delete(2),await jd(n)):e||(n.L_.add(2),await El(n),n.q_.set("Unknown"))}function Eo(t){return t.K_||(t.K_=function(n,r,s){const i=te(n);return i.w_(),new yO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:_O.bind(null,t),Ro:TO.bind(null,t),mo:NO.bind(null,t),d_:EO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Bg(t)?Ug(t):t.q_.set("Unknown")):(await t.K_.stop(),qE(t))})),t.K_}function as(t){return t.U_||(t.U_=function(n,r,s){const i=te(n);return i.w_(),new xO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:IO.bind(null,t),mo:AO.bind(null,t),f_:kO.bind(null,t),g_:CO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sd(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new zg(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(t,e){if(xr("AsyncQueue",`${e}: ${t}`),_l(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=aa(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new Qi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.W_=new Me(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fo{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new fo(e,n,Qi.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DO{constructor(){this.queries=Dw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=Dw(),i.forEach((a,l)=>{for(const c of l.j_)c.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function Dw(){return new No(t=>xE(t),wd)}async function MO(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new RO,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=$g(a,`Initialization of query '${wi(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Hg(n)}async function OO(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VO(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&Hg(n)}function LO(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Hg(t){t.Y_.forEach(e=>{e.next()})}var zm,Mw;(Mw=zm||(zm={})).ea="default",Mw.Cache="cache";class FO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.key=e}}class XE{constructor(e){this.key=e}}class UO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ie(),this.mutatedKeys=ie(),this.Aa=vE(e),this.Ra=new Qi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Rw,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),x=bd(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),N=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;m&&x?m.data.isEqual(x.data)?b!==N&&(r.track({type:3,doc:x}),C=!0):this.ga(m,x)||(r.track({type:2,doc:x}),C=!0,(c&&this.Aa(x,c)>0||d&&this.Aa(x,d)<0)&&(l=!0)):!m&&x?(r.track({type:0,doc:x}),C=!0):m&&!x&&(r.track({type:1,doc:m}),C=!0,(c||d)&&(l=!0)),C&&(x?(a=a.add(x),i=N?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(x,b){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return N(x)-N(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new fo(this.query,e.Ra,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new XE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new YE(r))}),n}ba(e){this.Ta=e.Ts,this.da=ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class BO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zO{constructor(e){this.key=e,this.va=!1}}class $O{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new No(l=>xE(l),wd),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(K.comparator),this.Na=new Map,this.La=new Mg,this.Ba={},this.ka=new Map,this.qa=ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function HO(t,e,n=!0){const r=r2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await JE(r,e,n,!0),s}async function WO(t,e){const n=r2(t);await JE(n,e,!0,!1)}async function JE(t,e,n,r){const s=await uO(t.localStore,Wn(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await qO(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&HE(t.remoteStore,s),l}async function qO(t,e,n,r,s){t.Ka=(f,m,x)=>async function(N,C,y,g){let w=C.view.ma(y);w.ns&&(w=await kw(N.localStore,C.query,!1).then(({documents:_})=>C.view.ma(_,w)));const k=g&&g.targetChanges.get(C.targetId),M=g&&g.targetMismatches.get(C.targetId)!=null,O=C.view.applyChanges(w,N.isPrimaryClient,k,M);return Vw(N,C.targetId,O.wa),O.snapshot}(t,f,m,x);const i=await kw(t.localStore,e,!0),a=new UO(e,i.Ts),l=a.ma(i.documents),c=Nl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);Vw(t,n,d.wa);const h=new BO(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function GO(t,e,n){const r=te(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!wd(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Lg(r.remoteStore,s.targetId),$m(r,s.targetId)}).catch(bl)):($m(r,s.targetId),await Bm(r.localStore,s.targetId,!0))}async function KO(t,e){const n=te(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(n.remoteStore,r.targetId))}async function QO(t,e,n){const r=nV(t);try{const s=await function(a,l){const c=te(a),d=Ye.now(),h=l.reduce((x,b)=>x.add(b.key),ie());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=vr(),N=ie();return c.cs.getEntries(x,h).next(C=>{b=C,b.forEach((y,g)=>{g.isValidDocument()||(N=N.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,b)).next(C=>{f=C;const y=[];for(const g of l){const w=mM(g,f.get(g.key).overlayedDocument);w!=null&&y.push(new ps(g.key,w,uE(w.value.mapValue),Sn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,y,l)}).next(C=>{m=C;const y=C.applyToLocalDocumentSet(f,N);return c.documentOverlayCache.saveOverlays(x,C.batchId,y)})}).then(()=>({batchId:m.batchId,changes:bE(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new Me(de)),d=d.insert(l,c),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await jl(r,s.changes),await Sd(r.remoteStore)}catch(s){const i=$g(s,"Failed to persist write");n.reject(i)}}async function ZE(t,e){const n=te(t);try{const r=await aO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?pe(a.va):s.removedDocuments.size>0&&(pe(a.va),a.va=!1))}),await jl(n,r,e)}catch(r){await bl(r)}}function Ow(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=te(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(l)&&(d=!0)}),d&&Hg(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YO(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new Me(K.comparator);a=a.insert(i,_t.newNoDocument(i,ee.min()));const l=ie().add(i),c=new Nd(ee.min(),new Map,new Me(de),a,l);await ZE(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),Wg(r)}else await Bm(r.localStore,e,!1).then(()=>$m(r,e,n)).catch(bl)}async function XO(t,e){const n=te(t),r=e.batch.batchId;try{const s=await oO(n.localStore,e);t2(n,r,null),e2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jl(n,s)}catch(s){await bl(s)}}async function JO(t,e,n){const r=te(t);try{const s=await function(a,l){const c=te(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(pe(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);t2(r,e,n),e2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jl(r,s)}catch(s){await bl(s)}}function e2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function t2(t,e,n){const r=te(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function $m(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||n2(t,r)})}function n2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Lg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Wg(t))}function Vw(t,e,n){for(const r of n)r instanceof YE?(t.La.addReference(r.key,e),ZO(t,r)):r instanceof XE?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||n2(t,r.key)):Z()}function ZO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),Wg(t))}function Wg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(Te.fromString(e)),r=t.qa.next();t.Na.set(r,new zO(n)),t.Oa=t.Oa.insert(n,r),HE(t.remoteStore,new Ur(Wn(kg(n.path)),r,"TargetPurposeLimboResolution",Tg.oe))}}async function jl(t,e,n){const r=te(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{a.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Vg.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,d){const h=te(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,m=>U.forEach(m.$i,x=>h.persistence.referenceDelegate.addReference(f,m.targetId,x)).next(()=>U.forEach(m.Ui,x=>h.persistence.referenceDelegate.removeReference(f,m.targetId,x)))))}catch(f){if(!_l(f))throw f;q("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const x=h.os.get(m),b=x.snapshotVersion,N=x.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(m,N)}}}(r.localStore,i))}async function eV(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await UE(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new W(F.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jl(n,r.hs)}}function tV(t,e){const n=te(t),r=n.Na.get(e);if(r&&r.va)return ie().add(r.key);{let s=ie();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function r2(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YO.bind(null,e),e.Ca.d_=VO.bind(null,e.eventManager),e.Ca.$a=LO.bind(null,e.eventManager),e}function nV(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JO.bind(null,e),e}class Ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return iO(this.persistence,new rO,e.initialUser,this.serializer)}Ga(e){return new eO(Og.Zr,this.serializer)}Wa(e){return new hO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ou.provider={build:()=>new Ou};class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eV.bind(null,this.syncEngine),await PO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DO}()}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),r=function(i){return new gO(i)}(e.databaseInfo);return function(i,a,l,c){return new vO(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new bO(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Ow(this.syncEngine,n,0),function(){return Aw.D()?new Aw:new fO}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const f=new $O(s,i,a,l,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);q("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await El(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=wt.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{q("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(q("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$g(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rf(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await UE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iV(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Pw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Pw(e.remoteStore,s)),t._onlineComponents=e}async function iV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await rf(t,new Ou)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await rf(t,new Ou);return t._offlineComponents}async function s2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Lw(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Lw(t,new Hm))),t._onlineComponents}function oV(t){return s2(t).then(e=>e.syncEngine)}async function Fw(t){const e=await s2(t),n=e.eventManager;return n.onListen=HO.bind(null,e.syncEngine),n.onUnlisten=GO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KO.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aV(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bw(t){if(!K.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zw(t){if(K.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T3;switch(r.type){case"firstParty":return new S3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Uw.get(n);r&&(q("ComponentProvider","Removing Datastore"),Uw.delete(n),r.terminate())}(this),Promise.resolve()}}function lV(t,e,n,r={}){var s;const i=(t=Zr(t,kd))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=wt.MOCK_USER;else{l=uN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new wt(d)}t._authCredentials=new N3(new oE(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class es extends hi{constructor(e,n,r){super(e,n,kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new K(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Ie(t,e,...n){if(t=Ee(t),o2("collection","path",e),t instanceof kd){const r=Te.fromString(e,...n);return zw(r),new es(t,null,r)}{if(!(t instanceof Wt||t instanceof es))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return zw(r),new es(t.firestore,null,r)}}function ht(t,e,...n){if(t=Ee(t),arguments.length===1&&(e=aE.newId()),o2("doc","path",e),t instanceof kd){const r=Te.fromString(e,...n);return Bw(r),new Wt(t,null,new K(r))}{if(!(t instanceof Wt||t instanceof es))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Bw(r),new Wt(t.firestore,t instanceof es?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zE(this,"async_queue_retry"),this.Vu=()=>{const r=nf();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Bs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_l(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw xr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=zg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Z()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Ww(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class mo extends kd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Hw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hw(e),this._firestoreClient=void 0,await e}}}function cV(t,e){const n=typeof t=="object"?t:md(),r=typeof t=="string"?t:"(default)",s=fs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=aN("firestore");i&&lV(s,...i)}return s}function a2(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uV(t),t._firestoreClient}function uV(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,h){return new U3(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,i2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new sV(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(dt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=/^__.*__$/;class hV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(e,this.data,n,this.fieldTransforms)}}class l2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Qg{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Qg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(c2(this.Cu)&&dV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class fV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}Qu(e,n,r,s=!1){return new Qg({Cu:e,methodName:n,qu:r,path:at.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yg(t){const e=t._freezeSettings(),n=Ed(t._databaseId);return new fV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mV(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Xg("Data must be an object, but it was:",a,r);const l=u2(r,a);let c,d;if(i.merge)c=new Xt(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Wm(e,f,n);if(!a.contains(m))throw new W(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);h2(h,m)||h.push(m)}c=new Xt(h),d=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=a.fieldTransforms;return new hV(new Ft(l),c,d)}class Ad extends qg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function pV(t,e,n,r){const s=t.Qu(1,e,n);Xg("Data must be an object, but it was:",s,r);const i=[],a=Ft.empty();ui(r,(c,d)=>{const h=Jg(e,c,n);d=Ee(d);const f=s.Nu(h);if(d instanceof Ad)i.push(h);else{const m=Sl(d,f);m!=null&&(i.push(h),a.set(h,m))}});const l=new Xt(i);return new l2(a,l,s.fieldTransforms)}function gV(t,e,n,r,s,i){const a=t.Qu(1,e,n),l=[Wm(e,r,n)],c=[s];if(i.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Wm(e,i[m])),c.push(i[m+1]);const d=[],h=Ft.empty();for(let m=l.length-1;m>=0;--m)if(!h2(d,l[m])){const x=l[m];let b=c[m];b=Ee(b);const N=a.Nu(x);if(b instanceof Ad)d.push(x);else{const C=Sl(b,N);C!=null&&(d.push(x),h.set(x,C))}}const f=new Xt(d);return new l2(h,f,a.fieldTransforms)}function yV(t,e,n,r=!1){return Sl(n,t.Qu(r?4:3,e))}function Sl(t,e){if(d2(t=Ee(t)))return Xg("Unsupported field value:",e,t),u2(t,e);if(t instanceof qg)return function(r,s){if(!c2(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Sl(l,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ee(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:Du(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Du(s.serializer,i)}}if(r instanceof Gg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:RE(s.serializer,r._byteString)};if(r instanceof Wt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Kg)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return Cg(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Id(r)}`)}(t,e)}function u2(t,e){const n={};return lE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(t,(r,s)=>{const i=Sl(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function d2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Gg||t instanceof po||t instanceof Wt||t instanceof qg||t instanceof Kg)}function Xg(t,e,n){if(!d2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Id(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Wm(t,e,n){if((e=Ee(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return Jg(t,e);throw Vu("Field path arguments must be of type string or ",t,!1,void 0,n)}const xV=new RegExp("[~\\*/\\[\\]]");function Jg(t,e,n){if(e.search(xV)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vu(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new W(F.INVALID_ARGUMENT,l+t+c)}function h2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vV extends f2{data(){return super.data()}}function Pd(t,e){return typeof e=="string"?Jg(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class m2 extends Zg{}function Tt(t,e,...n){let r=[];e instanceof Zg&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof t0).length,l=i.filter(c=>c instanceof Rd).length;if(a>1||a>0&&l>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Rd extends m2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rd(e,n,r)}_apply(e){const n=this._parse(e);return p2(e._query,n),new hi(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=Yg(e.firestore);return function(i,a,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Gw(f,h);const x=[];for(const b of f)x.push(qw(c,i,b));m={arrayValue:{values:x}}}else m=qw(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Gw(f,h),m=yV(l,a,f,h==="in"||h==="not-in");return Ge.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function e0(t,e,n){const r=e,s=Pd("where",t);return Rd._create(s,r,n)}class t0 extends Zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)p2(a,c),a=Mm(a,c)}(e._query,n),new hi(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n0 extends m2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n0(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sl(i,a)}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new To(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Qn(t,e="asc"){const n=e,r=Pd("orderBy",t);return n0._create(r,n)}function qw(t,e,n){if(typeof(n=Ee(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!K.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hw(t,new K(r))}if(n instanceof Wt)return hw(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function Gw(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p2(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bV{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ui(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Ue(a.doubleValue));return new Kg(i)}convertGeoPoint(e){return new Gg(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const n=os(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);pe(FE(r));const s=new nl(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||xr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g2 extends f2{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $c extends g2{data(e={}){return super.data(e)}}class TV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ca(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $c(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new $c(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ca(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new $c(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ca(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:NV(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class y2 extends bV{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function gs(t,e,n,...r){t=Zr(t,Wt);const s=Zr(t.firestore,mo),i=Yg(s);let a;return a=typeof(e=Ee(e))=="string"||e instanceof Cd?gV(i,"updateDoc",t._key,e,n,r):pV(i,"updateDoc",t._key,e),r0(s,[a.toMutation(t._key,Sn.exists(!0))])}function ys(t){return r0(Zr(t.firestore,mo),[new Ag(t._key,Sn.none())])}function xs(t,e){const n=Zr(t.firestore,mo),r=ht(t),s=_V(t.converter,e);return r0(n,[mV(Yg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Sn.exists(!1))]).then(()=>r)}function Nt(t,...e){var n,r,s;t=Ee(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ww(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ww(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,d,h;if(t instanceof Wt)d=Zr(t.firestore,mo),h=kg(t._key.path),c={next:f=>{e[a]&&e[a](EV(d,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Zr(t,hi);d=Zr(f.firestore,mo),h=f._query;const m=new y2(d);c={next:x=>{e[a]&&e[a](new TV(d,m,f,x))},error:e[a+1],complete:e[a+2]},wV(t._query)}return function(m,x,b,N){const C=new rV(N),y=new FO(x,C,b);return m.asyncQueue.enqueueAndForget(async()=>MO(await Fw(m),y)),()=>{C.Za(),m.asyncQueue.enqueueAndForget(async()=>OO(await Fw(m),y))}}(a2(d),h,l,c)}function r0(t,e){return function(r,s){const i=new Bs;return r.asyncQueue.enqueueAndForget(async()=>QO(await oV(r),s,i)),i.promise}(a2(t),e)}function EV(t,e,n){const r=n.docs.get(e._key),s=new y2(t);return new g2(t,s,e._key,r,new ca(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){_o=s})(li),Cn(new xn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new mo(new E3(r.getProvider("auth-internal")),new k3(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(d.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ht(aw,"4.7.3",e),Ht(aw,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebasestorage.googleapis.com",v2="storageBucket",jV=2*60*1e3,SV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends vn{constructor(e,n,r=0){super(sf(e),`Firebase Storage: ${n} (${sf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Le;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Le||(Le={}));function sf(t){return"storage/"+t}function s0(){const t="An unknown error occurred, please check the error payload for server response.";return new Fe(Le.UNKNOWN,t)}function IV(t){return new Fe(Le.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kV(t){return new Fe(Le.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Fe(Le.UNAUTHENTICATED,t)}function AV(){return new Fe(Le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PV(t){return new Fe(Le.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function RV(){return new Fe(Le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DV(){return new Fe(Le.CANCELED,"User canceled the upload/download.")}function MV(t){return new Fe(Le.INVALID_URL,"Invalid URL '"+t+"'.")}function OV(t){return new Fe(Le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function VV(){return new Fe(Le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v2+"' property when initializing the app?")}function LV(){return new Fe(Le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function FV(){return new Fe(Le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UV(t){return new Fe(Le.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qm(t){return new Fe(Le.INVALID_ARGUMENT,t)}function w2(){return new Fe(Le.APP_DELETED,"The Firebase app was deleted.")}function BV(t){return new Fe(Le.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ia(t,e){return new Fe(Le.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Jo(t){throw new Fe(Le.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(r.path==="")return r;throw OV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),b={bucket:1,path:3},N=n===x2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",y=new RegExp(`^https?://${N}/${s}/${C}`,"i"),w=[{regex:l,indices:c,postModify:i},{regex:x,indices:b,postModify:d},{regex:y,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<w.length;k++){const M=w[k],O=M.regex.exec(e);if(O){const _=O[M.indices.bucket];let T=O[M.indices.path];T||(T=""),r=new Jt(_,T),M.postModify(r);break}}if(r==null)throw MV(e);return r}}class zV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...C){d||(d=!0,e.apply(null,C))}function f(C){s=setTimeout(()=>{s=null,t(x,c())},C)}function m(){i&&clearTimeout(i)}function x(C,...y){if(d){m();return}if(C){m(),h.call(null,C,...y);return}if(c()||a){m(),h.call(null,C,...y);return}r<64&&(r*=2);let w;l===1?(l=2,w=0):w=(r+Math.random())*1e3,f(w)}let b=!1;function N(C){b||(b=!0,m(),!d&&(s!==null?(C||(l=2),clearTimeout(s),f(0)):C||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,N(!0)},n),N}function HV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){return t!==void 0}function qV(t){return typeof t=="object"&&!Array.isArray(t)}function i0(t){return typeof t=="string"||t instanceof String}function Kw(t){return o0()&&t instanceof Blob}function o0(){return typeof Blob<"u"}function Qw(t,e,n,r){if(r<e)throw qm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function b2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var zs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zs||(zs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,s,i,a,l,c,d,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===zs.NO_ERROR,c=i.getStatus();if(!l||GV(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===zs.ABORT;r(!1,new vc(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new vc(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());WV(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=s0();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?w2():DV();a(c)}else{const c=RV();a(c)}};this.canceled_?n(!1,new vc(!1,null,!0)):this.backoffId_=$V(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function QV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function JV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZV(t,e,n,r,s,i,a=!0){const l=b2(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return XV(d,e),QV(d,n),YV(d,i),JV(d,r),new KV(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tL(...t){const e=eL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(o0())return new Blob(t);throw new Fe(Le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){if(typeof atob>"u")throw UV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class of{constructor(e,n){this.data=e,this.contentType=n||null}}function sL(t,e){switch(t){case Fn.RAW:return new of(_2(e));case Fn.BASE64:case Fn.BASE64URL:return new of(T2(t,e));case Fn.DATA_URL:return new of(oL(e),aL(e))}throw s0()}function _2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function iL(t){let e;try{e=decodeURIComponent(t)}catch{throw Ia(Fn.DATA_URL,"Malformed data URL.")}return _2(e)}function T2(t,e){switch(t){case Fn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Ia(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Fn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Ia(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rL(e)}catch(s){throw s.message.includes("polyfill")?s:Ia(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class N2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ia(Fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=lL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oL(t){const e=new N2(t);return e.base64?T2(Fn.BASE64,e.rest):iL(e.rest)}function aL(t){return new N2(t).contentType}function lL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){let r=0,s="";Kw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Kw(this.data_)){const r=this.data_,s=nL(r,e,n);return s===null?null:new Vr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vr(r,!0)}}static getBlob(...e){if(o0()){const n=e.map(r=>r instanceof Vr?r.data_:r);return new Vr(tL.apply(null,n))}else{const n=e.map(a=>i0(a)?sL(Fn.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new Vr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){let e;try{e=JSON.parse(t)}catch{return null}return qV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function j2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t,e){return e}class Ct{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||dL}}let wc=null;function hL(t){return!i0(t)||t.length<2?t:j2(t)}function S2(){if(wc)return wc;const t=[];t.push(new Ct("bucket")),t.push(new Ct("generation")),t.push(new Ct("metageneration")),t.push(new Ct("name","fullPath",!0));function e(i,a){return hL(a)}const n=new Ct("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Ct("size");return s.xform=r,t.push(s),t.push(new Ct("timeCreated")),t.push(new Ct("updated")),t.push(new Ct("md5Hash",null,!0)),t.push(new Ct("cacheControl",null,!0)),t.push(new Ct("contentDisposition",null,!0)),t.push(new Ct("contentEncoding",null,!0)),t.push(new Ct("contentLanguage",null,!0)),t.push(new Ct("contentType",null,!0)),t.push(new Ct("metadata","customMetadata",!0)),wc=t,wc}function fL(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Jt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function mL(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return fL(r,t),r}function I2(t,e,n){const r=E2(e);return r===null?null:mL(t,r,n)}function pL(t,e,n,r){const s=E2(e);if(s===null||!i0(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,m="/b/"+a(h)+"/o/"+a(f),x=a0(m,n,r),b=b2({alt:"media",token:d});return x+b})[0]}function gL(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class k2{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){if(!t)throw s0()}function yL(t,e){function n(r,s){const i=I2(t,s,e);return C2(i!==null),i}return n}function xL(t,e){function n(r,s){const i=I2(t,s,e);return C2(i!==null),pL(i,s,t.host,t._protocol)}return n}function A2(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=AV():s=CV():n.getStatus()===402?s=kV(t.bucket):n.getStatus()===403?s=PV(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function vL(t){const e=A2(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=IV(t.path)),i.serverResponse=s.serverResponse,i}return n}function wL(t,e,n){const r=e.fullServerUrl(),s=a0(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new k2(s,i,xL(t,n),a);return l.errorHandler=vL(e),l}function bL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _L(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bL(null,e)),r}function TL(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let w="";for(let k=0;k<2;k++)w=w+Math.random().toString().slice(2);return w}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const d=_L(e,r,s),h=gL(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",x=Vr.getBlob(f,r,m);if(x===null)throw LV();const b={name:d.fullPath},N=a0(i,t.host,t._protocol),C="POST",y=t.maxUploadRetryTime,g=new k2(N,C,yL(t,n),y);return g.urlParams=b,g.headers=a,g.body=x.uploadData(),g.errorHandler=A2(e),g}class NL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Jo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EL extends NL{initXhr(){this.xhr_.responseType="text"}}function P2(){return new EL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Js(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j2(this._location.path)}get storage(){return this._service}get parent(){const e=cL(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new Js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BV(e)}}function jL(t,e,n){t._throwIfRoot("uploadBytes");const r=TL(t.storage,t._location,S2(),new Vr(e,!0),n);return t.storage.makeRequestWithTokens(r,P2).then(s=>({metadata:s,ref:t}))}function SL(t){t._throwIfRoot("getDownloadURL");const e=wL(t.storage,t._location,S2());return t.storage.makeRequestWithTokens(e,P2).then(n=>{if(n===null)throw FV();return n})}function IL(t,e){const n=uL(t._location.path,e),r=new Jt(t._location.bucket,n);return new Js(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){return/^[A-Za-z]+:\/\//.test(t)}function CL(t,e){return new Js(t,e)}function R2(t,e){if(t instanceof l0){const n=t;if(n._bucket==null)throw VV();const r=new Js(n,n._bucket);return e!=null?R2(r,e):r}else return e!==void 0?IL(t,e):t}function AL(t,e){if(e&&kL(e)){if(t instanceof l0)return CL(t,e);throw qm("To use ref(service, url), the first argument must be a Storage instance.")}else return R2(t,e)}function Yw(t,e){const n=e==null?void 0:e[v2];return n==null?null:Jt.makeFromBucketSpec(n,t)}function PL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:uN(s,t.app.options.projectId))}class l0{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=x2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jV,this._maxUploadRetryTime=SV,this._requests=new Set,s!=null?this._bucket=Jt.makeFromBucketSpec(s,this._host):this._bucket=Yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=Yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new zV(w2());{const a=ZV(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Xw="@firebase/storage",Jw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="storage";function RL(t,e,n){return t=Ee(t),jL(t,e,n)}function DL(t){return t=Ee(t),SL(t)}function ML(t,e){return t=Ee(t),AL(t,e)}function OL(t=md(),e){t=Ee(t);const r=fs(t,D2).getImmediate({identifier:e}),s=aN("storage");return s&&VL(r,...s),r}function VL(t,e,n,r={}){PL(t,e,n,r)}function LL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new l0(n,r,s,e,li)}function FL(){Cn(new xn(D2,LL,"PUBLIC").setMultipleInstances(!0)),Ht(Xw,Jw,""),Ht(Xw,Jw,"esm2017")}FL();const M2="@firebase/installations",c0="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1e4,V2=`w:${c0}`,L2="FIS_v2",UL="https://firebaseinstallations.googleapis.com/v1",BL=60*60*1e3,zL="installations",$L="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zs=new ai(zL,$L,HL);function F2(t){return t instanceof vn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2({projectId:t}){return`${UL}/projects/${t}/installations`}function B2(t){return{token:t.token,requestStatus:2,expiresIn:qL(t.expiresIn),creationTime:Date.now()}}async function z2(t,e){const r=(await e.json()).error;return Zs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WL(t,{refreshToken:e}){const n=$2(t);return n.append("Authorization",GL(e)),n}async function H2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function qL(t){return Number(t.replace("s","000"))}function GL(t){return`${L2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=U2(t),s=$2(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:n,authVersion:L2,appId:t.appId,sdkVersion:V2},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await H2(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:B2(d.authToken)}}else throw await z2("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=/^[cdef][\w-]{21}$/,Gm="";function XL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=JL(t);return YL.test(n)?n:Gm}catch{return Gm}}function JL(t){return QL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map;function G2(t,e){const n=Dd(t);K2(n,e),ZL(n,e)}function K2(t,e){const n=q2.get(t);if(n)for(const r of n)r(e)}function ZL(t,e){const n=e6();n&&n.postMessage({key:t,fid:e}),t6()}let Os=null;function e6(){return!Os&&"BroadcastChannel"in self&&(Os=new BroadcastChannel("[Firebase] FID Change"),Os.onmessage=t=>{K2(t.data.key,t.data.fid)}),Os}function t6(){q2.size===0&&Os&&(Os.close(),Os=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="firebase-installations-database",r6=1,ei="firebase-installations-store";let af=null;function u0(){return af||(af=gN(n6,r6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ei)}}})),af}async function Lu(t,e){const n=Dd(t),s=(await u0()).transaction(ei,"readwrite"),i=s.objectStore(ei),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&G2(t,e.fid),e}async function Q2(t){const e=Dd(t),r=(await u0()).transaction(ei,"readwrite");await r.objectStore(ei).delete(e),await r.done}async function Md(t,e){const n=Dd(t),s=(await u0()).transaction(ei,"readwrite"),i=s.objectStore(ei),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&G2(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t){let e;const n=await Md(t.appConfig,r=>{const s=s6(r),i=i6(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Gm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function s6(t){const e=t||{fid:XL(),registrationStatus:0};return Y2(e)}function i6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Zs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=o6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:a6(t)}:{installationEntry:e}}async function o6(t,e){try{const n=await KL(t,e);return Lu(t.appConfig,n)}catch(n){throw F2(n)&&n.customData.serverCode===409?await Q2(t.appConfig):await Lu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function a6(t){let e=await Zw(t.appConfig);for(;e.registrationStatus===1;)await W2(100),e=await Zw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await d0(t);return r||n}return e}function Zw(t){return Md(t,e=>{if(!e)throw Zs.create("installation-not-found");return Y2(e)})}function Y2(t){return l6(t)?{fid:t.fid,registrationStatus:0}:t}function l6(t){return t.registrationStatus===1&&t.registrationTime+O2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6({appConfig:t,heartbeatServiceProvider:e},n){const r=u6(t,n),s=WL(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:V2,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await H2(()=>fetch(r,l));if(c.ok){const d=await c.json();return B2(d)}else throw await z2("Generate Auth Token",c)}function u6(t,{fid:e}){return`${U2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(t,e=!1){let n;const r=await Md(t.appConfig,i=>{if(!X2(i))throw Zs.create("not-registered");const a=i.authToken;if(!e&&f6(a))return i;if(a.requestStatus===1)return n=d6(t,e),i;{if(!navigator.onLine)throw Zs.create("app-offline");const l=p6(i);return n=h6(t,l),l}});return n?await n:r.authToken}async function d6(t,e){let n=await eb(t.appConfig);for(;n.authToken.requestStatus===1;)await W2(100),n=await eb(t.appConfig);const r=n.authToken;return r.requestStatus===0?h0(t,e):r}function eb(t){return Md(t,e=>{if(!X2(e))throw Zs.create("not-registered");const n=e.authToken;return g6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function h6(t,e){try{const n=await c6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Lu(t.appConfig,r),n}catch(n){if(F2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Q2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lu(t.appConfig,r)}throw n}}function X2(t){return t!==void 0&&t.registrationStatus===2}function f6(t){return t.requestStatus===2&&!m6(t)}function m6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+BL}function p6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function g6(t){return t.requestStatus===1&&t.requestTime+O2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t){const e=t,{installationEntry:n,registrationPromise:r}=await d0(e);return r?r.catch(console.error):h0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e=!1){const n=t;return await v6(n),(await h0(n,e)).token}async function v6(t){const{registrationPromise:e}=await d0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){if(!t||!t.options)throw lf("App Configuration");if(!t.name)throw lf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lf(t){return Zs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="installations",b6="installations-internal",_6=t=>{const e=t.getProvider("app").getImmediate(),n=w6(e),r=fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},T6=t=>{const e=t.getProvider("app").getImmediate(),n=fs(e,J2).getImmediate();return{getId:()=>y6(n),getToken:s=>x6(n,s)}};function N6(){Cn(new xn(J2,_6,"PUBLIC")),Cn(new xn(b6,T6,"PRIVATE"))}N6();Ht(M2,c0);Ht(M2,c0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="analytics",E6="firebase_id",j6="origin",S6=60*1e3,I6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",f0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt=new fd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},en=new ai("analytics","Analytics",k6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){if(!t.startsWith(f0)){const e=en.create("invalid-gtag-resource",{gtagURL:t});return qt.warn(e.message),""}return t}function Z2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function A6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function P6(t,e){const n=A6("firebase-js-sdk-policy",{createScriptURL:C6}),r=document.createElement("script"),s=`${f0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function R6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function D6(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await Z2(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){qt.error(l)}t("config",s,i)}async function M6(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await Z2(n);for(const c of a){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){qt.error(i)}}function O6(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await M6(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await D6(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,d]=a;t("get",l,c,d)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){qt.error(l)}}return s}function V6(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=O6(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function L6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(f0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=30,U6=1e3;class B6{constructor(e={},n=U6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ej=new B6;function z6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $6(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:z6(r)},i=I6.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw en.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function H6(t,e=ej,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw en.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw en.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new G6;return setTimeout(async()=>{l.abort()},S6),tj({appId:r,apiKey:s,measurementId:i},a,l,e)}async function tj(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=ej){var i;const{appId:a,measurementId:l}=t;try{await W6(r,e)}catch(c){if(l)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await $6(t);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!q6(d)){if(s.deleteThrottleMetadata(a),l)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:l};throw c}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?Av(n,s.intervalMillis,F6):Av(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(a,f),qt.debug(`Calling attemptFetch again in ${h} millis`),tj(t,f,r,s)}}function W6(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(en.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function q6(t){if(!(t instanceof vn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class G6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function K6(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a=Object.assign(Object.assign({},r),{send_to:i});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(){if(hN())try{await fN()}catch(t){return qt.warn(en.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qt.warn(en.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Y6(t,e,n,r,s,i,a){var l;const c=H6(t);c.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>qt.error(x)),e.push(c);const d=Q6().then(x=>{if(x)return r.getId()}),[h,f]=await Promise.all([c,d]);L6(i)||P6(i,h.measurementId),s("js",new Date);const m=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return m[j6]="firebase",m.update=!0,f!=null&&(m[E6]=f),s("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.app=e}_delete(){return delete ka[this.app.options.appId],Promise.resolve()}}let ka={},tb=[];const nb={};let cf="dataLayer",J6="gtag",rb,nj,sb=!1;function Z6(){const t=[];if(dN()&&t.push("This is a browser extension environment."),qR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=en.create("invalid-analytics-context",{errorInfo:e});qt.warn(n.message)}}function eF(t,e,n){Z6();const r=t.options.appId;if(!r)throw en.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw en.create("no-api-key");if(ka[r]!=null)throw en.create("already-exists",{id:r});if(!sb){R6(cf);const{wrappedGtag:i,gtagCore:a}=V6(ka,tb,nb,cf,J6);nj=i,rb=a,sb=!0}return ka[r]=Y6(t,tb,nb,e,rb,cf,n),new X6(t)}function tF(t=md()){t=Ee(t);const e=fs(t,Fu);return e.isInitialized()?e.getImmediate():nF(t)}function nF(t,e={}){const n=fs(t,Fu);if(n.isInitialized()){const s=n.getImmediate();if(Ya(e,n.getOptions()))return s;throw en.create("already-initialized")}return n.initialize({options:e})}function rF(t,e,n,r){t=Ee(t),K6(nj,ka[t.app.options.appId],e,n,r).catch(s=>qt.error(s))}const ib="@firebase/analytics",ob="0.10.8";function sF(){Cn(new xn(Fu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return eF(r,s,n)},"PUBLIC")),Cn(new xn("analytics-internal",t,"PRIVATE")),Ht(ib,ob),Ht(ib,ob,"esm2017");function t(e){try{const n=e.getProvider(Fu).getImmediate();return{logEvent:(r,s,i)=>rF(n,r,s,i)}}catch(n){throw en.create("interop-component-reg-failed",{reason:n})}}}sF();const iF={apiKey:"AIzaSyAb51b0FPjEv2UocApwDeb8K9zAHg_TNWg",authDomain:"risinga-ebc76.firebaseapp.com",projectId:"risinga-ebc76",storageBucket:"risinga-ebc76.appspot.com",messagingSenderId:"386879187827",appId:"1:386879187827:web:44b37ee62346cde6913306",measurementId:"G-2KJYKCSYEB"},Od=yN(iF),Uu=v3(Od),ne=cV(Od),oF=OL(Od);tF(Od);const aF=()=>o.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[o.jsx(A.div,{className:"absolute w-64 h-64 bg-gradient-to-r from-blue-400/20 to-[#22b0fc]/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},style:{top:"10%",left:"10%"}}),o.jsx(A.div,{className:"absolute w-48 h-48 bg-gradient-to-r from-cyan-400/20 to-[#22b0fc]/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,120,0],scale:[1,.8,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:2},style:{top:"60%",right:"10%"}}),o.jsx(A.div,{className:"absolute w-32 h-32 bg-gradient-to-r from-indigo-400/20 to-[#22b0fc]/20 rounded-full blur-2xl",animate:{x:[0,60,0],y:[0,-60,0],scale:[1,1.5,1]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:4},style:{bottom:"20%",left:"20%"}}),[...Array(6)].map((t,e)=>o.jsx(A.div,{className:"absolute w-2 h-2 bg-[#22b0fc]/60 rounded-full",animate:{y:[0,-100,0],opacity:[0,1,0]},transition:{duration:3+e,repeat:1/0,delay:e*.5},style:{left:`${20+e*15}%`,top:"100%"}},e))]});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...d},h)=>D.createElement("svg",{ref:h,...lF,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${cF(t)}`,l].join(" "),...d},[...e.map(([f,m])=>D.createElement(f,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=he("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=he("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=he("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=he("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=he("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=he("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=he("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yF=({workshop:t,onClose:e})=>{const[n,r]=D.useState({fullName:"",age:"",phone:"",email:"",wilaya:"",education:"",experience:"",expectations:""}),[s,i]=D.useState(!1),[a,l]=D.useState(null),c=async d=>{d.preventDefault(),i(!0);try{const h={workshopId:t.id,workshopTitle:t.title,fullName:n.fullName,age:parseInt(n.age),phone:n.phone,email:n.email,wilaya:n.wilaya,education:n.education,experience:n.experience,expectations:n.expectations,applicationDate:new Date,status:"pending"};await xs(Ie(ne,"workshopApplications"),h),l("success"),setTimeout(()=>{r({fullName:"",age:"",phone:"",email:"",wilaya:"",education:"",experience:"",expectations:""}),l(null),window.location.reload()},2e3)}catch(h){console.error("Error submitting workshop application:",h),l("error")}finally{i(!1)}};return o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),dir:"rtl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"التسجيل في الورشة"}),o.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Kn,{size:20})})]}),o.jsx("div",{className:"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-20 h-20 object-cover rounded-lg",onError:d=>{d.currentTarget.src="https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:t.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:t.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(In,{size:16,className:"ml-1"}),new Date(t.date).toLocaleDateString("ar-SA")]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(m0,{size:16,className:"ml-1"}),t.duration," دقيقة"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx($e,{size:16,className:"ml-1"}),t.maxParticipants," مشارك"]})]})]})]})}),a==="success"?o.jsxs(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[o.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx(kl,{className:"w-10 h-10 text-green-600"})}),o.jsx(A.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-gray-800 mb-3",children:"تم التسجيل بنجاح!"}),o.jsx(A.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-lg",children:"تم تسجيلك في الورشة بنجاح. سنتواصل معك قريباً بتفاصيل الحضور."}),o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-green-50 rounded-xl border border-green-200",children:o.jsxs("p",{className:"text-green-700 text-sm",children:["✓ تم تأكيد تسجيلك في الورشة",o.jsx("br",{}),"✓ ستصلك تفاصيل الحضور قريباً",o.jsx("br",{}),"✓ لا تنس إحضار دفتر ملاحظات"]})})]}):o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الاسم الكامل ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:n.fullName,onChange:d=>r(h=>({...h,fullName:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300",placeholder:"أدخل اسمك الكامل"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["العمر ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",required:!0,min:"16",max:"65",value:n.age,onChange:d=>r(h=>({...h,age:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300",placeholder:"العمر"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["رقم الهاتف ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",required:!0,value:n.phone,onChange:d=>r(h=>({...h,phone:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300",placeholder:"0555 123 456"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"البريد الإلكتروني (اختياري)"}),o.jsx("input",{type:"email",value:n.email,onChange:d=>r(h=>({...h,email:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300",placeholder:"example@email.com"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الولاية ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:n.wilaya,onChange:d=>r(h=>({...h,wilaya:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300",placeholder:"اسم الولاية"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["المستوى التعليمي ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:n.education,onChange:d=>r(h=>({...h,education:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300",placeholder:"المستوى التعليمي"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"الخبرة السابقة (اختياري)"}),o.jsx("textarea",{rows:3,value:n.experience,onChange:d=>r(h=>({...h,experience:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اكتب عن خبرتك السابقة في هذا المجال..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"توقعاتك من الورشة (اختياري)"}),o.jsx("textarea",{rows:3,value:n.expectations,onChange:d=>r(h=>({...h,expectations:d.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"ماذا تتوقع أن تتعلم من هذه الورشة؟"})]}),a==="error"&&o.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl text-center",children:"حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى."}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(A.button,{type:"submit",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex-1 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${s?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 shadow-lg hover:shadow-yellow-500/25"} text-white`,children:s?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"جاري التسجيل..."]}):"تسجيل في الورشة"}),o.jsx(A.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-medium",children:"إلغاء"})]})]})]})})},xF=({onBack:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState(null),[i,a]=D.useState(!0);return D.useEffect(()=>{const l=Tt(Ie(ne,"workshops"),e0("isActive","==",!0),Qn("date","asc")),c=Nt(l,d=>{const h=[];d.forEach(f=>{var x;const m=f.data();h.push({id:f.id,...m,createdAt:(x=m.createdAt)==null?void 0:x.toDate()})}),n(h),a(!1)});return()=>c()},[]),i?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{children:"جاري تحميل الورش..."})]})}):o.jsxs(A.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.6},className:"min-h-screen py-8",dir:"rtl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-yellow-600 via-orange-500 to-red-600 rounded-3xl p-8 mb-8 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-orange-500/20 animate-pulse"}),o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:o.jsx(In,{className:"w-10 h-10 text-orange-500"})}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"الورش المجانية"}),o.jsx("p",{className:"text-orange-100 text-lg",children:"ورش تدريبية مجانية أسبوعية لتطوير مهاراتك"})]})]}),o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"mb-6 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-xl font-semibold flex items-center transition-colors duration-300",children:[o.jsx(Il,{className:"w-5 h-5 ml-2"}),"العودة للخلف"]}),e.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((l,c)=>o.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},whileHover:{scale:1.02},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 cursor-pointer",onClick:()=>s(l),children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full h-48 object-cover rounded-xl",onError:d=>{d.currentTarget.src="https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}}),o.jsx("div",{className:"absolute top-3 right-3 bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"مجاني"})]}),o.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:l.title}),o.jsx("p",{className:"text-white/80 text-sm mb-4 line-clamp-2",children:l.description}),o.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(In,{size:16,className:"ml-2"}),new Date(l.date).toLocaleDateString("ar-SA")]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(m0,{size:16,className:"ml-2"}),l.time," - ",l.duration," دقيقة"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(jo,{size:16,className:"ml-2"}),"المدرب: ",l.instructor]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx($e,{size:16,className:"ml-2"}),l.currentParticipants,"/",l.maxParticipants," مشارك"]})]}),o.jsx(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full mt-4 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-3 rounded-xl font-semibold transition-all duration-300",onClick:d=>{d.stopPropagation(),s(l)},children:"التسجيل في الورشة"})]},l.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(In,{className:"w-16 h-16 mx-auto mb-4 text-white/50"}),o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"لا توجد ورش متاحة حالياً"}),o.jsx("p",{className:"text-white/70",children:"سيتم إضافة ورش جديدة قريباً"})]}),r&&o.jsx(yF,{workshop:r,onClose:()=>s(null)})]})};var lj={exports:{}},ff={exports:{}},mf,lb;function vF(){if(lb)return mf;lb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mf=t,mf}var pf,cb;function wF(){if(cb)return pf;cb=1;var t=vF();function e(){}function n(){}return n.resetWarningCache=e,pf=function(){function r(a,l,c,d,h,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},pf}var ub;function bF(){return ub||(ub=1,ff.exports=wF()()),ff.exports}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function ni(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}ni.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};ni.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};ni.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function g0(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}g0.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,s=0;s<=t;s+=1){var i=s/t,a=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){var c=a-n,d=l-r;e+=Math.sqrt(c*c+d*d)}n=a,r=l}return e};g0.prototype._point=function(t,e,n,r,s){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+s*t*t*t};function _F(t,e,n){var r,s,i,a=null,l=0;n||(n={});var c=function(){l=n.leading===!1?0:Date.now(),a=null,i=t.apply(r,s),a||(r=s=null)};return function(){var d=Date.now();!l&&n.leading===!1&&(l=d);var h=e-(d-l);return r=this,s=arguments,h<=0||h>e?(a&&(clearTimeout(a),a=null),l=d,i=t.apply(r,s),a||(r=s=null)):!a&&n.trailing!==!1&&(a=setTimeout(c,h)),i}}function ye(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=_F(ye.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=ye.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(s){s.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(s))},this._handleMouseMove=function(s){n._mouseButtonDown&&n._strokeMoveUpdate(s)},this._handleMouseUp=function(s){s.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(s))},this._handleTouchStart=function(s){if(s.targetTouches.length===1){var i=s.changedTouches[0];n._strokeBegin(i)}},this._handleTouchMove=function(s){s.preventDefault();var i=s.targetTouches[0];n._strokeMoveUpdate(i)},this._handleTouchEnd=function(s){var i=s.target===n._canvas;i&&(s.preventDefault(),n._strokeEnd(s))},this.on()}ye.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};ye.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,s=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/s,a=n.height||this._canvas.height/s;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,i,a)},this._isEmpty=!1};ye.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};ye.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};ye.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};ye.prototype.isEmpty=function(){return this._isEmpty};ye.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};ye.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),s=this._data[this._data.length-1],i=s&&s[s.length-1],a=i&&r.distanceTo(i)<this.minDistance;if(!(i&&a)){var l=this._addPoint(r),c=l.curve,d=l.widths;c&&d&&this._drawCurve(c,d.start,d.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};ye.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],s=r[r.length-1];n.equals(s)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};ye.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};ye.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};ye.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};ye.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new ni(t-r.left,e-r.top,n||new Date().getTime())};ye.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var s=n.c1,i=new g0(e[1],r,s,e[2]),a=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:a}}return{}};ye.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,s=t.y-e.y,i=e.x-n.x,a=e.y-n.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},d=Math.sqrt(r*r+s*s),h=Math.sqrt(i*i+a*a),f=l.x-c.x,m=l.y-c.y,x=h/(d+h),b={x:c.x+f*x,y:c.y+m*x},N=e.x-b.x,C=e.y-b.y;return{c1:new ni(l.x+N,l.y+C),c2:new ni(c.x+N,c.y+C)}};ye.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},s=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(s);return r.start=this._lastWidth,r.end=i,this._lastVelocity=s,this._lastWidth=i,r};ye.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};ye.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};ye.prototype._drawCurve=function(t,e,n){var r=this._ctx,s=n-e,i=Math.floor(t.length());r.beginPath();for(var a=0;a<i;a+=1){var l=a/i,c=l*l,d=c*l,h=1-l,f=h*h,m=f*h,x=m*t.startPoint.x;x+=3*f*l*t.control1.x,x+=3*h*c*t.control2.x,x+=d*t.endPoint.x;var b=m*t.startPoint.y;b+=3*f*l*t.control1.y,b+=3*h*c*t.control2.y,b+=d*t.endPoint.y;var N=e+d*s;this._drawPoint(x,b,N)}r.closePath(),r.fill()};ye.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};ye.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var s=t[r];if(s.length>1)for(var i=0;i<s.length;i+=1){var a=s[i],l=new ni(a.x,a.y,a.time),c=a.color;if(i===0)this.penColor=c,this._reset(),this._addPoint(l);else if(i!==s.length-1){var d=this._addPoint(l),h=d.curve,f=d.widths;h&&f&&e(h,f,c)}}else{this._reset();var m=s[0];n(m)}}};ye.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),s=0,i=0,a=n.width/r,l=n.height/r,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttributeNS(null,"width",n.width),c.setAttributeNS(null,"height",n.height),this._fromData(e,function(y,g,w){var k=document.createElement("path");if(!isNaN(y.control1.x)&&!isNaN(y.control1.y)&&!isNaN(y.control2.x)&&!isNaN(y.control2.y)){var M="M "+y.startPoint.x.toFixed(3)+","+y.startPoint.y.toFixed(3)+" "+("C "+y.control1.x.toFixed(3)+","+y.control1.y.toFixed(3)+" ")+(y.control2.x.toFixed(3)+","+y.control2.y.toFixed(3)+" ")+(y.endPoint.x.toFixed(3)+","+y.endPoint.y.toFixed(3));k.setAttribute("d",M),k.setAttribute("stroke-width",(g.end*2.25).toFixed(3)),k.setAttribute("stroke",w),k.setAttribute("fill","none"),k.setAttribute("stroke-linecap","round"),c.appendChild(k)}},function(y){var g=document.createElement("circle"),w=typeof t.dotSize=="function"?t.dotSize():t.dotSize;g.setAttribute("r",w),g.setAttribute("cx",y.x),g.setAttribute("cy",y.y),g.setAttribute("fill",y.color),c.appendChild(g)});var d="data:image/svg+xml;base64,",h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+s+" "+i+" "+a+" "+l+'"')+(' width="'+a+'"')+(' height="'+l+'"')+">",f=c.innerHTML;if(f===void 0){var m=document.createElement("dummy"),x=c.childNodes;m.innerHTML="";for(var b=0;b<x.length;b+=1)m.appendChild(x[b].cloneNode(!0));f=m.innerHTML}var N="</svg>",C=h+f+N;return d+btoa(C)};ye.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};ye.prototype.toData=function(){return this._data};const TF=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),NF=$j(TF);var gf={exports:{}},db;function EF(){return db||(db=1,function(t,e){(function(n,r){t.exports=r()})(wb,function(){return function(n){function r(i){if(s[i])return s[i].exports;var a=s[i]={exports:{},id:i,loaded:!1};return n[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var s={};return r.m=n,r.c=s,r.p="",r(0)}([function(n,r){function s(d){var h=d.getContext("2d"),f=d.width,m=d.height,x=h.getImageData(0,0,f,m).data,b=l(!0,f,m,x),N=l(!1,f,m,x),C=c(!0,f,m,x),y=c(!1,f,m,x),g=y-C+1,w=N-b+1,k=h.getImageData(C,b,g,w);return d.width=g,d.height=w,h.clearRect(0,0,g,w),h.putImageData(k,0,0),d}function i(d,h,f,m){return{red:m[4*(f*h+d)],green:m[4*(f*h+d)+1],blue:m[4*(f*h+d)+2],alpha:m[4*(f*h+d)+3]}}function a(d,h,f,m){return i(d,h,f,m).alpha}function l(d,h,f,m){for(var x=d?1:-1,b=d?0:f-1,N=b;d?N<f:N>-1;N+=x)for(var C=0;C<h;C++)if(a(C,N,h,m))return N;return null}function c(d,h,f,m){for(var x=d?1:-1,b=d?0:h-1,N=b;d?N<h:N>-1;N+=x)for(var C=0;C<f;C++)if(a(N,C,h,m))return N;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=s}])})}(gf)),gf.exports}(function(t,e){(function(n,r){t.exports=r(bF(),D,NF,EF())})(wb,function(n,r,s,i){return function(a){function l(d){if(c[d])return c[d].exports;var h=c[d]={exports:{},id:d,loaded:!1};return a[d].call(h.exports,h,h.exports,l),h.loaded=!0,h.exports}var c={};return l.m=a,l.c=c,l.p="",l(0)}([function(a,l,c){function d(E){return E&&E.__esModule?E:{default:E}}function h(E,S){var P={};for(var R in E)S.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(E,R)&&(P[R]=E[R]);return P}function f(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function m(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?E:S}function x(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}Object.defineProperty(l,"__esModule",{value:!0});var b=Object.assign||function(E){for(var S=1;S<arguments.length;S++){var P=arguments[S];for(var R in P)Object.prototype.hasOwnProperty.call(P,R)&&(E[R]=P[R])}return E},N=function(){function E(S,P){for(var R=0;R<P.length;R++){var I=P[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,P,R){return P&&E(S.prototype,P),R&&E(S,R),S}}(),C=c(1),y=d(C),g=c(2),w=d(g),k=c(3),M=d(k),O=c(4),_=d(O),T=function(E){function S(){var P,R,I,ae;f(this,S);for(var rt=arguments.length,xe=Array(rt),Ce=0;Ce<rt;Ce++)xe[Ce]=arguments[Ce];return R=I=m(this,(P=S.__proto__||Object.getPrototypeOf(S)).call.apply(P,[this].concat(xe))),I._sigPad=null,I._excludeOurProps=function(){var B=I.props,G=(B.canvasProps,B.clearOnResize,h(B,["canvasProps","clearOnResize"]));return G},I.getCanvas=function(){return I._canvas},I.getTrimmedCanvas=function(){var B=document.createElement("canvas");return B.width=I._canvas.width,B.height=I._canvas.height,B.getContext("2d").drawImage(I._canvas,0,0),(0,_.default)(B)},I.getSignaturePad=function(){return I._sigPad},I._checkClearOnResize=function(){I.props.clearOnResize&&I._resizeCanvas()},I._resizeCanvas=function(){var B=I.props.canvasProps||{},G=B.width,J=B.height;if(!G||!J){var Q=I._canvas,re=Math.max(window.devicePixelRatio||1,1);G||(Q.width=Q.offsetWidth*re),J||(Q.height=Q.offsetHeight*re),Q.getContext("2d").scale(re,re),I.clear()}},I.on=function(){return window.addEventListener("resize",I._checkClearOnResize),I._sigPad.on()},I.off=function(){return window.removeEventListener("resize",I._checkClearOnResize),I._sigPad.off()},I.clear=function(){return I._sigPad.clear()},I.isEmpty=function(){return I._sigPad.isEmpty()},I.fromDataURL=function(B,G){return I._sigPad.fromDataURL(B,G)},I.toDataURL=function(B,G){return I._sigPad.toDataURL(B,G)},I.fromData=function(B){return I._sigPad.fromData(B)},I.toData=function(){return I._sigPad.toData()},ae=R,m(I,ae)}return x(S,E),N(S,[{key:"componentDidMount",value:function(){this._sigPad=new M.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var P=this,R=this.props.canvasProps;return w.default.createElement("canvas",b({ref:function(I){P._canvas=I}},R))}}]),S}(g.Component);T.propTypes={velocityFilterWeight:y.default.number,minWidth:y.default.number,maxWidth:y.default.number,minDistance:y.default.number,dotSize:y.default.oneOfType([y.default.number,y.default.func]),penColor:y.default.string,throttle:y.default.number,onEnd:y.default.func,onBegin:y.default.func,canvasProps:y.default.object,clearOnResize:y.default.bool},T.defaultProps={clearOnResize:!0},l.default=T},function(a,l){a.exports=n},function(a,l){a.exports=r},function(a,l){a.exports=s},function(a,l){a.exports=i}])})})(lj);var jF=lj.exports;const Vd=bb(jF),SF=[{id:1,name:"مبتدئ",description:"لا يتحدث الإنجليزية"},{id:2,name:"متوسط",description:"يتحدث قليلاً"},{id:3,name:"متقدم",description:"يتحدث بطلاقة"}],IF=["أمراض القلب","السكري","الضغط","الحساسية","أمراض الجهاز التنفسي","أمراض العظام","أخرى"],kF=`
شروط وأحكام النادي

1. الالتزام بحضور الأنشطة والبرامج المقررة
2. احترام قواعد النادي والأنظمة الداخلية
3. الحفاظ على نظافة المرافق والأدوات
4. التعاون مع الإدارة والمدربين
5. عدم إفشاء معلومات النادي أو أعضائه
6. الالتزام بمواعيد الحضور والانصراف
7. إبلاغ الإدارة عن أي مشاكل صحية أو ظروف خاصة
8. المشاركة الإيجابية في الأنشطة والفعاليات
9. احترام حقوق الآخرين وعدم التمييز
10. الالتزام بالزي الرسمي للنادي أثناء الأنشطة

أوافق على جميع الشروط والأحكام المذكورة أعلاه وأتعهد بالالتزام بها.
`,CF=({club:t,onClose:e})=>{const[n,r]=D.useState({fullName:"",age:"",phone:"",email:"",dateOfBirth:"",placeOfBirth:"",skills:"",address:"",languageLevel:"",healthProblems:"",departmentId:"",agreedToContract:!1}),[s,i]=D.useState(!1),[a,l]=D.useState(null),[c,d]=D.useState(!1),h=D.useRef(null),f=async m=>{m.preventDefault(),i(!0);try{const x=t.departments.find(N=>N.id===n.departmentId);if(!x)throw new Error("Department not found");if(!h.current||h.current.isEmpty())throw new Error("Signature is required");const b={clubId:t.id,clubName:t.arabicName,departmentId:n.departmentId,departmentName:x.arabicName,fullName:n.fullName,age:parseInt(n.age),phone:n.phone,email:n.email,dateOfBirth:n.dateOfBirth,placeOfBirth:n.placeOfBirth,skills:n.skills,address:n.address,languageLevel:n.languageLevel,healthProblems:n.healthProblems,signature:h.current.toDataURL(),agreedToContract:n.agreedToContract,applicationDate:new Date,status:"pending"};await xs(Ie(ne,"clubApplications"),b),l("success"),setTimeout(()=>{l(null),window.location.reload()},2e3)}catch(x){console.error("Error submitting application:",x),l("error")}finally{i(!1)}};return o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"تقديم طلب انضمام"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["نادي ",t.arabicName]})]}),o.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Kn,{size:24})})]}),a==="success"?o.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"تم تقديم الطلب بنجاح!"}),o.jsx("p",{className:"text-gray-600",children:"✓ ستصلك رسالة تأكيد قريباً"})]}):o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الاسم الكامل ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:n.fullName,onChange:m=>r(x=>({...x,fullName:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",placeholder:"الاسم الكامل"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["العمر ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",required:!0,min:"1",max:"100",value:n.age,onChange:m=>r(x=>({...x,age:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",placeholder:"العمر"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["رقم الهاتف ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",required:!0,value:n.phone,onChange:m=>r(x=>({...x,phone:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",placeholder:"رقم الهاتف"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"البريد الإلكتروني (اختياري)"}),o.jsx("input",{type:"email",value:n.email,onChange:m=>r(x=>({...x,email:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",placeholder:"البريد الإلكتروني"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["تاريخ الميلاد ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",required:!0,value:n.dateOfBirth,onChange:m=>r(x=>({...x,dateOfBirth:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["مكان الميلاد ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:n.placeOfBirth,onChange:m=>r(x=>({...x,placeOfBirth:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",placeholder:"مكان الميلاد"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["العنوان ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:n.address,onChange:m=>r(x=>({...x,address:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",placeholder:"العنوان الكامل"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["مستوى اللغة ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{required:!0,value:n.languageLevel,onChange:m=>r(x=>({...x,languageLevel:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",children:[o.jsx("option",{value:"",children:"اختر مستوى اللغة"}),SF.map(m=>o.jsxs("option",{value:m.name,children:[m.name," - ",m.description]},m.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"المشاكل الصحية (اختياري)"}),o.jsxs("select",{value:n.healthProblems,onChange:m=>r(x=>({...x,healthProblems:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",children:[o.jsx("option",{value:"",children:"لا توجد مشاكل صحية"}),IF.map((m,x)=>o.jsx("option",{value:m,children:m},x))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"المهارات (اختياري)"}),o.jsx("textarea",{rows:3,value:n.skills,onChange:m=>r(x=>({...x,skills:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اذكر مهاراتك وخبراتك..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["التوقيع ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-300",children:[o.jsx(Vd,{ref:h,canvasProps:{className:"w-full h-32 border border-gray-300 rounded-lg"}}),o.jsx("button",{type:"button",onClick:()=>{var m;return(m=h.current)==null?void 0:m.clear()},className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"مسح التوقيع"})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:o.jsxs("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"checkbox",required:!0,checked:n.agreedToContract,onChange:m=>r(x=>({...x,agreedToContract:m.target.checked})),className:"mt-1 w-5 h-5 text-purple-500 border-gray-300 rounded focus:ring-purple-500"}),o.jsxs("span",{className:"text-gray-800 text-sm",children:["أوافق على",o.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-purple-500 hover:underline mx-1",children:"شروط وأحكام النادي"}),"والسياسات المعمول بها"]})]})}),a==="error"&&o.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl text-center",children:"حدث خطأ أثناء التقديم. يرجى المحاولة مرة أخرى."}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(A.button,{type:"submit",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex-1 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${s?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-lg hover:shadow-purple-500/25"} text-white`,children:s?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"جاري التقديم..."]}):"تقديم الطلب"}),o.jsx(A.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-medium",children:"إلغاء"})]})]}),c&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"شروط وأحكام النادي"}),o.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Kn,{size:20})})]}),o.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed",children:o.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:kF})}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(!1),className:"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-medium",children:"إغلاق"})})]})})]})})},AF=({onBack:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState(null),[i,a]=D.useState(!0);return D.useEffect(()=>{const l=Tt(Ie(ne,"clubs"),e0("isActive","==",!0),Qn("createdAt","desc")),c=Nt(l,d=>{const h=[];d.forEach(f=>{var x;const m=f.data();h.push({id:f.id,...m,createdAt:(x=m.createdAt)==null?void 0:x.toDate()})}),n(h),a(!1)});return()=>c()},[]),i?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{children:"جاري تحميل النوادي..."})]})}):o.jsxs(A.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.6},className:"min-h-screen py-8",dir:"rtl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-500 to-red-600 rounded-3xl p-8 mb-8 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400/20 to-pink-500/20 animate-pulse"}),o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:o.jsx($e,{className:"w-10 h-10 text-purple-500"})}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"النوادي المتاحة"}),o.jsx("p",{className:"text-purple-100 text-lg",children:"انضم إلى نوادينا المتخصصة وطور مهاراتك مع المجتمع"})]})]}),o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"mb-6 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-xl font-semibold flex items-center transition-colors duration-300",children:[o.jsx(Il,{className:"w-5 h-5 ml-2"}),"العودة للخلف"]}),e.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((l,c)=>{var d;return o.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},whileHover:{scale:1.02},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx("img",{src:l.imageUrl,alt:l.arabicName,className:"w-full h-48 object-cover rounded-xl",onError:h=>{h.currentTarget.src="https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}}),o.jsx("div",{className:"absolute top-3 right-3 bg-purple-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"نادي"})]}),o.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:l.arabicName}),o.jsx("p",{className:"text-white/80 text-sm mb-4 line-clamp-2",children:l.description}),o.jsxs("div",{className:"space-y-2 text-sm text-white/70 mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($e,{size:16,className:"ml-2"}),((d=l.departments)==null?void 0:d.length)||0," أقسام متاحة"]}),l.departments&&l.departments.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[l.departments.slice(0,3).map(h=>o.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-200 text-xs rounded-full",children:h.arabicName},h.id)),l.departments.length>3&&o.jsxs("span",{className:"px-2 py-1 bg-gray-500/20 text-gray-300 text-xs rounded-full",children:["+",l.departments.length-3]})]})]}),o.jsx(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(l),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 rounded-xl font-semibold transition-all duration-300",children:"الانضمام للنادي"})]},l.id)})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx($e,{className:"w-16 h-16 mx-auto mb-4 text-white/50"}),o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"لا يوجد نوادي حاليا"}),o.jsx("p",{className:"text-white/70",children:"سيتم إضافة نوادي جديدة قريباً"})]}),r&&o.jsx(CF,{club:r,onClose:()=>s(null)})]})},PF=({onClose:t})=>{const[e,n]=D.useState({fullName:"",age:"",phone:"",email:"",wilaya:"",education:"",position:"",experience:"",skills:"",motivation:"",language:"",cvBase64:""}),[r,s]=D.useState(!1),[i,a]=D.useState(null),l=D.useRef(null),[c,d]=D.useState(!1),[h,f]=D.useState(""),m=["مدرس برمجة","مدرس لغات","مدرس تصميم جرافيكي","مدرس تسويق رقمي","موظف استقبال","منسق أكاديمي","مطور ويب","مصمم جرافيكي","مسؤول تسويق","محاسب","أخرى"],x=N=>{var y;const C=(y=N.target.files)==null?void 0:y[0];if(C){if(C.size>1024*1024){f("الملف أكبر من 1 ميغابايت. يرجى اختيار ملف أصغر."),n(w=>({...w,cvBase64:""}));return}f("");const g=new FileReader;g.onload=function(w){n(k=>{var M;return{...k,cvBase64:(M=w.target)==null?void 0:M.result}})},g.readAsDataURL(C)}},b=async N=>{if(N.preventDefault(),s(!0),l.current&&l.current.isEmpty()){d(!0),s(!1);return}if(d(!1),e.position==="مدرس لغات"&&!e.language){s(!1),alert("يرجى تحديد اللغة التي تدرسها");return}try{let C=e.position;C==="مدرس لغات"&&e.language&&(C+=` (${e.language})`);const y={fullName:e.fullName,age:parseInt(e.age),phone:e.phone,email:e.email||"",wilaya:e.wilaya,education:e.education,position:C,experience:e.experience,skills:e.skills,motivation:e.motivation,applicationDate:new Date,status:"pending",...e.cvBase64?{cvBase64:e.cvBase64}:{}};await xs(Ie(ne,"jobApplications"),y),a("success"),setTimeout(()=>{n({fullName:"",age:"",phone:"",email:"",wilaya:"",education:"",position:"",experience:"",skills:"",motivation:"",language:"",cvBase64:""}),a(null),window.location.reload()},2e3)}catch(C){console.error("Error submitting job application:",C),a("error")}finally{s(!1)}};return o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),dir:"rtl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"التقديم على وظيفة"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Kn,{size:20})})]}),o.jsx("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:o.jsx(go,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"انضم إلى فريق أكاديمية رايزين"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"نبحث عن المواهب المتميزة للانضمام إلى فريقنا التعليمي والإداري"})]})]})}),i==="success"?o.jsxs(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[o.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx(kl,{className:"w-10 h-10 text-green-600"})}),o.jsx(A.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-gray-800 mb-3",children:"تم التقديم بنجاح!"}),o.jsx(A.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-lg",children:"تم تقديم طلب التوظيف بنجاح. سنتواصل معك قريباً لمتابعة الإجراءات."}),o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-green-50 rounded-xl border border-green-200",children:o.jsxs("p",{className:"text-green-700 text-sm",children:["✓ تم حفظ بياناتك بنجاح",o.jsx("br",{}),"✓ سيتم مراجعة طلبك خلال 48 ساعة",o.jsx("br",{}),"✓ ستصلك رسالة تأكيد قريباً"]})})]}):o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الاسم الكامل ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:e.fullName,onChange:N=>n(C=>({...C,fullName:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:"أدخل اسمك الكامل"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["العمر ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",required:!0,min:"18",max:"65",value:e.age,onChange:N=>n(C=>({...C,age:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:"العمر"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["رقم الهاتف ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",required:!0,value:e.phone,onChange:N=>n(C=>({...C,phone:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:"0555 123 456"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"البريد الإلكتروني (اختياري)"}),o.jsx("input",{type:"email",value:e.email,onChange:N=>n(C=>({...C,email:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:"example@email.com"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الولاية ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:e.wilaya,onChange:N=>n(C=>({...C,wilaya:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:"اسم الولاية"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["المستوى التعليمي ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:e.education,onChange:N=>n(C=>({...C,education:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:"المستوى التعليمي"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"معلومات الوظيفة"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["المنصب ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{required:!0,value:e.position,onChange:N=>n(C=>({...C,position:N.target.value,language:""})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",children:[o.jsx("option",{value:"",children:"اختر المنصب"}),m.map(N=>o.jsx("option",{value:N,children:N},N))]})]}),e.position==="مدرس لغات"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["اللغة التي تدرسها ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:e.language,onChange:N=>n(C=>({...C,language:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:"مثال: إنجليزية، فرنسية، ألمانية ..."})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"الخبرة والمهارات"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الخبرة المهنية ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{required:!0,rows:4,value:e.experience,onChange:N=>n(C=>({...C,experience:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اكتب عن خبرتك المهنية والوظائف السابقة..."})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["المهارات ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{required:!0,rows:3,value:e.skills,onChange:N=>n(C=>({...C,skills:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اذكر مهاراتك التقنية والشخصية..."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"رفع السيرة الذاتية (PDF، DOC، DOCX) (اختياري)"}),o.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:x,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-green-500 file:text-white"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"الحد الأقصى للحجم: 1 ميغابايت. سيتم حفظ الملف مباشرة في قاعدة البيانات."}),h&&o.jsx("div",{className:"text-red-600 text-xs mt-1",children:h}),e.cvBase64&&!h&&o.jsx("div",{className:"text-green-600 text-xs mt-1",children:"تم تحميل الملف بنجاح."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["لماذا تريد العمل معنا؟ ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{required:!0,rows:4,value:e.motivation,onChange:N=>n(C=>({...C,motivation:N.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اكتب عن دوافعك للعمل مع أكاديمية رايزين..."})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["التوقيع ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[o.jsx(Vd,{ref:l,canvasProps:{className:"w-full h-32 border border-gray-300 rounded-lg"}}),o.jsx("button",{type:"button",onClick:()=>{var N;return(N=l.current)==null?void 0:N.clear()},className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"مسح التوقيع"}),c&&o.jsx("div",{className:"text-red-600 mt-2 text-sm",children:"يرجى توقيع الطلب قبل الإرسال."})]})]}),i==="error"&&o.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl text-center",children:"حدث خطأ أثناء التقديم. يرجى المحاولة مرة أخرى."}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(A.button,{type:"submit",disabled:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex-1 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${r?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 shadow-lg hover:shadow-green-500/25"} text-white`,children:r?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"جاري التقديم..."]}):"تقديم الطلب"}),o.jsx(A.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-medium",children:"إلغاء"})]})]})]})})},RF=({onClose:t})=>{const[e,n]=D.useState({fullName:"",age:"",phone:"",email:"",wilaya:"",major:"",department:"",startDate:"",skills:"",projects:"",motivation:""}),[r,s]=D.useState(!1),[i,a]=D.useState(null),l=D.useRef(null),[c,d]=D.useState(!1),h=["تطوير الويب","تطوير التطبيقات","التصميم الجرافيكي","التسويق الرقمي","إدارة المحتوى","خدمة العملاء","الموارد البشرية","المحاسبة","أخرى"],f=async m=>{var x;if(m.preventDefault(),s(!0),l.current&&l.current.isEmpty()){d(!0),s(!1);return}d(!1);try{const b={fullName:e.fullName,age:parseInt(e.age),phone:e.phone,email:e.email,wilaya:e.wilaya,major:e.major,department:e.department,startDate:e.startDate,skills:e.skills,projects:e.projects,motivation:e.motivation,applicationDate:new Date,status:"pending",signature:((x=l.current)==null?void 0:x.getTrimmedCanvas().toDataURL())||""};await xs(Ie(ne,"internApplications"),b),a("success"),setTimeout(()=>{n({fullName:"",age:"",phone:"",email:"",wilaya:"",major:"",department:"",startDate:"",skills:"",projects:"",motivation:""}),a(null),window.location.reload()},2e3)}catch(b){console.error("Error submitting intern application:",b),a("error")}finally{s(!1)}};return o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:m=>m.stopPropagation(),dir:"rtl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"طلب تدريب"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Kn,{size:20})})]}),o.jsx("div",{className:"bg-gradient-to-r from-indigo-500/10 to-blue-500/10 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Vt,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"برنامج التدريب في أكاديمية رايزين"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"اكتسب خبرة عملية قيمة واطور مهاراتك مع فريقنا المتخصص"})]})]})}),i==="success"?o.jsxs(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[o.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx(kl,{className:"w-10 h-10 text-green-600"})}),o.jsx(A.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-gray-800 mb-3",children:"تم التقديم بنجاح!"}),o.jsx(A.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-lg",children:"تم تقديم طلب التدريب بنجاح. سنتواصل معك قريباً لمتابعة الإجراءات."}),o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-green-50 rounded-xl border border-green-200",children:o.jsxs("p",{className:"text-green-700 text-sm",children:["✓ تم استلام طلب التدريب",o.jsx("br",{}),"✓ سيتم مراجعة الطلب خلال 72 ساعة",o.jsx("br",{}),"✓ ستصلك رسالة بموعد المقابلة"]})})]}):o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الاسم الكامل ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:e.fullName,onChange:m=>n(x=>({...x,fullName:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300",placeholder:"أدخل اسمك الكامل"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["العمر ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",required:!0,min:"18",max:"30",value:e.age,onChange:m=>n(x=>({...x,age:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300",placeholder:"العمر"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["رقم الهاتف ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",required:!0,value:e.phone,onChange:m=>n(x=>({...x,phone:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300",placeholder:"0555 123 456"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"البريد الإلكتروني"}),o.jsx("input",{type:"email",value:e.email,onChange:m=>n(x=>({...x,email:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300",placeholder:"example@email.com"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الولاية ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:e.wilaya,onChange:m=>n(x=>({...x,wilaya:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300",placeholder:"اسم الولاية"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"المعلومات الأكاديمية"}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["التخصص ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:e.major,onChange:m=>n(x=>({...x,major:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300",placeholder:"التخصص الأكاديمي"})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"تفاصيل التدريب"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["القسم المطلوب ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{required:!0,value:e.department,onChange:m=>n(x=>({...x,department:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300",children:[o.jsx("option",{value:"",children:"اختر القسم"}),h.map(m=>o.jsx("option",{value:m,children:m},m))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["تاريخ البدء المفضل ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",required:!0,value:e.startDate,onChange:m=>n(x=>({...x,startDate:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"المهارات والخبرة"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["المهارات التقنية ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{required:!0,rows:3,value:e.skills,onChange:m=>n(x=>({...x,skills:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اذكر مهاراتك التقنية والبرمجية..."})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"المشاريع السابقة (اختياري)"}),o.jsx("textarea",{rows:3,value:e.projects,onChange:m=>n(x=>({...x,projects:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اكتب عن المشاريع التي عملت عليها..."})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الدافع للتدريب ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{required:!0,rows:3,value:e.motivation,onChange:m=>n(x=>({...x,motivation:m.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"اكتب لماذا ترغب في هذا التدريب..."})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["التوقيع ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[o.jsx(Vd,{ref:l,canvasProps:{className:"w-full h-32 border border-gray-300 rounded-lg"}}),o.jsx("button",{type:"button",onClick:()=>{var m;return(m=l.current)==null?void 0:m.clear()},className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"مسح التوقيع"}),c&&o.jsx("div",{className:"text-red-600 mt-2 text-sm",children:"يرجى توقيع الطلب قبل الإرسال."})]})]}),i==="error"&&o.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl text-center",children:"حدث خطأ أثناء التقديم. يرجى المحاولة مرة أخرى."}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(A.button,{type:"submit",disabled:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex-1 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${r?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 shadow-lg hover:shadow-indigo-500/25"} text-white`,children:r?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"جاري التقديم..."]}):"تقديم الطلب"}),o.jsx(A.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-medium",children:"إلغاء"})]})]})]})})},hb=[{id:"it",name:"IT",arabicName:"الإعلام الآلي",category:"professional"},{id:"programming",name:"Programming",arabicName:"البرمجة",category:"professional"},{id:"cybersecurity",name:"Cyber Security",arabicName:"الأمن السيبراني",category:"professional"},{id:"webdev",name:"Web Development",arabicName:"برمجة المواقع",category:"professional"},{id:"video-editing",name:"Video Editing",arabicName:"مونتاج الفيديو",category:"professional"},{id:"graphic-design",name:"Graphic Design",arabicName:"التصميم الجرافيكي",category:"professional"},{id:"digital-marketing",name:"Digital Marketing",arabicName:"التسويق الرقمي",category:"professional"},{id:"photography",name:"Photography",arabicName:"التصوير الفوتوغرافي",category:"professional"},{id:"accounting",name:"Accounting",arabicName:"المحاسبة",category:"professional"},{id:"trading",name:"Trading",arabicName:"التداول",category:"professional"},{id:"project-management",name:"Project Management",arabicName:"إدارة المشاريع",category:"professional"},{id:"english",name:"English",arabicName:"الإنجليزية",category:"language"},{id:"french",name:"French",arabicName:"الفرنسية",category:"language"},{id:"spanish",name:"Spanish",arabicName:"الإسبانية",category:"language"},{id:"italian",name:"Italian",arabicName:"الإيطالية",category:"language"},{id:"russian",name:"Russian",arabicName:"الروسية",category:"language"},{id:"german",name:"German",arabicName:"الألمانية",category:"language"}],DF=[{code:"01",name:"Adrar"},{code:"02",name:"Chlef"},{code:"03",name:"Laghouat"},{code:"04",name:"Oum El Bouaghi"},{code:"05",name:"Batna"},{code:"06",name:"Béjaïa"},{code:"07",name:"Biskra"},{code:"08",name:"Béchar"},{code:"09",name:"Blida"},{code:"10",name:"Bouira"},{code:"11",name:"Tamanrasset"},{code:"12",name:"Tébessa"},{code:"13",name:"Tlemcen"},{code:"14",name:"Tiaret"},{code:"15",name:"Tizi Ouzou"},{code:"16",name:"Algiers"},{code:"17",name:"Djelfa"},{code:"18",name:"Jijel"},{code:"19",name:"Sétif"},{code:"20",name:"Saïda"},{code:"21",name:"Skikda"},{code:"22",name:"Sidi Bel Abbès"},{code:"23",name:"Annaba"},{code:"24",name:"Guelma"},{code:"25",name:"Constantine"},{code:"26",name:"Médéa"},{code:"27",name:"Mostaganem"},{code:"28",name:"M'Sila"},{code:"29",name:"Mascara"},{code:"30",name:"Ouargla"},{code:"31",name:"Oran"},{code:"32",name:"El Bayadh"},{code:"33",name:"Illizi"},{code:"34",name:"Bordj Bou Arréridj"},{code:"35",name:"Boumerdès"},{code:"36",name:"El Tarf"},{code:"37",name:"Tindouf"},{code:"38",name:"Tissemsilt"},{code:"39",name:"El Oued"},{code:"40",name:"Khenchela"},{code:"41",name:"Souk Ahras"},{code:"42",name:"Tipaza"},{code:"43",name:"Mila"},{code:"44",name:"Aïn Defla"},{code:"45",name:"Naâma"},{code:"46",name:"Aïn Témouchent"},{code:"47",name:"Ghardaïa"},{code:"48",name:"Relizane"},{code:"49",name:"Timimoun"},{code:"50",name:"Bordj Badji Mokhtar"},{code:"51",name:"Ouled Djellal"},{code:"52",name:"Béni Abbès"},{code:"53",name:"In Salah"},{code:"54",name:"In Guezzam"},{code:"55",name:"Touggourt"},{code:"56",name:"Djanet"},{code:"57",name:"El M'Ghair"},{code:"58",name:"El Meniaa"}],MF=["طالب جامعي","عامل مؤسسة","صاحب مؤسسة","عاطل عن العمل","غير ذلك"],OF=[{id:"ccp",name:"CCP",icon:"💳"},{id:"baridimob",name:"Baridimob",icon:"📱"},{id:"check",name:"Check",icon:"📄"}],Qm=({type:t,onBack:e})=>{const[n,r]=D.useState({registrationType:t==="full"?"Full":"Basic"}),[s,i]=D.useState(""),[a,l]=D.useState(!1),[c,d]=D.useState(null),[h,f]=D.useState(""),m=D.useRef(null),x=hb.filter(g=>g.category==="professional"),b=hb.filter(g=>g.category==="language"),N=(g,w)=>{r(k=>({...k,[g]:w}))},C=async(g,w)=>{const k=ML(oF,`applications/${Date.now()}_${w}`),M=await RL(k,g);return await DL(M.ref)},y=async g=>{var w,k,M;g.preventDefault(),l(!0);try{const O={...n,course:s,submissionDate:new Date};if(t==="full"){const _=document.getElementById("idFront"),T=document.getElementById("idBack"),E=document.getElementById("paymentProof");(w=_==null?void 0:_.files)!=null&&w[0]&&(O.idFrontUrl=await C(_.files[0],"id_front")),(k=T==null?void 0:T.files)!=null&&k[0]&&(O.idBackUrl=await C(T.files[0],"id_back")),(M=E==null?void 0:E.files)!=null&&M[0]&&(O.paymentProofUrl=await C(E.files[0],"payment_proof")),m.current&&!m.current.isEmpty()&&(O.signature=m.current.toDataURL())}await xs(Ie(ne,"applications"),O),d("success"),setTimeout(()=>{r({registrationType:t==="full"?"Full":"Basic"}),i(""),f(""),m.current&&m.current.clear(),d(null),window.location.reload()},3e3)}catch(O){console.error("Error submitting application:",O),d("error")}finally{l(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:o.jsxs(A.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-full max-w-2xl mx-auto bg-white rounded-3xl shadow-2xl p-0 md:p-8 relative",style:{maxHeight:"90vh",overflowY:"auto"},children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-[#22b0fc] to-blue-800 rounded-3xl p-8 mb-8 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/20 to-[#22b0fc]/20 animate-pulse"}),o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-[#22b0fc] bg-clip-text text-transparent",children:"RA"})}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Rising Academy"}),o.jsx("p",{className:"text-blue-100 text-lg",children:t==="full"?"تسجيل كامل مع دفع مسبق":"تسجيل أولي مجاني"})]})]}),o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"mb-6 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-xl font-semibold flex items-center transition-colors duration-300",children:[o.jsx(Il,{className:"w-5 h-5 ml-2"}),"العودة للخلف"]}),o.jsx("div",{className:"bg-white rounded-3xl p-8 border border-gray-200 shadow-2xl",children:o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الاسم الكامل ",o.jsx("span",{className:"text-sm text-gray-300",children:"Full Name"})]}),o.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300",placeholder:"أدخل اسمك الكامل",onChange:g=>N("fullName",g.target.value)})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["العمر ",o.jsx("span",{className:"text-sm text-gray-300",children:"Age"})]}),o.jsx("input",{type:"number",min:"16",max:"65",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300",placeholder:"العمر",onChange:g=>N("age",parseInt(g.target.value))})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["رقم الهاتف ",o.jsx("span",{className:"text-sm text-gray-300",children:"Phone"})]}),o.jsx("input",{type:"tel",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300",placeholder:"0555 123 456",onChange:g=>N("phone",g.target.value)})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["البريد الإلكتروني (اختياري) ",o.jsx("span",{className:"text-sm text-gray-300",children:"Email"})]}),o.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300",placeholder:"example@email.com",onChange:g=>N("email",g.target.value)})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الولاية ",o.jsx("span",{className:"text-sm text-gray-300",children:"Wilaya"})]}),o.jsxs("select",{required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300",onChange:g=>N("wilaya",g.target.value),children:[o.jsx("option",{value:"",children:"اختر الولاية"}),DF.map(g=>o.jsxs("option",{value:g.name,className:"text-gray-900",children:[g.code," - ",g.name]},g.code))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["المستوى التعليمي ",o.jsx("span",{className:"text-sm text-gray-300",children:"Education"})]}),o.jsxs("select",{required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300",onChange:g=>N("education",g.target.value),children:[o.jsx("option",{value:"",children:"اختر المستوى التعليمي"}),MF.map(g=>o.jsx("option",{value:g,className:"text-gray-900",children:g},g))]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-4",children:["الدورة المطلوبة ",o.jsx("span",{className:"text-sm text-gray-300",children:"Course Selection"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-200 mb-3",children:"الدورات المهنية - Professional Courses"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x.map(g=>o.jsxs(A.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx("input",{type:"radio",id:g.id,name:"course",value:g.name,checked:s===g.name,onChange:w=>i(w.target.value),className:"sr-only"}),o.jsxs("label",{htmlFor:g.id,className:`block p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 text-center font-semibold text-base ${s===g.name?"bg-[#22b0fc] border-[#22b0fc] text-white shadow-lg":"bg-white border-gray-300 text-gray-800 hover:bg-blue-50 hover:border-blue-400"}`,children:[o.jsx("div",{className:"font-semibold",children:g.name}),o.jsx("div",{className:"text-sm opacity-80",children:g.arabicName})]})]},g.id))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-purple-200 mb-3",children:"دورات اللغات - Language Courses"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:b.map(g=>o.jsxs(A.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx("input",{type:"radio",id:g.id,name:"course",value:g.name,checked:s===g.name,onChange:w=>i(w.target.value),className:"sr-only"}),o.jsxs("label",{htmlFor:g.id,className:`block p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 text-center font-semibold text-base ${s===g.name?"bg-purple-500 border-purple-400 text-white shadow-lg":"bg-white border-gray-300 text-gray-800 hover:bg-purple-50 hover:border-purple-400"}`,children:[o.jsx("div",{className:"font-semibold",children:g.name}),o.jsx("div",{className:"text-sm opacity-80",children:g.arabicName})]})]},g.id))})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الخبرة السابقة (اختياري) ",o.jsx("span",{className:"text-sm text-gray-300",children:"Experience"})]}),o.jsx("textarea",{rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300 resize-none",placeholder:"اكتب عن خبرتك السابقة...",onChange:g=>N("experience",g.target.value)})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["ملاحظات أو استفسارات (اختياري) ",o.jsx("span",{className:"text-sm text-gray-300",children:"Comments"})]}),o.jsx("textarea",{rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300 resize-none",placeholder:"أي استفسارات أو ملاحظات؟",onChange:g=>N("comments",g.target.value)})]})]}),t==="full"&&o.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.5},className:"space-y-6 border-t border-white/20 pt-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"معلومات إضافية للتسجيل الكامل"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-4",children:["صور بطاقة الهوية ",o.jsx("span",{className:"text-sm text-gray-300",children:"ID Card Photos"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"الوجه الأمامي"}),o.jsx("input",{type:"file",id:"idFront",accept:"image/*",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-[#22b0fc] file:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"الوجه الخلفي"}),o.jsx("input",{type:"file",id:"idBack",accept:"image/*",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-[#22b0fc] file:text-white"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-4",children:["طريقة الدفع ",o.jsx("span",{className:"text-sm text-gray-300",children:"Payment Method"})]}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:OF.map(g=>o.jsxs(A.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx("input",{type:"radio",id:g.id,name:"paymentMethod",value:g.name,checked:h===g.name,onChange:w=>{f(w.target.value),N("paymentMethod",w.target.value)},className:"sr-only",required:!0}),o.jsxs("label",{htmlFor:g.id,className:`block p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 text-center font-semibold text-base ${h===g.name?"bg-green-500 border-green-400 text-white shadow-lg":"bg-white/10 border-white/20 text-white hover:bg-white/20"}`,children:[o.jsx("div",{className:"text-2xl mb-2",children:g.icon}),o.jsx("div",{className:"font-semibold text-gray-800",children:g.name.toLowerCase().includes("baridi")?"بريدي موب (Baridi Mob)":g.name.toLowerCase().includes("ccp")?"حوالة بريدية CCP":g.name.toLowerCase().includes("check")?"شيك بنكي (Check)":g.name}),h&&h.toLowerCase().includes("baridi")&&g.name===h&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 mt-3 text-right text-blue-800",children:[o.jsx("div",{className:"font-bold text-blue-700 mb-1",children:"تفاصيل الدفع عبر بريدي موب:"}),o.jsxs("ul",{className:"text-sm space-y-1",children:[o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"رقم CCP:"})," 00123456789 مفتاح 25"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"اسم الحساب:"})," أكاديمية رايزين"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"يرجى إرسال وصل الدفع على واتساب:"})," 0555 123 456"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"ملاحظة:"})," سيتم تأكيد تسجيلك بعد استلام إثبات الدفع."]})]})]}),h&&h.toLowerCase().includes("ccp")&&g.name===h&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 mt-3 text-right text-blue-800",children:[o.jsx("div",{className:"font-bold text-blue-700 mb-1",children:"تفاصيل الدفع عبر CCP:"}),o.jsxs("ul",{className:"text-sm space-y-1",children:[o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"رقم CCP:"})," 00123456789 مفتاح 25"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"اسم الحساب:"})," أكاديمية رايزين"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"يرجى إرسال وصل الدفع على واتساب:"})," 0555 123 456"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"ملاحظة:"})," سيتم تأكيد تسجيلك بعد استلام إثبات الدفع."]})]})]}),h&&h.toLowerCase().includes("check")&&g.name===h&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 mt-3 text-right text-blue-800",children:[o.jsx("div",{className:"font-bold text-blue-700 mb-1",children:"تفاصيل الدفع عبر شيك بنكي:"}),o.jsxs("ul",{className:"text-sm space-y-1",children:[o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"اسم الحساب:"})," أكاديمية رايزين"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"يرجى إرسال وصل الدفع على واتساب:"})," 0555 123 456"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"ملاحظة:"})," سيتم تأكيد تسجيلك بعد استلام إثبات الدفع."]})]})]})]})]},g.id))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["إثبات الدفع ",o.jsx("span",{className:"text-sm text-gray-300",children:"Payment Proof"})]}),o.jsx("input",{type:"file",id:"paymentProof",accept:"image/*",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-green-500 file:text-white"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["التوقيع ",o.jsx("span",{className:"text-sm text-gray-300",children:"Signature"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4",children:[o.jsx(Vd,{ref:m,canvasProps:{className:"w-full h-32 border border-gray-300 rounded-lg"}}),o.jsx("button",{type:"button",onClick:()=>{var g;return(g=m.current)==null?void 0:g.clear()},className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"مسح التوقيع"})]})]}),o.jsx("div",{className:"bg-white rounded-xl p-4 mt-4",children:o.jsxs("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-[#22b0fc] border-gray-300 rounded focus:ring-[#22b0fc]",onChange:g=>N("agreedToContract",g.target.checked)}),o.jsxs("span",{className:"text-gray-800 text-sm",children:["أوافق على شروط وأحكام الأكاديمية وسياسة الاسترداد",o.jsx("span",{className:"block text-gray-500 mt-1",children:"I agree to the academy's terms and conditions and refund policy"})]})]})})]}),o.jsx(A.button,{type:"submit",disabled:a||!s,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 ${a||!s?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-2xl hover:shadow-green-500/25"} text-white`,children:a?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"جاري الإرسال..."]}):"إرسال التسجيل"}),c==="success"&&o.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-500 text-white p-4 rounded-xl flex items-center",children:[o.jsx(kl,{className:"w-6 h-6 mr-3"}),"تم إرسال التسجيل بنجاح! سنتواصل معك قريباً."]}),c==="error"&&o.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500 text-white p-4 rounded-xl flex items-center",children:[o.jsx(Kn,{className:"w-6 h-6 mr-3"}),"حدث خطأ أثناء الإرسال. يرجى المحاولة مرة أخرى."]})]})})]})})},VF=({onClose:t,onSuccess:e})=>{const[n,r]=D.useState({fullName:"",age:"",phone:"",englishLevel:"",email:"",preferredSession:"",attendanceConfirmation:""}),[s,i]=D.useState(!1),[a,l]=D.useState(null),c=h=>{const{name:f,value:m}=h.target;r(x=>({...x,[f]:m}))},d=async h=>{h.preventDefault(),i(!0);try{await xs(Ie(ne,"clubApplications"),{clubName:"The Office",fullName:n.fullName,age:parseInt(n.age),phone:n.phone,englishLevel:n.englishLevel,email:n.email,preferredSession:n.preferredSession,attendanceConfirmation:n.attendanceConfirmation,applicationDate:new Date,status:"pending"}),l("success"),setTimeout(()=>{l(null),e?e():t()},2e3)}catch(f){console.error("Error submitting application:",f),l("error")}finally{i(!1)}};return a==="success"?o.jsxs(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[o.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx(kl,{className:"w-10 h-10 text-green-600"})}),o.jsx(A.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-gray-800 mb-3",children:"تم التقديم بنجاح!"}),o.jsx(A.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-lg",children:"تم تقديم طلبك لنادي The Office بنجاح. سنتواصل معك قريباً."}),o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-green-50 rounded-xl border border-green-200",children:o.jsxs("p",{className:"text-green-700 text-sm",children:["✓ تم استلام طلبك للنادي",o.jsx("br",{}),"✓ سيتم مراجعة الطلب خلال 24 ساعة",o.jsx("br",{}),"✓ ستصلك دعوة للانضمام قريباً"]})})]}):o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 to-indigo-600/10 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:o.jsxs("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v1H7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-2V5a3 3 0 0 0-3-3zM9 6V5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1H9zm3 4a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1z"}),o.jsx("circle",{cx:"12",cy:"14",r:"2"})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"انضم إلى نادي The Office"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"نادي متخصص في تطوير مهارات اللغة الإنجليزية والتواصل"})]})]})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["الاسم الكامل ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:c,required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"أدخل اسمك الكامل"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["العمر ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"age",value:n.age,onChange:c,required:!0,min:"16",max:"65",className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"العمر"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["رقم الهاتف ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:c,required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"0555 123 456"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 font-semibold mb-2",children:"البريد الإلكتروني (اختياري)"}),o.jsx("input",{type:"email",name:"email",value:n.email,onChange:c,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"example@email.com"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["مستوى اللغة الإنجليزية ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"englishLevel",value:n.englishLevel,onChange:c,required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",children:[o.jsx("option",{value:"",children:"اختر مستوى اللغة"}),o.jsx("option",{value:"مبتدئ",children:"مبتدئ - لا أتحدث الإنجليزية"}),o.jsx("option",{value:"أساسي",children:"أساسي - أعرف كلمات بسيطة"}),o.jsx("option",{value:"متوسط",children:"متوسط - أستطيع التحدث بشكل بسيط"}),o.jsx("option",{value:"متوسط متقدم",children:"متوسط متقدم - أتحدث بطلاقة نسبية"}),o.jsx("option",{value:"متقدم",children:"متقدم - أتحدث بطلاقة عالية"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["أي حصة تريد الحضور ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"preferredSession",value:n.preferredSession,onChange:c,required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",children:[o.jsx("option",{value:"",children:"اختر الحصة المفضلة"}),o.jsx("option",{value:"سبت",children:"السبت"}),o.jsx("option",{value:"اثنين",children:"الاثنين"}),o.jsx("option",{value:"كلاهما",children:"كلا اليومين"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-800 font-semibold mb-2",children:["تأكيد حضورك - هل متأكد من حضورك؟ ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"attendanceConfirmation",value:n.attendanceConfirmation,onChange:c,required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",children:[o.jsx("option",{value:"",children:"اختر إجابتك"}),o.jsx("option",{value:"نعم متأكد",children:"نعم، متأكد من الحضور"}),o.jsx("option",{value:"غير متأكد",children:"غير متأكد، سأحاول الحضور"}),o.jsx("option",{value:"ربما",children:"ربما، حسب الظروف"})]})]}),a==="error"&&o.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl text-center",children:"حدث خطأ أثناء الإرسال. يرجى المحاولة مرة أخرى."}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(A.button,{type:"submit",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex-1 py-3 rounded-xl font-bold text-lg transition-all duration-300 ${s?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-blue-500/25"} text-white`,children:s?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white ml-3"}),"جاري الإرسال..."]}):"إرسال الطلب"}),o.jsx(A.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-medium",children:"إلغاء"})]})]})},LF=({onChoiceSelect:t,onBack:e,showCourseTypes:n})=>{const[r,s]=D.useState(!1),[i,a]=D.useState(!1),[l,c]=D.useState(!1),[d,h]=D.useState(!1),[f,m]=D.useState(!1),[x,b]=D.useState(!1),[N,C]=D.useState(!1),[y,g]=D.useState(!1),w=k=>{k==="workshops"?s(!0):k==="clubs"?a(!0):k==="jobs"?c(!0):k==="internapplication"?h(!0):k==="courses"?m(!0):t(k)};return o.jsxs(o.Fragment,{children:[n?o.jsx(A.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"min-h-screen flex flex-col items-center justify-center p-4",dir:"rtl",children:o.jsxs("div",{className:"max-w-4xl w-full",children:[o.jsx(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:o.jsxs(A.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px -12px rgba(59, 130, 246, 0.4)"},whileTap:{scale:.98},onClick:()=>t("basic"),className:"bg-gradient-to-r from-blue-500 via-blue-600 to-cyan-500 hover:from-blue-600 hover:via-blue-700 hover:to-cyan-600 text-white px-10 py-5 rounded-3xl font-bold text-xl shadow-2xl transition-all duration-300 flex items-center mx-auto relative overflow-hidden",children:[o.jsx(A.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsx(Vt,{className:"w-7 h-7 ml-3"}),o.jsx("span",{className:"relative z-10",children:"تسجيل سريع - دورة أولية"})]})}),e&&o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"mb-6 bg-white/20 hover:bg-white/30 text-white px-6 py-3 rounded-xl font-semibold flex items-center transition-colors duration-300",children:[o.jsx(Il,{className:"w-5 h-5 ml-2"}),"العودة للخلف"]}),o.jsxs(A.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,duration:.6},className:"text-center mb-12",children:[o.jsx(A.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"relative mb-8",children:o.jsxs("div",{className:"w-28 h-28 mx-auto relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-[#22b0fc] rounded-full animate-pulse shadow-2xl"}),o.jsxs("div",{className:"absolute inset-3 bg-white rounded-full flex items-center justify-center shadow-inner",children:[o.jsx("img",{src:"/mainlogo.png",alt:"Rising Academy Logo",className:"w-14 h-14 object-contain",onError:k=>{var M;k.currentTarget.style.display="none",(M=k.currentTarget.nextElementSibling)==null||M.classList.remove("hidden")}}),o.jsx(Vt,{className:"w-14 h-14 text-[#22b0fc] hidden"})]}),o.jsx(A.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:o.jsx(df,{className:"w-7 h-7 text-yellow-400 drop-shadow-lg"})}),o.jsx(A.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:6,repeat:1/0,ease:"linear",delay:1},className:"absolute -bottom-2 -left-2",children:o.jsx(hf,{className:"w-6 h-6 text-blue-400 drop-shadow-lg"})})]})}),o.jsx("h1",{className:"text-5xl font-bold text-white mb-6 drop-shadow-lg",children:"اختر نوع التسجيل في الدورات"}),o.jsx("p",{className:"text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed drop-shadow-md",children:"اختر طريقة التسجيل التي تناسبك في الدورات المدفوعة"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[o.jsx(A.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5,duration:.6},whileHover:{scale:1.05,rotateY:5,boxShadow:"0 30px 60px -12px rgba(34, 176, 252, 0.4)"},className:"group cursor-pointer",onClick:()=>C(!0),children:o.jsxs("div",{className:"bg-white rounded-3xl p-10 shadow-2xl hover:shadow-[#22b0fc]/30 transition-all duration-500 relative overflow-hidden border-2 border-gray-100 hover:border-[#22b0fc]/30 min-h-[500px] flex flex-col",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#22b0fc]/8 to-cyan-500/8 group-hover:from-[#22b0fc]/15 group-hover:to-cyan-500/15 transition-all duration-500"}),o.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 opacity-5 group-hover:opacity-12 transition-opacity duration-500",children:o.jsx(A.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-full h-full",children:o.jsx(Vt,{className:"w-full h-full text-[#22b0fc]"})})}),o.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",children:[o.jsx(A.div,{whileHover:{rotate:5,scale:1.1},className:"w-20 h-20 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-3xl flex items-center justify-center mb-8 shadow-xl group-hover:shadow-2xl transition-all duration-300",children:o.jsx(Vt,{className:"w-10 h-10 text-white"})}),o.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-6",children:"تسجيل أولي"}),o.jsx("p",{className:"text-gray-600 text-xl mb-8 leading-relaxed flex-1",children:"تسجيل كمرحلة اولى يحتاج منك التوجه الى المركز بعد التواصل"}),o.jsxs("ul",{className:"space-y-4 text-gray-700 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-4 h-4 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-full ml-4 shadow-md"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors text-lg",children:"حجز مكانك في الدورة"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-4 h-4 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-full ml-4 shadow-md"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors text-lg",children:"معلومات تفصيلية عن المنهج"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-4 h-4 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-full ml-4 shadow-md"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors text-lg",children:"إمكانية التواصل المباشر"})]})]}),o.jsxs(A.div,{initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},className:"inline-flex items-center px-4 py-2 bg-[#22b0fc]/15 text-[#22b0fc] text-base font-semibold rounded-full shadow-md",children:[o.jsx(df,{className:"w-5 h-5 ml-2"}),"مجاني ومرن"]})]})]})}),o.jsx(A.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7,duration:.6},whileHover:{scale:1.05,rotateY:-5,boxShadow:"0 30px 60px -12px rgba(16, 185, 129, 0.4)"},className:"group cursor-pointer",onClick:()=>b(!0),children:o.jsxs("div",{className:"bg-white rounded-3xl p-10 shadow-2xl hover:shadow-green-500/30 transition-all duration-500 relative overflow-hidden border-2 border-gray-100 hover:border-green-500/30 min-h-[500px] flex flex-col",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/8 to-emerald-500/8 group-hover:from-green-500/15 group-hover:to-emerald-500/15 transition-all duration-500"}),o.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 opacity-5 group-hover:opacity-12 transition-opacity duration-500",children:o.jsx(A.div,{animate:{rotate:-360},transition:{duration:25,repeat:1/0,ease:"linear"},className:"w-full h-full",children:o.jsx(uf,{className:"w-full h-full text-green-500"})})}),o.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",children:[o.jsx(A.div,{whileHover:{rotate:-5,scale:1.1},className:"w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-500 rounded-3xl flex items-center justify-center mb-8 shadow-xl group-hover:shadow-2xl transition-all duration-300",children:o.jsx(uf,{className:"w-10 h-10 text-white"})}),o.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-6",children:"تسجيل كلي"}),o.jsx("p",{className:"text-gray-600 text-xl mb-8 leading-relaxed flex-1",children:"تسجيل كامل مع دفع اما مرة واحدة او جزئيا وضمان مكانك في الدورة"}),o.jsxs("ul",{className:"space-y-4 text-gray-700 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-4 h-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full ml-4 shadow-md"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors text-lg",children:"ضمان مكانك بنسبة 100%"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-4 h-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full ml-4 shadow-md"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors text-lg",children:"امكانية التسجيل عن بعد كليا"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-4 h-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full ml-4 shadow-md"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors text-lg",children:"متابعة مستمرة بعد الدورة"})]})]}),o.jsxs(A.div,{initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},className:"inline-flex items-center px-4 py-2 bg-green-500/15 text-green-600 text-base font-semibold rounded-full shadow-md",children:[o.jsx(hf,{className:"w-5 h-5 ml-2"}),"الأكثر شمولية"]})]})]})})]})]})}):r?o.jsx(xF,{onBack:()=>s(!1)}):i?o.jsx(AF,{onBack:()=>a(!1)}):o.jsx(A.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"min-h-screen flex flex-col items-center justify-center p-4",dir:"rtl",children:o.jsxs("div",{className:"max-w-6xl w-full",children:[o.jsx(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 text-center",children:o.jsxs(A.button,{whileHover:{scale:1.05,backgroundColor:"#e0f2ff",borderColor:"#2563eb"},whileTap:{scale:.98},onClick:()=>t("basic"),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-2xl hover:shadow-blue-500/25 transition-all duration-300 flex items-center mx-auto",children:[o.jsx(Vt,{className:"w-6 h-6 ml-3"}),"تسجيل سريع - دورة أولية"]})}),o.jsxs(A.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,duration:.6},className:"text-center mb-12",children:[o.jsxs(A.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"w-32 h-32 mx-auto mb-8 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-[#22b0fc] rounded-full animate-pulse shadow-2xl"}),o.jsxs("div",{className:"absolute inset-2 bg-white rounded-full flex items-center justify-center shadow-inner",children:[o.jsx("img",{src:"/mainlogo.png",alt:"Rising Academy Logo",className:"w-16 h-16 object-contain",onError:k=>{var M;k.currentTarget.style.display="none",(M=k.currentTarget.nextElementSibling)==null||M.classList.remove("hidden")}}),o.jsx(Vt,{className:"w-16 h-16 text-[#22b0fc] hidden"})]}),o.jsx(A.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute -top-4 -right-4",children:o.jsx(df,{className:"w-8 h-8 text-yellow-400 drop-shadow-lg"})}),o.jsx(A.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:8,repeat:1/0,ease:"linear",delay:2},className:"absolute -bottom-4 -left-4",children:o.jsx(hf,{className:"w-6 h-6 text-blue-400 drop-shadow-lg"})}),o.jsx(A.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{duration:12,repeat:1/0,ease:"linear",delay:1},className:"absolute top-0 -left-6",children:o.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full shadow-lg"})})]}),o.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"أكاديمية رايزين"}),o.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto leading-relaxed",children:"اختر الخدمة التي تناسبك من خدماتنا المتنوعة"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:[o.jsx(A.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5,duration:.6},whileHover:{scale:1.05,rotateY:5,boxShadow:"0 25px 50px -12px rgba(34, 176, 252, 0.25)"},className:"group cursor-pointer",onClick:()=>w("courses"),children:o.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl hover:shadow-[#22b0fc]/25 transition-all duration-500 relative overflow-hidden h-full border border-gray-100 hover:border-[#22b0fc]/20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#22b0fc]/5 to-cyan-500/5 group-hover:from-[#22b0fc]/10 group-hover:to-cyan-500/10 transition-all duration-500"}),o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 opacity-5 group-hover:opacity-10 transition-opacity duration-500",children:o.jsx(A.div,{animate:{rotate:360},transition:{duration:15,repeat:1/0,ease:"linear"},className:"w-full h-full",children:o.jsx(Vt,{className:"w-full h-full text-[#22b0fc]"})})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx(A.div,{whileHover:{rotate:10,scale:1.1},className:"w-16 h-16 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300",children:o.jsx(Vt,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"دورات مدفوعة"}),o.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"دورات تدريبية متخصصة في مختلف المجالات التقنية واللغوية"}),o.jsxs("ul",{className:"space-y-3 text-gray-700",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-3 h-3 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-full ml-3 shadow-sm"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors",children:"دورات البرمجة والتكنولوجيا"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-3 h-3 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-full ml-3 shadow-sm"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors",children:"دورات اللغات الأجنبية"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-3 h-3 bg-gradient-to-r from-[#22b0fc] to-cyan-500 rounded-full ml-3 shadow-sm"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors",children:"شهادات معتمدة"})]})]})]})]})}),o.jsx(A.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7,duration:.6},whileHover:{scale:1.05,rotateY:-5,boxShadow:"0 25px 50px -12px rgba(245, 158, 11, 0.25)"},className:"group cursor-pointer",onClick:()=>w("workshops"),children:o.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl hover:shadow-yellow-500/25 transition-all duration-500 relative overflow-hidden h-full border border-gray-100 hover:border-yellow-500/20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/5 to-orange-500/5 group-hover:from-yellow-500/10 group-hover:to-orange-500/10 transition-all duration-500"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx(A.div,{whileHover:{rotate:-10,scale:1.1},className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300",children:o.jsx(In,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"ورشات مجانية"}),o.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"ورش تدريبية مجانية أسبوعية لتطوير المهارات"}),o.jsxs("ul",{className:"space-y-3 text-gray-700",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-3 h-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full ml-3 shadow-sm"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors",children:"ورش أسبوعية مجانية"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-3 h-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full ml-3 shadow-sm"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors",children:"مواضيع متنوعة ومفيدة"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(A.div,{whileHover:{scale:1.2},className:"w-3 h-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full ml-3 shadow-sm"}),o.jsx("span",{className:"group-hover:text-gray-800 transition-colors",children:"شهادات حضور"})]})]})]})]})}),o.jsx(A.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9,duration:.6},whileHover:{scale:1.05,rotateY:5},className:"group cursor-pointer",onClick:()=>w("clubs"),children:o.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl hover:shadow-purple-500/25 transition-all duration-500 relative overflow-hidden h-full",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-pink-500/5 group-hover:from-purple-500/10 group-hover:to-pink-500/10 transition-all duration-500"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx($e,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"الانخراط في النوادي"}),o.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"انضم إلى نوادينا المتخصصة وطور مهاراتك مع المجتمع"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full ml-3"}),"نوادي متخصصة متنوعة"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full ml-3"}),"أنشطة جماعية ومشاريع"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full ml-3"}),"تطوير المهارات الاجتماعية"]})]})]})]})}),o.jsx(A.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1,duration:.6},whileHover:{scale:1.05,rotateY:-5},className:"group cursor-pointer",onClick:()=>c(!0),children:o.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl hover:shadow-green-500/25 transition-all duration-500 relative overflow-hidden h-full",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 group-hover:from-green-500/10 group-hover:to-emerald-500/10 transition-all duration-500"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx(go,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"التقديم على وظيفة"}),o.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"انضم إلى فريق العمل كمدرس أو موظف إداري"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full ml-3"}),"وظائف تدريس متنوعة"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full ml-3"}),"وظائف إدارية وتقنية"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full ml-3"}),"بيئة عمل محفزة"]})]})]})]})}),o.jsx(A.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.3,duration:.6},whileHover:{scale:1.05,rotateY:5},className:"group cursor-pointer",onClick:()=>w("internapplication"),children:o.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl hover:shadow-indigo-500/25 transition-all duration-500 relative overflow-hidden h-full",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-blue-500/5 group-hover:from-indigo-500/10 group-hover:to-blue-500/10 transition-all duration-500"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx(gF,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"طلب تربص"}),o.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"قدم للتدريب واكتسب خبرة عملية معنا"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full ml-3"}),"فرصة للتعلم الميداني"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full ml-3"}),"إشراف مباشر من خبراء"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full ml-3"}),"شهادة تدريب في نهاية الفترة"]})]})]})]})}),o.jsx(A.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.5,duration:.6},whileHover:{scale:1.05,rotateY:5},className:"group cursor-pointer",onClick:()=>g(!0),children:o.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl hover:shadow-gray-500/25 transition-all duration-500 relative overflow-hidden h-full",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-gray-400/5 group-hover:from-gray-500/10 group-hover:to-gray-400/10 transition-all duration-500"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsxs("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v1H7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-2V5a3 3 0 0 0-3-3zM9 6V5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1H9zm3 4a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1z"}),o.jsx("circle",{cx:"12",cy:"14",r:"2"})]})}),o.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"The Office Club"}),o.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"انضم إلى نادي The Office وطور مهاراتك اللغوية"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-3"}),"فعاليات وأنشطة متنوعة"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-3"}),"تطوير اللغة الإنجليزية"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-3"}),"بيئة عمل تفاعلية"]})]})]})]})})]}),o.jsx(A.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.5,duration:.6},className:"text-center",children:o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("admin"),className:"bg-gradient-to-r from-[#22b0fc] to-blue-600 hover:from-[#1a9de8] hover:to-blue-700 text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-2xl hover:shadow-[#22b0fc]/25 transition-all duration-300 flex items-center mx-auto",children:[o.jsx(oj,{className:"w-6 h-6 ml-3"}),"الدخول للإدارة"]})})]})}),l&&o.jsx(PF,{onClose:()=>c(!1)}),d&&o.jsx(RF,{onClose:()=>h(!1)}),f&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>m(!1),children:o.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-2xl w-full shadow-2xl relative overflow-hidden",onClick:k=>k.stopPropagation(),dir:"rtl",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-blue-100 to-transparent rounded-full opacity-50"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-green-100 to-transparent rounded-full opacity-50"}),o.jsx("button",{className:"absolute top-4 left-4 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",onClick:()=>m(!1),children:o.jsx(Kn,{className:"w-6 h-6"})}),o.jsxs("div",{className:"relative z-10 text-center mb-8",children:[o.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:o.jsx(Vt,{className:"w-10 h-10 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"اختر نوع التسجيل"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"اختر الطريقة التي تناسبك للتسجيل في الدورات"})]}),o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs(A.button,{whileHover:{scale:1.02,boxShadow:"0 20px 40px -12px rgba(16, 185, 129, 0.3)"},whileTap:{scale:.98},className:"w-full py-6 rounded-2xl font-bold text-xl bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 shadow-xl transition-all duration-300 relative overflow-hidden",onClick:()=>{m(!1),b(!0)},children:[o.jsx(A.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[o.jsx(uf,{className:"w-6 h-6 ml-3"}),"تسجيل كلي"]})]}),o.jsxs(A.button,{whileHover:{scale:1.02,boxShadow:"0 20px 40px -12px rgba(59, 130, 246, 0.3)"},whileTap:{scale:.98},className:"w-full py-6 rounded-2xl font-bold text-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:from-blue-600 hover:to-cyan-600 shadow-xl transition-all duration-300 relative overflow-hidden",onClick:()=>{m(!1),C(!0)},children:[o.jsx(A.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}}),o.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[o.jsx(Vt,{className:"w-6 h-6 ml-3"}),"تسجيل أولي سريع"]})]})]})]})}),x&&o.jsx(Qm,{type:"full",onBack:()=>{b(!1),m(!0)}}),N&&o.jsx(Qm,{type:"basic",onBack:()=>{C(!1),m(!0)}}),y&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>g(!1),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:k=>k.stopPropagation(),dir:"rtl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"التقديم لنادي The Office"}),o.jsx("button",{onClick:()=>g(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Kn,{size:20})})]}),o.jsx(VF,{onClose:()=>g(!1),onSuccess:()=>{g(!1),window.location.reload()}})]})})]})},FF=({onBack:t,onLoginSuccess:e})=>{const[n,r]=D.useState(""),[s,i]=D.useState(""),[a,l]=D.useState(!1),[c,d]=D.useState(!1),[h,f]=D.useState(""),m=async x=>{x.preventDefault(),d(!0),f("");try{await i5(Uu,n,s),e()}catch(b){f(b.code==="auth/wrong-password"?"كلمة المرور غير صحيحة":b.code==="auth/user-not-found"?"البريد الإلكتروني غير مسجل":"حدث خطأ في تسجيل الدخول")}finally{d(!1)}};return o.jsx(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5},className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"mb-6 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-xl font-semibold flex items-center transition-colors duration-300",children:[o.jsx(Il,{className:"w-5 h-5 ml-2"}),"العودة للخلف"]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx(A.div,{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-[#22b0fc]/20 to-transparent rounded-full",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),o.jsx(A.div,{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-500/20 to-transparent rounded-full",animate:{scale:[1,1.3,1],rotate:[360,180,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs(A.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-[#22b0fc] to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-2xl",children:o.jsx(oj,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"لوحة التحكم"}),o.jsx("p",{className:"text-blue-200",children:"دخول المدير"})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs(A.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[o.jsx("label",{className:"block text-white font-semibold mb-2 text-right",children:"البريد الإلكتروني"}),o.jsx("input",{type:"email",value:n,onChange:x=>r(x.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300",placeholder:"admin@risingacademy.com",dir:"ltr"})]}),o.jsxs(A.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[o.jsx("label",{className:"block text-white font-semibold mb-2 text-right",children:"كلمة المرور"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a?"text":"password",value:s,onChange:x=>i(x.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-[#22b0fc] transition-all duration-300 pr-12",placeholder:"••••••••",dir:"ltr"}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-colors",children:a?o.jsx(uF,{className:"w-5 h-5"}):o.jsx(fi,{className:"w-5 h-5"})})]})]}),h&&o.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 text-red-200 px-4 py-3 rounded-xl text-center",children:h}),o.jsxs(A.button,{type:"submit",disabled:c,initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 relative overflow-hidden ${c?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#22b0fc] to-blue-600 hover:from-[#1a9de8] hover:to-blue-700 shadow-2xl hover:shadow-[#22b0fc]/25"} text-white`,children:[o.jsx(A.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent",animate:{x:c?["-100%","100%"]:"-100%"},transition:{duration:1.5,repeat:c?1/0:0,ease:"easeInOut"}}),o.jsx("span",{className:"relative z-10",children:c?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"جاري تسجيل الدخول..."]}):"تسجيل الدخول"})]})]})]})]})]})})},cj=6048e5,UF=864e5,fb=Symbol.for("constructDateFrom");function ls(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&fb in t?t[fb](e):t instanceof Date?new t.constructor(e):new Date(e)}function Rn(t,e){return ls(e||t,t)}let BF={};function Ld(){return BF}function al(t,e){var l,c,d,h;const n=Ld(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Rn(t,e==null?void 0:e.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Bu(t,e){return al(t,{...e,weekStartsOn:1})}function uj(t,e){const n=Rn(t,e==null?void 0:e.in),r=n.getFullYear(),s=ls(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Bu(s),a=ls(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Bu(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function mb(t){const e=Rn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zF(t,...e){const n=ls.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function pb(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function $F(t,e,n){const[r,s]=zF(n==null?void 0:n.in,t,e),i=pb(r),a=pb(s),l=+i-mb(i),c=+a-mb(a);return Math.round((l-c)/UF)}function HF(t,e){const n=uj(t,e),r=ls(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Bu(r)}function WF(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qF(t){return!(!WF(t)&&typeof t!="number"||isNaN(+Rn(t)))}function GF(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const KF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QF=(t,e,n)=>{let r;const s=KF[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yi(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const YF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZF={date:Yi({formats:YF,defaultWidth:"full"}),time:Yi({formats:XF,defaultWidth:"full"}),dateTime:Yi({formats:JF,defaultWidth:"full"})},eU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tU=(t,e,n,r)=>eU[t];function Vn(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const nU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lU=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cU={ordinalNumber:lU,era:Vn({values:nU,defaultWidth:"wide"}),quarter:Vn({values:rU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vn({values:sU,defaultWidth:"wide"}),day:Vn({values:iU,defaultWidth:"wide"}),dayPeriod:Vn({values:oU,defaultWidth:"wide",formattingValues:aU,defaultFormattingWidth:"wide"})};function Ln(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?dU(l,f=>f.test(a)):uU(l,f=>f.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function uU(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function dU(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dj(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const hU=/^(\d+)(th|st|nd|rd)?/i,fU=/\d+/i,mU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pU={any:[/^b/i,/^(a|c)/i]},gU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yU={any:[/1/i,/2/i,/3/i,/4/i]},xU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_U={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NU={ordinalNumber:dj({matchPattern:hU,parsePattern:fU,valueCallback:t=>parseInt(t,10)}),era:Ln({matchPatterns:mU,defaultMatchWidth:"wide",parsePatterns:pU,defaultParseWidth:"any"}),quarter:Ln({matchPatterns:gU,defaultMatchWidth:"wide",parsePatterns:yU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ln({matchPatterns:xU,defaultMatchWidth:"wide",parsePatterns:vU,defaultParseWidth:"any"}),day:Ln({matchPatterns:wU,defaultMatchWidth:"wide",parsePatterns:bU,defaultParseWidth:"any"}),dayPeriod:Ln({matchPatterns:_U,defaultMatchWidth:"any",parsePatterns:TU,defaultParseWidth:"any"})},EU={code:"en-US",formatDistance:QF,formatLong:ZF,formatRelative:tU,localize:cU,match:NU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jU(t,e){const n=Rn(t,e==null?void 0:e.in);return $F(n,GF(n))+1}function SU(t,e){const n=Rn(t,e==null?void 0:e.in),r=+Bu(n)-+HF(n);return Math.round(r/cj)+1}function hj(t,e){var h,f,m,x;const n=Rn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Ld(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(m=s.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,a=ls((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=al(a,e),c=ls((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=al(c,e);return+n>=+l?r+1:+n>=+d?r:r-1}function IU(t,e){var l,c,d,h;const n=Ld(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=hj(t,e),i=ls((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),al(i,e)}function kU(t,e){const n=Rn(t,e==null?void 0:e.in),r=+al(n,e)-+IU(n,e);return Math.round(r/cj)+1}function fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):fe(n+1,2)},d(t,e){return fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return fe(t.getHours()%12||12,e.length)},H(t,e){return fe(t.getHours(),e.length)},m(t,e){return fe(t.getMinutes(),e.length)},s(t,e){return fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return fe(s,e.length)}},vi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return jr.y(t,e)},Y:function(t,e,n,r){const s=hj(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return fe(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):fe(i,e.length)},R:function(t,e){const n=uj(t);return fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=kU(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):fe(s,e.length)},I:function(t,e,n){const r=SU(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jr.d(t,e)},D:function(t,e,n){const r=jU(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return fe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return fe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return fe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=vi.noon:r===0?s=vi.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=vi.evening:r>=12?s=vi.afternoon:r>=4?s=vi.morning:s=vi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jr.s(t,e)},S:function(t,e){return jr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return xb(r);case"XXXX":case"XX":return Cs(r);case"XXXXX":case"XXX":default:return Cs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return xb(r);case"xxxx":case"xx":return Cs(r);case"xxxxx":case"xxx":default:return Cs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yb(r,":");case"OOOO":default:return"GMT"+Cs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yb(r,":");case"zzzz":default:return"GMT"+Cs(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return fe(r,e.length)},T:function(t,e,n){return fe(+t,e.length)}};function yb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+fe(i,2)}function xb(t,e){return t%60===0?(t>0?"-":"+")+fe(Math.abs(t)/60,2):Cs(t,e)}function Cs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=fe(Math.trunc(r/60),2),i=fe(r%60,2);return n+s+e+i}const vb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},CU=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return vb(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",vb(r,e)).replace("{{time}}",fj(s,e))},AU={p:fj,P:CU},PU=/^D+$/,RU=/^Y+$/,DU=["D","DD","YY","YYYY"];function MU(t){return PU.test(t)}function OU(t){return RU.test(t)}function VU(t,e,n){const r=LU(t,e,n);if(console.warn(r),DU.includes(t))throw new RangeError(r)}function LU(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BU=/^'([^]*?)'?$/,zU=/''/g,$U=/[a-zA-Z]/;function ke(t,e,n){var h,f,m,x,b,N,C,y;const r=Ld(),s=(n==null?void 0:n.locale)??r.locale??EU,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((N=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??r.weekStartsOn??((y=(C=r.locale)==null?void 0:C.options)==null?void 0:y.weekStartsOn)??0,l=Rn(t,n==null?void 0:n.in);if(!qF(l))throw new RangeError("Invalid time value");let c=e.match(UU).map(g=>{const w=g[0];if(w==="p"||w==="P"){const k=AU[w];return k(g,s.formatLong)}return g}).join("").match(FU).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:HU(g)};if(gb[w])return{isToken:!0,value:g};if(w.match($U))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&OU(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&MU(w))&&VU(w,e,String(t));const k=gb[w[0]];return k(l,w,s.localize,d)}).join("")}function HU(t){const e=t.match(BU);return e?e[1].replace(zU,"'"):t}const WU={lessThanXSeconds:{one:"أقل من ثانية واحدة",two:"أقل من ثانتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانتين",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتين",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريباً",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتين",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومين",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريباً",two:"أسبوعين تقريباً",threeToTen:"{{count}} أسابيع تقريباً",other:"{{count}} أسبوع تقريباً"},xWeeks:{one:"أسبوع واحد",two:"أسبوعين",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوع"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريباً",threeToTen:"{{count}} أشهر تقريباً",other:"{{count}} شهر تقريباً"},xMonths:{one:"شهر واحد",two:"شهرين",threeToTen:"{{count}} أشهر",other:"{{count}} شهر"},aboutXYears:{one:"عام واحد تقريباً",two:"عامين تقريباً",threeToTen:"{{count}} أعوام تقريباً",other:"{{count}} عام تقريباً"},xYears:{one:"عام واحد",two:"عامين",threeToTen:"{{count}} أعوام",other:"{{count}} عام"},overXYears:{one:"أكثر من عام",two:"أكثر من عامين",threeToTen:"أكثر من {{count}} أعوام",other:"أكثر من {{count}} عام"},almostXYears:{one:"عام واحد تقريباً",two:"عامين تقريباً",threeToTen:"{{count}} أعوام تقريباً",other:"{{count}} عام تقريباً"}},qU=(t,e,n)=>{let r;const s=WU[t];return typeof s=="string"?r=s:e===1?r=s.one:e===2?r=s.two:e<=10?r=s.threeToTen.replace("{{count}}",String(e)):r=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"في خلال "+r:"منذ "+r:r},GU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QU={full:"{{date}} 'عند' {{time}}",long:"{{date}} 'عند' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YU={date:Yi({formats:GU,defaultWidth:"full"}),time:Yi({formats:KU,defaultWidth:"full"}),dateTime:Yi({formats:QU,defaultWidth:"full"})},XU={lastWeek:"'أخر' eeee 'عند' p",yesterday:"'أمس عند' p",today:"'اليوم عند' p",tomorrow:"'غداً عند' p",nextWeek:"eeee 'عند' p",other:"P"},JU=(t,e,n,r)=>XU[t],ZU={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},e8={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},t8={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["ينا","فبر","مارس","أبريل","مايو","يونـ","يولـ","أغسـ","سبتـ","أكتـ","نوفـ","ديسـ"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},n8={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنـ","ثلا","أربـ","خميـ","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},r8={narrow:{am:"ص",pm:"م",midnight:"ن",noon:"ظ",morning:"صباحاً",afternoon:"بعد الظهر",evening:"مساءاً",night:"ليلاً"},abbreviated:{am:"ص",pm:"م",midnight:"نصف الليل",noon:"ظهر",morning:"صباحاً",afternoon:"بعد الظهر",evening:"مساءاً",night:"ليلاً"},wide:{am:"ص",pm:"م",midnight:"نصف الليل",noon:"ظهر",morning:"صباحاً",afternoon:"بعد الظهر",evening:"مساءاً",night:"ليلاً"}},s8={narrow:{am:"ص",pm:"م",midnight:"ن",noon:"ظ",morning:"في الصباح",afternoon:"بعد الظـهر",evening:"في المساء",night:"في الليل"},abbreviated:{am:"ص",pm:"م",midnight:"نصف الليل",noon:"ظهر",morning:"في الصباح",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل"},wide:{am:"ص",pm:"م",midnight:"نصف الليل",noon:"ظهر",morning:"صباحاً",afternoon:"بعد الظـهر",evening:"في المساء",night:"في الليل"}},i8=t=>String(t),o8={ordinalNumber:i8,era:Vn({values:ZU,defaultWidth:"wide"}),quarter:Vn({values:e8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vn({values:t8,defaultWidth:"wide"}),day:Vn({values:n8,defaultWidth:"wide"}),dayPeriod:Vn({values:r8,defaultWidth:"wide",formattingValues:s8,defaultFormattingWidth:"wide"})},a8=/^(\d+)(th|st|nd|rd)?/i,l8=/\d+/i,c8={narrow:/^(ق|ب)/i,abbreviated:/^(ق\.?\s?م\.?|ق\.?\s?م\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^(قبل الميلاد|قبل الميلاد|بعد الميلاد|بعد الميلاد)/i},u8={any:[/^قبل/i,/^بعد/i]},d8={narrow:/^[1234]/i,abbreviated:/^ر[1234]/i,wide:/^الربع [1234]/i},h8={any:[/1/i,/2/i,/3/i,/4/i]},f8={narrow:/^[يفمأمسند]/i,abbreviated:/^(ين|ف|مار|أب|ماي|يون|يول|أغ|س|أك|ن|د)/i,wide:/^(ين|ف|مار|أب|ماي|يون|يول|أغ|س|أك|ن|د)/i},m8={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^ين/i,/^ف/i,/^مار/i,/^أب/i,/^ماي/i,/^يون/i,/^يول/i,/^أغ/i,/^س/i,/^أك/i,/^ن/i,/^د/i]},p8={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثن|ثلا|أرب|خمي|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},g8={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},y8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v8={ordinalNumber:dj({matchPattern:a8,parsePattern:l8,valueCallback:t=>parseInt(t,10)}),era:Ln({matchPatterns:c8,defaultMatchWidth:"wide",parsePatterns:u8,defaultParseWidth:"any"}),quarter:Ln({matchPatterns:d8,defaultMatchWidth:"wide",parsePatterns:h8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ln({matchPatterns:f8,defaultMatchWidth:"wide",parsePatterns:m8,defaultParseWidth:"any"}),day:Ln({matchPatterns:p8,defaultMatchWidth:"wide",parsePatterns:g8,defaultParseWidth:"any"}),dayPeriod:Ln({matchPatterns:y8,defaultMatchWidth:"any",parsePatterns:x8,defaultParseWidth:"any"})},nt={code:"ar-SA",formatDistance:qU,formatLong:YU,formatRelative:JU,localize:o8,match:v8,options:{weekStartsOn:0,firstWeekContainsDate:1}},w8=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(!1),[s,i]=D.useState(null),[a,l]=D.useState(!0),[c,d]=D.useState({title:"",description:"",date:"",time:"",duration:60,instructor:"",maxParticipants:30,imageUrl:"",isActive:!0});D.useEffect(()=>{const b=Tt(Ie(ne,"workshops"),Qn("date","desc")),N=Nt(b,C=>{const y=[];C.forEach(g=>{var k;const w=g.data();y.push({id:g.id,...w,createdAt:(k=w.createdAt)==null?void 0:k.toDate()})}),e(y),l(!1)});return()=>N()},[]);const h=async b=>{b.preventDefault();try{const N={title:c.title,description:c.description,date:c.date,time:c.time,duration:c.duration,instructor:c.instructor,maxParticipants:c.maxParticipants,currentParticipants:(s==null?void 0:s.currentParticipants)||0,imageUrl:c.imageUrl,isActive:c.isActive,createdAt:(s==null?void 0:s.createdAt)||new Date};s?await gs(ht(ne,"workshops",s.id),N):await xs(Ie(ne,"workshops"),{...N,createdAt:new Date}),x()}catch(N){console.error("Error saving workshop:",N)}},f=b=>{i(b),d({title:b.title,description:b.description,date:b.date,time:b.time,duration:b.duration,instructor:b.instructor,maxParticipants:b.maxParticipants,imageUrl:b.imageUrl,isActive:b.isActive}),r(!0)},m=async b=>{if(window.confirm("هل أنت متأكد من حذف هذه الورشة؟"))try{await ys(ht(ne,"workshops",b))}catch(N){console.error("Error deleting workshop:",N)}},x=()=>{d({title:"",description:"",date:"",time:"",duration:60,instructor:"",maxParticipants:30,imageUrl:"",isActive:!0}),i(null),r(!1)};return a?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc]"})}):o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"إدارة الورش"}),o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!0),className:"bg-[#22b0fc] hover:bg-[#1a9de8] text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Km,{size:18}),"إضافة ورشة جديدة"]})]}),n&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>x(),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s?"تعديل الورشة":"إضافة ورشة جديدة"}),o.jsx("button",{onClick:x,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:o.jsx(Kn,{size:20})})]}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"عنوان الورشة"}),o.jsx("input",{type:"text",required:!0,value:c.title,onChange:b=>d(N=>({...N,title:b.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"عنوان الورشة"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"وصف الورشة"}),o.jsx("textarea",{required:!0,rows:3,value:c.description,onChange:b=>d(N=>({...N,description:b.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent resize-none",placeholder:"وصف مختصر عن الورشة..."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"تاريخ الورشة"}),o.jsx("input",{type:"date",required:!0,value:c.date,onChange:b=>d(N=>({...N,date:b.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"وقت الورشة"}),o.jsx("input",{type:"time",required:!0,value:c.time,onChange:b=>d(N=>({...N,time:b.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"مدة الورشة (بالدقائق)"}),o.jsx("input",{type:"number",required:!0,min:"30",max:"480",value:c.duration,onChange:b=>d(N=>({...N,duration:parseInt(b.target.value)})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"عدد المشاركين الأقصى"}),o.jsx("input",{type:"number",required:!0,min:"5",max:"100",value:c.maxParticipants,onChange:b=>d(N=>({...N,maxParticipants:parseInt(b.target.value)})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"اسم المدرب"}),o.jsx("input",{type:"text",required:!0,value:c.instructor,onChange:b=>d(N=>({...N,instructor:b.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"اسم المدرب"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"رابط صورة الورشة"}),o.jsx("input",{type:"url",required:!0,value:c.imageUrl,onChange:b=>d(N=>({...N,imageUrl:b.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:b=>d(N=>({...N,isActive:b.target.checked})),className:"w-4 h-4 text-[#22b0fc] border-gray-300 rounded focus:ring-[#22b0fc]"}),o.jsx("label",{htmlFor:"isActive",className:"mr-2 text-gray-700",children:"الورشة نشطة ومتاحة للتسجيل"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(A.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-[#22b0fc] hover:bg-[#1a9de8] text-white py-3 rounded-lg font-medium flex items-center justify-center gap-2",children:[o.jsx(ij,{size:18}),s?"تحديث الورشة":"إضافة الورشة"]}),o.jsx(A.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-lg font-medium",children:"إلغاء"})]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((b,N)=>o.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"relative h-48",children:[o.jsx("img",{src:b.imageUrl,alt:b.title,className:"w-full h-full object-cover",onError:C=>{C.currentTarget.src="https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${b.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.isActive?"نشط":"غير نشط"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:b.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:b.description}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(In,{size:16,className:"ml-2"}),new Date(b.date).toLocaleDateString("ar-SA")]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(m0,{size:16,className:"ml-2"}),b.time," - ",b.duration," دقيقة"]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx($e,{size:16,className:"ml-2"}),b.currentParticipants,"/",b.maxParticipants," مشارك"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(b),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[o.jsx(p0,{size:14}),"تعديل"]}),o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(b.id),className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[o.jsx(Dt,{size:14}),"حذف"]})]})]})]},b.id))}),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(In,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"لا توجد ورش مضافة"}),o.jsx("p",{className:"text-gray-500",children:"ابدأ بإضافة ورشة جديدة لعرضها للطلاب"})]})]})},b8=({isAdmin:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState(null),[i,a]=D.useState(!0),[l,c]=D.useState(""),[d,h]=D.useState("all");D.useEffect(()=>{if(!t)return;const y=Tt(Ie(ne,"workshopApplications"),Qn("applicationDate","desc")),g=Nt(y,w=>{const k=[];w.forEach(M=>{var _;const O=M.data();k.push({id:M.id,...O,applicationDate:(_=O.applicationDate)==null?void 0:_.toDate()})}),n(k),a(!1)});return()=>g()},[t]);const f=e.filter(y=>{var k;const g=d==="all"||y.workshopTitle===d,w=!l||y.fullName.toLowerCase().includes(l.toLowerCase())||y.phone.includes(l)||((k=y.email)==null?void 0:k.toLowerCase().includes(l.toLowerCase()));return g&&w}),m=async(y,g)=>{try{await gs(ht(ne,"workshopApplications",y),{status:g})}catch(w){console.error("Error updating status:",w)}},x=async y=>{if(window.confirm("هل أنت متأكد من حذف هذا الطلب؟"))try{await ys(ht(ne,"workshopApplications",y))}catch(g){console.error("Error deleting application:",g)}},b=()=>{const y=["الاسم الكامل","العمر","الهاتف","البريد الإلكتروني","الورشة","الحالة","تاريخ التقديم"].join(","),g=f.map(_=>[`"${_.fullName}"`,`"${_.age}"`,`"${_.phone}"`,`"${_.email||""}"`,`"${_.workshopTitle}"`,_.status==="pending"?"قيد المراجعة":_.status==="approved"?"مقبول":"مرفوض",`"${ke(_.applicationDate,"yyyy-MM-dd HH:mm",{locale:nt})}"`].join(",")),w=[y,...g].join(`
`),k=new Blob(["\uFEFF"+w],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(k),O=document.createElement("a");O.href=M,O.setAttribute("download",`تسجيلات_الورش_${ke(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(O),O.click(),document.body.removeChild(O)},N=[...new Set(e.map(y=>y.workshopTitle))],C={total:e.length,pending:e.filter(y=>y.status==="pending").length,approved:e.filter(y=>y.status==="approved").length,rejected:e.filter(y=>y.status==="rejected").length};return i?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center text-gray-800",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc] mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"جاري تحميل تسجيلات الورش..."})]})}):t?o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"تسجيلات الورش"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة ومتابعة تسجيلات الورش المجانية"})]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:b,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm",children:[o.jsx(ti,{size:18}),"تصدير البيانات"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"إجمالي التسجيلات",value:C.total,icon:In,color:"bg-[#22b0fc]"},{title:"قيد المراجعة",value:C.pending,icon:jo,color:"bg-yellow-500"},{title:"مقبولة",value:C.approved,icon:et,color:"bg-green-500"},{title:"مرفوضة",value:C.rejected,icon:tt,color:"bg-red-500"}].map((y,g)=>o.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`${y.color} text-white rounded-xl p-4 shadow-md`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-90",children:y.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:y.value})]}),o.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:o.jsx(y.icon,{className:"w-5 h-5"})})]})},y.title))}),o.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"ابحث بالاسم أو الهاتف أو البريد...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",value:l,onChange:y=>c(y.target.value)}),o.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),o.jsx("div",{className:"md:w-64",children:o.jsxs("select",{value:d,onChange:y=>h(y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",children:[o.jsx("option",{value:"all",children:"جميع الورش"}),N.map(y=>o.jsx("option",{value:y,children:y},y))]})})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الاسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"العمر"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الهاتف"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الورشة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الحالة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"التاريخ"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الإجراءات"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:f.length>0?f.map((y,g)=>o.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:g*.05},className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800 font-medium",children:y.fullName}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:y.age}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",dir:"ltr",children:y.phone}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:y.workshopTitle}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${y.status==="pending"?"bg-yellow-100 text-yellow-800":y.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.status==="pending"?"قيد المراجعة":y.status==="approved"?"مقبول":"مرفوض"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:ke(y.applicationDate,"yyyy/MM/dd",{locale:nt})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(y),className:"p-1.5 text-[#22b0fc] hover:bg-blue-50 rounded-lg transition-colors",title:"عرض التفاصيل",children:o.jsx(fi,{size:18})}),y.status!=="approved"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(y.id,"approved"),className:"p-1.5 text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"قبول الطلب",children:o.jsx(et,{size:18})}),y.status!=="rejected"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(y.id,"rejected"),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"رفض الطلب",children:o.jsx(tt,{size:18})}),o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(y.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"حذف الطلب",children:o.jsx(Dt,{size:18})})]})})]},y.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:[o.jsx(In,{className:"w-10 h-10 mx-auto mb-2 opacity-40"}),o.jsx("p",{className:"text-sm",children:"لا توجد تسجيلات متطابقة مع معايير البحث"})]})})})]})})}),r&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>s(null),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-xl",onClick:y=>y.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تفاصيل تسجيل الورشة"}),o.jsx("button",{onClick:()=>s(null),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"إغلاق",children:"×"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الاسم الكامل"}),o.jsx("p",{className:"font-medium",children:r.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"العمر"}),o.jsxs("p",{className:"font-medium",children:[r.age," سنة"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),o.jsx("p",{className:"font-medium",dir:"ltr",children:r.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),o.jsx("p",{className:"font-medium",children:r.email||"غير متوفر"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الولاية"}),o.jsx("p",{className:"font-medium",children:r.wilaya})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"المستوى التعليمي"}),o.jsx("p",{className:"font-medium",children:r.education})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"معلومات الورشة"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"اسم الورشة"}),o.jsx("p",{className:"font-medium",children:r.workshopTitle})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ التسجيل"}),o.jsx("p",{className:"font-medium",children:ke(r.applicationDate,"yyyy/MM/dd HH:mm",{locale:nt})})]})]})]}),(r.experience||r.expectations)&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"معلومات إضافية"}),o.jsxs("div",{className:"space-y-4",children:[r.experience&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"الخبرة السابقة"}),o.jsx("p",{className:"text-gray-800",children:r.experience})]}),r.expectations&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"التوقعات من الورشة"}),o.jsx("p",{className:"text-gray-800",children:r.expectations})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-end pt-4 border-t",children:[o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(r.id,"approved"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="approved"?"bg-green-100 text-green-800":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:r.status==="approved",children:[o.jsx(et,{size:18}),r.status==="approved"?"تم القبول":"قبول الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(r.id,"rejected"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="rejected"?"bg-red-100 text-red-800":"bg-red-500 hover:bg-red-600 text-white"}`,disabled:r.status==="rejected",children:[o.jsx(tt,{size:18}),r.status==="rejected"?"تم الرفض":"رفض الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x(r.id),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Dt,{size:18}),"حذف الطلب"]})]})]})]})})]}):o.jsx("div",{className:"p-8 text-center text-gray-500",children:"ليس لديك صلاحية الوصول إلى تسجيلات الورش."})},_8=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(!1),[s,i]=D.useState(null),[a,l]=D.useState(!0),[c,d]=D.useState({name:"",arabicName:"",description:"",imageUrl:"",isActive:!0,departments:[]}),[h,f]=D.useState({name:"",arabicName:"",description:""});D.useEffect(()=>{const g=Tt(Ie(ne,"clubs"),Qn("createdAt","desc")),w=Nt(g,k=>{const M=[];k.forEach(O=>{var T;const _=O.data();M.push({id:O.id,..._,createdAt:(T=_.createdAt)==null?void 0:T.toDate()})}),e(M),l(!1)});return()=>w()},[]);const m=async g=>{g.preventDefault();try{const w={name:c.name,arabicName:c.arabicName,description:c.description,imageUrl:c.imageUrl,departments:c.departments,isActive:c.isActive,createdAt:(s==null?void 0:s.createdAt)||new Date};s?await gs(ht(ne,"clubs",s.id),w):await xs(Ie(ne,"clubs"),{...w,createdAt:new Date}),y()}catch(w){console.error("Error saving club:",w)}},x=g=>{i(g),d({name:g.name,arabicName:g.arabicName,description:g.description,imageUrl:g.imageUrl,isActive:g.isActive,departments:g.departments||[]}),r(!0)},b=async g=>{if(window.confirm("هل أنت متأكد من حذف هذا النادي؟"))try{await ys(ht(ne,"clubs",g))}catch(w){console.error("Error deleting club:",w)}},N=()=>{if(h.name&&h.arabicName){const g={id:Date.now().toString(),name:h.name,arabicName:h.arabicName,description:h.description};d(w=>({...w,departments:[...w.departments,g]})),f({name:"",arabicName:"",description:""})}},C=g=>{d(w=>({...w,departments:w.departments.filter(k=>k.id!==g)}))},y=()=>{d({name:"",arabicName:"",description:"",imageUrl:"",isActive:!0,departments:[]}),f({name:"",arabicName:"",description:""}),i(null),r(!1)};return a?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc]"})}):o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"إدارة النوادي"}),o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!0),className:"bg-[#22b0fc] hover:bg-[#1a9de8] text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Km,{size:18}),"إضافة نادي جديد"]})]}),n&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>y(),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:g=>g.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s?"تعديل النادي":"إضافة نادي جديد"}),o.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:o.jsx(Kn,{size:20})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"اسم النادي (بالإنجليزية)"}),o.jsx("input",{type:"text",required:!0,value:c.name,onChange:g=>d(w=>({...w,name:g.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"Club Name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"اسم النادي (بالعربية)"}),o.jsx("input",{type:"text",required:!0,value:c.arabicName,onChange:g=>d(w=>({...w,arabicName:g.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"اسم النادي"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"وصف النادي"}),o.jsx("textarea",{required:!0,rows:3,value:c.description,onChange:g=>d(w=>({...w,description:g.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent resize-none",placeholder:"وصف مختصر عن النادي..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"رابط صورة النادي"}),o.jsx("input",{type:"url",required:!0,value:c.imageUrl,onChange:g=>d(w=>({...w,imageUrl:g.target.value})),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"أقسام النادي"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[o.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"إضافة قسم جديد"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-3 mb-3",children:[o.jsx("input",{type:"text",value:h.name,onChange:g=>f(w=>({...w,name:g.target.value})),className:"px-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"اسم القسم (English)"}),o.jsx("input",{type:"text",value:h.arabicName,onChange:g=>f(w=>({...w,arabicName:g.target.value})),className:"px-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"اسم القسم (العربية)"}),o.jsx("input",{type:"text",value:h.description,onChange:g=>f(w=>({...w,description:g.target.value})),className:"px-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#22b0fc] focus:border-transparent",placeholder:"وصف القسم"})]}),o.jsxs("button",{type:"button",onClick:N,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2",children:[o.jsx(Km,{size:16}),"إضافة القسم"]})]}),c.departments.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"font-medium text-gray-700",children:"الأقسام المضافة:"}),c.departments.map(g=>o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:g.arabicName}),o.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",g.name,")"]}),g.description&&o.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),o.jsx("button",{type:"button",onClick:()=>C(g.id),className:"text-red-500 hover:text-red-700 p-1",children:o.jsx(Dt,{size:16})})]},g.id))]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:g=>d(w=>({...w,isActive:g.target.checked})),className:"w-4 h-4 text-[#22b0fc] border-gray-300 rounded focus:ring-[#22b0fc]"}),o.jsx("label",{htmlFor:"isActive",className:"mr-2 text-gray-700",children:"النادي نشط ومتاح للانضمام"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(A.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-[#22b0fc] hover:bg-[#1a9de8] text-white py-3 rounded-lg font-medium flex items-center justify-center gap-2",children:[o.jsx(ij,{size:18}),s?"تحديث النادي":"إضافة النادي"]}),o.jsx(A.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-lg font-medium",children:"إلغاء"})]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((g,w)=>{var k;return o.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"relative h-48",children:[o.jsx("img",{src:g.imageUrl,alt:g.arabicName,className:"w-full h-full object-cover",onError:M=>{M.currentTarget.src="https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${g.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.isActive?"نشط":"غير نشط"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:g.arabicName}),o.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:g.description}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx($e,{size:16,className:"ml-2"}),((k=g.departments)==null?void 0:k.length)||0," أقسام"]}),g.departments&&g.departments.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.departments.slice(0,3).map(M=>o.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:M.arabicName},M.id)),g.departments.length>3&&o.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",g.departments.length-3]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(g),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[o.jsx(p0,{size:14}),"تعديل"]}),o.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(g.id),className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[o.jsx(Dt,{size:14}),"حذف"]})]})]})]},g.id)})}),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx($e,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"لا توجد نوادي مضافة"}),o.jsx("p",{className:"text-gray-500",children:"ابدأ بإضافة نادي جديد لعرضه للطلاب"})]})]})},T8=({isAdmin:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState([]),[i,a]=D.useState("all"),[l,c]=D.useState(null),[d,h]=D.useState(!0),[f,m]=D.useState("");D.useEffect(()=>{if(!t)return;const g=Tt(Ie(ne,"clubApplications")),w=Nt(g,O=>{const _=[];O.forEach(T=>{var S;const E=T.data();_.push({id:T.id,...E,applicationDate:(S=E.applicationDate)==null?void 0:S.toDate()})}),_.sort((T,E)=>{const S=T.applicationDate||new Date(0);return(E.applicationDate||new Date(0)).getTime()-S.getTime()}),n(_),h(!1)}),k=Tt(Ie(ne,"clubs"),Qn("arabicName","asc")),M=Nt(k,O=>{const _=[];O.forEach(T=>{var S;const E=T.data();_.push({id:T.id,...E,createdAt:(S=E.createdAt)==null?void 0:S.toDate()})}),s(_)});return()=>{w(),M()}},[t]);const x=e.filter(g=>{var M;const w=i==="all"||g.clubId===i,k=!f||g.fullName.toLowerCase().includes(f.toLowerCase())||g.phone.includes(f)||((M=g.email)==null?void 0:M.toLowerCase().includes(f.toLowerCase()));return w&&k}),b=async(g,w)=>{try{await gs(ht(ne,"clubApplications",g),{status:w})}catch(k){console.error("Error updating status:",k)}},N=async g=>{if(window.confirm("هل أنت متأكد من حذف هذا الطلب؟"))try{await ys(ht(ne,"clubApplications",g))}catch(w){console.error("Error deleting application:",w)}},C=()=>{const g=["الاسم الكامل","العمر","الهاتف","البريد الإلكتروني","النادي","القسم","مستوى اللغة","الحالة","تاريخ التقديم"].join(","),w=x.map(T=>[`"${T.fullName}"`,`"${T.age}"`,`"${T.phone}"`,`"${T.email||""}"`,`"${T.clubName}"`,`"${T.departmentName}"`,`"${T.languageLevel}"`,T.status==="pending"?"قيد المراجعة":T.status==="approved"?"مقبول":"مرفوض",`"${ke(T.applicationDate,"yyyy-MM-dd HH:mm",{locale:nt})}"`].join(",")),k=[g,...w].join(`
`),M=new Blob(["\uFEFF"+k],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(M),_=document.createElement("a");_.href=O,_.setAttribute("download",`طلبات_النوادي_${ke(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)},y={total:e.length,pending:e.filter(g=>g.status==="pending").length,approved:e.filter(g=>g.status==="approved").length,rejected:e.filter(g=>g.status==="rejected").length};return d?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center text-gray-800",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc] mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"جاري تحميل طلبات النوادي..."})]})}):t?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"طلبات الانضمام للنوادي"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة ومتابعة طلبات الانضمام للنوادي"})]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm",children:[o.jsx(ti,{size:18}),"تصدير البيانات"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"إجمالي الطلبات",value:y.total,icon:$e,color:"bg-[#22b0fc]"},{title:"قيد المراجعة",value:y.pending,icon:jo,color:"bg-yellow-500"},{title:"مقبولة",value:y.approved,icon:et,color:"bg-green-500"},{title:"مرفوضة",value:y.rejected,icon:tt,color:"bg-red-500"}].map((g,w)=>o.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:`${g.color} text-white rounded-xl p-4 shadow-md`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-90",children:g.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:g.value})]}),o.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:o.jsx(g.icon,{className:"w-5 h-5"})})]})},g.title))}),o.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"ابحث بالاسم أو الهاتف أو البريد...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",value:f,onChange:g=>m(g.target.value)}),o.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),o.jsx("div",{className:"md:w-64",children:o.jsxs("select",{value:i,onChange:g=>a(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",children:[o.jsx("option",{value:"all",children:"جميع النوادي"}),r.map(g=>o.jsx("option",{value:g.id,children:g.arabicName},g.id))]})})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الاسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"العمر"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الهاتف"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"النادي"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"القسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الحالة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"التاريخ"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الإجراءات"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:x.length>0?x.map((g,w)=>o.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:w*.05},className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800 font-medium",children:g.fullName}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:g.age}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",dir:"ltr",children:g.phone}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:g.clubName}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:g.departmentName}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${g.status==="pending"?"bg-yellow-100 text-yellow-800":g.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.status==="pending"?"قيد المراجعة":g.status==="approved"?"مقبول":"مرفوض"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:ke(g.applicationDate,"yyyy/MM/dd",{locale:nt})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c(g),className:"p-1.5 text-[#22b0fc] hover:bg-blue-50 rounded-lg transition-colors",title:"عرض التفاصيل",children:o.jsx(fi,{size:18})}),g.status!=="approved"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>b(g.id,"approved"),className:"p-1.5 text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"قبول الطلب",children:o.jsx(et,{size:18})}),g.status!=="rejected"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>b(g.id,"rejected"),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"رفض الطلب",children:o.jsx(tt,{size:18})}),o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>N(g.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"حذف الطلب",children:o.jsx(Dt,{size:18})})]})})]},g.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:[o.jsx($e,{className:"w-10 h-10 mx-auto mb-2 opacity-40"}),o.jsx("p",{className:"text-sm",children:"لا توجد طلبات متطابقة مع معايير البحث"})]})})})]})})}),l&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>c(null),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",onClick:g=>g.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تفاصيل طلب الانضمام للنادي"}),o.jsx("button",{onClick:()=>c(null),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"إغلاق",children:"×"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الاسم الكامل"}),o.jsx("p",{className:"font-medium",children:l.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"العمر"}),o.jsxs("p",{className:"font-medium",children:[l.age," سنة"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),o.jsx("p",{className:"font-medium",dir:"ltr",children:l.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),o.jsx("p",{className:"font-medium",children:l.email||"غير متوفر"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ الميلاد"}),o.jsx("p",{className:"font-medium",children:l.dateOfBirth})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"مكان الميلاد"}),o.jsx("p",{className:"font-medium",children:l.placeOfBirth})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"العنوان"}),o.jsx("p",{className:"font-medium",children:l.address})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"مستوى اللغة"}),o.jsx("p",{className:"font-medium",children:l.languageLevel})]}),l.healthProblems&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"المشاكل الصحية"}),o.jsx("p",{className:"font-medium",children:l.healthProblems})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"معلومات النادي"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"اسم النادي"}),o.jsx("p",{className:"font-medium",children:l.clubName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"القسم"}),o.jsx("p",{className:"font-medium",children:l.departmentName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"حالة الطلب"}),o.jsx("p",{className:"font-medium",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${l.status==="pending"?"bg-yellow-100 text-yellow-800":l.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.status==="pending"?"قيد المراجعة":l.status==="approved"?"مقبول":"مرفوض"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ التقديم"}),o.jsx("p",{className:"font-medium",children:ke(l.applicationDate,"yyyy/MM/dd HH:mm",{locale:nt})})]})]})]}),l.skills&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المهارات"}),o.jsx("p",{className:"text-gray-800",children:l.skills})]}),l.signature&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"التوقيع"}),o.jsx("img",{src:l.signature,alt:"توقيع المتقدم",className:"h-24 object-contain border border-gray-200 rounded-lg bg-white"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-end pt-4 border-t",children:[o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>b(l.id,"approved"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${l.status==="approved"?"bg-green-100 text-green-800":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:l.status==="approved",children:[o.jsx(et,{size:18}),l.status==="approved"?"تم القبول":"قبول الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>b(l.id,"rejected"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${l.status==="rejected"?"bg-red-100 text-red-800":"bg-red-500 hover:bg-red-600 text-white"}`,disabled:l.status==="rejected",children:[o.jsx(tt,{size:18}),l.status==="rejected"?"تم الرفض":"رفض الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(l.id),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Dt,{size:18}),"حذف الطلب"]})]})]})]})})]})}):o.jsx("div",{className:"p-8 text-center text-gray-500",children:"ليس لديك صلاحية الوصول إلى طلبات النوادي."})},N8=()=>{const[t,e]=D.useState([]),[n,r]=D.useState([]),[s,i]=D.useState([]),[a,l]=D.useState([]),[c,d]=D.useState([]),[h,f]=D.useState(!0);D.useEffect(()=>{const y=[],g=Tt(Ie(ne,"applications"));y.push(Nt(g,_=>{const T=[];_.forEach(E=>{var P;const S=E.data();T.push({id:E.id,...S,submissionDate:(P=S.submissionDate)==null?void 0:P.toDate()})}),e(T)}));const w=Tt(Ie(ne,"workshopApplications"));y.push(Nt(w,_=>{const T=[];_.forEach(E=>{var P;const S=E.data();T.push({id:E.id,...S,applicationDate:(P=S.applicationDate)==null?void 0:P.toDate()})}),r(T)}));const k=Tt(Ie(ne,"clubApplications"));y.push(Nt(k,_=>{const T=[];_.forEach(E=>{var P;const S=E.data();T.push({id:E.id,...S,applicationDate:(P=S.applicationDate)==null?void 0:P.toDate()})}),i(T)}));const M=Tt(Ie(ne,"jobApplications"));y.push(Nt(M,_=>{const T=[];_.forEach(E=>{var P;const S=E.data();T.push({id:E.id,...S,applicationDate:(P=S.applicationDate)==null?void 0:P.toDate()})}),l(T)}));const O=Tt(Ie(ne,"internApplications"));return y.push(Nt(O,_=>{const T=[];_.forEach(E=>{var P;const S=E.data();T.push({id:E.id,...S,applicationDate:(P=S.applicationDate)==null?void 0:P.toDate()})}),d(T),f(!1)})),()=>{y.forEach(_=>_())}},[]);const m=y=>{const g=new Date;return y.filter(w=>{const k=w.submissionDate||w.applicationDate;return k?k.getMonth()===g.getMonth()&&k.getFullYear()===g.getFullYear():!1}).length},x=(y,g)=>y.filter(w=>w.status===g).length,N=[{title:"إجمالي الطلبات",value:t.length+n.length+s.length+a.length+c.length,icon:$e,color:"bg-[#22b0fc]",change:"+12%"},{title:"طلبات الدورات",value:t.length,icon:Vt,color:"bg-blue-500",change:"+8%"},{title:"طلبات الورش",value:n.length,icon:In,color:"bg-yellow-500",change:"+15%"},{title:"طلبات النوادي",value:s.length,icon:rj,color:"bg-purple-500",change:"+5%"},{title:"طلبات التوظيف",value:a.length,icon:go,color:"bg-green-500",change:"+20%"},{title:"طلبات التدريب",value:c.length,icon:$e,color:"bg-indigo-500",change:"+10%"}],C=[{title:"طلبات الدورات هذا الشهر",value:m(t),total:t.length},{title:"طلبات الورش هذا الشهر",value:m(n),total:n.length},{title:"طلبات النوادي هذا الشهر",value:m(s),total:s.length},{title:"طلبات التوظيف هذا الشهر",value:m(a),total:a.length}];return h?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center text-gray-800",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc] mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"جاري تحميل الإحصائيات..."})]})}):o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"الإحصائيات العامة"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"نظرة شاملة على جميع الطلبات والتسجيلات"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((y,g)=>o.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`${y.color} text-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow`,children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium opacity-90 mb-1",children:y.title}),o.jsx("p",{className:"text-3xl font-bold mb-2",children:y.value}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(aj,{className:"w-4 h-4 ml-1"}),o.jsxs("span",{className:"opacity-90",children:[y.change," من الشهر الماضي"]})]})]}),o.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:o.jsx(y.icon,{className:"w-6 h-6"})})]})},y.title))}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(sj,{className:"w-6 h-6 text-[#22b0fc] ml-3"}),o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"إحصائيات الشهر الحالي"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map((y,g)=>o.jsxs(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:g*.1},className:"bg-gray-50 rounded-xl p-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:y.title}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-800",children:y.value}),o.jsxs("span",{className:"text-sm text-gray-500",children:["من ",y.total]})]}),o.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-[#22b0fc] h-2 rounded-full transition-all duration-500",style:{width:`${y.total>0?y.value/y.total*100:0}%`}})})]},y.title))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ab,{className:"w-5 h-5 text-blue-500 ml-2"}),o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"حالة طلبات الدورات"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"قيد المراجعة"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"font-semibold",children:x(t,"pending")})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"مقبولة"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{className:"font-semibold",children:x(t,"approved")})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"مرفوضة"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsx("span",{className:"font-semibold",children:x(t,"rejected")})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ab,{className:"w-5 h-5 text-yellow-500 ml-2"}),o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"حالة طلبات الورش"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"قيد المراجعة"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"font-semibold",children:x(n,"pending")})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"مقبولة"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{className:"font-semibold",children:x(n,"approved")})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"مرفوضة"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsx("span",{className:"font-semibold",children:x(n,"rejected")})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"ملخص النشاط الأخير"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:t.filter(y=>{const g=y.submissionDate;return g&&new Date().getTime()-g.getTime()<24*60*60*1e3}).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"طلبات دورات اليوم"})]}),o.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:n.filter(y=>{const g=y.applicationDate;return g&&new Date().getTime()-g.getTime()<24*60*60*1e3}).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"تسجيلات ورش اليوم"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:s.filter(y=>{const g=y.applicationDate;return g&&new Date().getTime()-g.getTime()<24*60*60*1e3}).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"طلبات نوادي اليوم"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:a.filter(y=>{const g=y.applicationDate;return g&&new Date().getTime()-g.getTime()<24*60*60*1e3}).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"طلبات توظيف اليوم"})]})]})]})]})},E8=({isAdmin:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState(null),[i,a]=D.useState(!0),[l,c]=D.useState(""),[d,h]=D.useState("all");D.useEffect(()=>{if(!t)return;const y=Tt(Ie(ne,"jobApplications"),Qn("applicationDate","desc")),g=Nt(y,w=>{const k=[];w.forEach(M=>{var _;const O=M.data();k.push({id:M.id,...O,applicationDate:(_=O.applicationDate)==null?void 0:_.toDate()})}),n(k),a(!1)});return()=>g()},[t]);const f=e.filter(y=>{const g=d==="all"||y.position===d,w=!l||y.fullName.toLowerCase().includes(l.toLowerCase())||y.phone.includes(l)||y.email.toLowerCase().includes(l.toLowerCase())||y.position.toLowerCase().includes(l.toLowerCase());return g&&w}),m=async(y,g)=>{try{await gs(ht(ne,"jobApplications",y),{status:g})}catch(w){console.error("Error updating status:",w)}},x=async y=>{if(window.confirm("هل أنت متأكد من حذف هذا الطلب؟"))try{await ys(ht(ne,"jobApplications",y))}catch(g){console.error("Error deleting application:",g)}},b=()=>{const y=["الاسم الكامل","العمر","الهاتف","البريد الإلكتروني","المنصب","الحالة","تاريخ التقديم"].join(","),g=f.map(_=>[`"${_.fullName}"`,`"${_.age}"`,`"${_.phone}"`,`"${_.email}"`,`"${_.position}"`,_.status==="pending"?"قيد المراجعة":_.status==="approved"?"مقبول":"مرفوض",`"${ke(_.applicationDate,"yyyy-MM-dd HH:mm",{locale:nt})}"`].join(",")),w=[y,...g].join(`
`),k=new Blob(["\uFEFF"+w],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(k),O=document.createElement("a");O.href=M,O.setAttribute("download",`طلبات_التوظيف_${ke(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(O),O.click(),document.body.removeChild(O)},N=[...new Set(e.map(y=>y.position))],C={total:e.length,pending:e.filter(y=>y.status==="pending").length,approved:e.filter(y=>y.status==="approved").length,rejected:e.filter(y=>y.status==="rejected").length};return i?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center text-gray-800",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc] mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"جاري تحميل طلبات التوظيف..."})]})}):t?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"طلبات التوظيف"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة ومتابعة طلبات التوظيف"})]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:b,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm",children:[o.jsx(ti,{size:18}),"تصدير البيانات"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"إجمالي الطلبات",value:C.total,icon:go,color:"bg-[#22b0fc]"},{title:"قيد المراجعة",value:C.pending,icon:jo,color:"bg-yellow-500"},{title:"مقبولة",value:C.approved,icon:et,color:"bg-green-500"},{title:"مرفوضة",value:C.rejected,icon:tt,color:"bg-red-500"}].map((y,g)=>o.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`${y.color} text-white rounded-xl p-4 shadow-md`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-90",children:y.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:y.value})]}),o.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:o.jsx(y.icon,{className:"w-5 h-5"})})]})},y.title))}),o.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"ابحث بالاسم أو الهاتف أو البريد أو المنصب...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",value:l,onChange:y=>c(y.target.value)}),o.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),o.jsx("div",{className:"md:w-64",children:o.jsxs("select",{value:d,onChange:y=>h(y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",children:[o.jsx("option",{value:"all",children:"جميع المناصب"}),N.map(y=>o.jsx("option",{value:y,children:y},y))]})})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الاسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"العمر"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الهاتف"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"المنصب"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الحالة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"التاريخ"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الإجراءات"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:f.length>0?f.map((y,g)=>o.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:g*.05},className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800 font-medium",children:y.fullName}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:y.age}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",dir:"ltr",children:y.phone}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:y.position}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${y.status==="pending"?"bg-yellow-100 text-yellow-800":y.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.status==="pending"?"قيد المراجعة":y.status==="approved"?"مقبول":"مرفوض"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:ke(y.applicationDate,"yyyy/MM/dd",{locale:nt})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(y),className:"p-1.5 text-[#22b0fc] hover:bg-blue-50 rounded-lg transition-colors",title:"عرض التفاصيل",children:o.jsx(fi,{size:18})}),y.status!=="approved"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(y.id,"approved"),className:"p-1.5 text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"قبول الطلب",children:o.jsx(et,{size:18})}),y.status!=="rejected"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(y.id,"rejected"),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"رفض الطلب",children:o.jsx(tt,{size:18})}),o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(y.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"حذف الطلب",children:o.jsx(Dt,{size:18})})]})})]},y.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:[o.jsx(go,{className:"w-10 h-10 mx-auto mb-2 opacity-40"}),o.jsx("p",{className:"text-sm",children:"لا توجد طلبات متطابقة مع معايير البحث"})]})})})]})})}),r&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>s(null),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",onClick:y=>y.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تفاصيل طلب التوظيف"}),o.jsx("button",{onClick:()=>s(null),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"إغلاق",children:"×"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الاسم الكامل"}),o.jsx("p",{className:"font-medium",children:r.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"العمر"}),o.jsxs("p",{className:"font-medium",children:[r.age," سنة"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),o.jsx("p",{className:"font-medium",dir:"ltr",children:r.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),o.jsx("p",{className:"font-medium",children:r.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الولاية"}),o.jsx("p",{className:"font-medium",children:r.wilaya})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"المستوى التعليمي"}),o.jsx("p",{className:"font-medium",children:r.education})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"معلومات الوظيفة"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"المنصب المطلوب"}),o.jsx("p",{className:"font-medium",children:r.position})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"حالة الطلب"}),o.jsx("p",{className:"font-medium",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${r.status==="pending"?"bg-yellow-100 text-yellow-800":r.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.status==="pending"?"قيد المراجعة":r.status==="approved"?"مقبول":"مرفوض"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ التقديم"}),o.jsx("p",{className:"font-medium",children:ke(r.applicationDate,"yyyy/MM/dd HH:mm",{locale:nt})})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"الخبرة والمهارات"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"الخبرة المهنية"}),o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.experience})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"المهارات"}),o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.skills})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"الدافع للعمل"}),o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.motivation})]}),r.cvUrl&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"السيرة الذاتية"}),o.jsxs("a",{href:r.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[o.jsx(ti,{size:18,className:"ml-2"}),"تحميل السيرة الذاتية"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-end pt-4 border-t",children:[o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(r.id,"approved"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="approved"?"bg-green-100 text-green-800":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:r.status==="approved",children:[o.jsx(et,{size:18}),r.status==="approved"?"تم القبول":"قبول الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(r.id,"rejected"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="rejected"?"bg-red-100 text-red-800":"bg-red-500 hover:bg-red-600 text-white"}`,disabled:r.status==="rejected",children:[o.jsx(tt,{size:18}),r.status==="rejected"?"تم الرفض":"رفض الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x(r.id),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Dt,{size:18}),"حذف الطلب"]})]})]})]})})]})}):o.jsx("div",{className:"p-8 text-center text-gray-500",children:"ليس لديك صلاحية الوصول إلى طلبات التوظيف."})},j8=({isAdmin:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState(null),[i,a]=D.useState(!0),[l,c]=D.useState(""),[d,h]=D.useState("all");D.useEffect(()=>{if(!t)return;const y=Tt(Ie(ne,"internApplications"),Qn("applicationDate","desc")),g=Nt(y,w=>{const k=[];w.forEach(M=>{var _;const O=M.data();k.push({id:M.id,...O,applicationDate:(_=O.applicationDate)==null?void 0:_.toDate()})}),n(k),a(!1)});return()=>g()},[t]);const f=e.filter(y=>{const g=d==="all"||y.department===d,w=!l||y.fullName.toLowerCase().includes(l.toLowerCase())||y.phone.includes(l)||y.email.toLowerCase().includes(l.toLowerCase())||y.major.toLowerCase().includes(l.toLowerCase());return g&&w}),m=async(y,g)=>{try{await gs(ht(ne,"internApplications",y),{status:g})}catch(w){console.error("Error updating status:",w)}},x=async y=>{if(window.confirm("هل أنت متأكد من حذف هذا الطلب؟"))try{await ys(ht(ne,"internApplications",y))}catch(g){console.error("Error deleting application:",g)}},b=()=>{const y=["الاسم الكامل","العمر","الهاتف","البريد الإلكتروني","التخصص","القسم","الحالة","تاريخ التقديم"].join(","),g=f.map(_=>[`"${_.fullName}"`,`"${_.age}"`,`"${_.phone}"`,`"${_.email}"`,`"${_.major}"`,`"${_.department}"`,_.status==="pending"?"قيد المراجعة":_.status==="approved"?"مقبول":"مرفوض",`"${ke(_.applicationDate,"yyyy-MM-dd HH:mm",{locale:nt})}"`].join(",")),w=[y,...g].join(`
`),k=new Blob(["\uFEFF"+w],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(k),O=document.createElement("a");O.href=M,O.setAttribute("download",`طلبات_التدريب_${ke(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(O),O.click(),document.body.removeChild(O)},N=[...new Set(e.map(y=>y.department))],C={total:e.length,pending:e.filter(y=>y.status==="pending").length,approved:e.filter(y=>y.status==="approved").length,rejected:e.filter(y=>y.status==="rejected").length};return i?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center text-gray-800",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc] mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"جاري تحميل طلبات التدريب..."})]})}):t?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"طلبات التدريب"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة ومتابعة طلبات التدريب"})]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:b,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm",children:[o.jsx(ti,{size:18}),"تصدير البيانات"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"إجمالي الطلبات",value:C.total,icon:Vt,color:"bg-[#22b0fc]"},{title:"قيد المراجعة",value:C.pending,icon:jo,color:"bg-yellow-500"},{title:"مقبولة",value:C.approved,icon:et,color:"bg-green-500"},{title:"مرفوضة",value:C.rejected,icon:tt,color:"bg-red-500"}].map((y,g)=>o.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`${y.color} text-white rounded-xl p-4 shadow-md`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-90",children:y.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:y.value})]}),o.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:o.jsx(y.icon,{className:"w-5 h-5"})})]})},y.title))}),o.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"ابحث بالاسم أو الهاتف أو البريد أو التخصص...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",value:l,onChange:y=>c(y.target.value)}),o.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),o.jsx("div",{className:"md:w-64",children:o.jsxs("select",{value:d,onChange:y=>h(y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",children:[o.jsx("option",{value:"all",children:"جميع الأقسام"}),N.map(y=>o.jsx("option",{value:y,children:y},y))]})})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الاسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"العمر"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"التخصص"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"القسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الحالة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"التاريخ"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الإجراءات"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:f.length>0?f.map((y,g)=>o.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:g*.05},className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800 font-medium",children:y.fullName}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:y.age}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:y.major}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:y.department}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${y.status==="pending"?"bg-yellow-100 text-yellow-800":y.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.status==="pending"?"قيد المراجعة":y.status==="approved"?"مقبول":"مرفوض"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:ke(y.applicationDate,"yyyy/MM/dd",{locale:nt})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(y),className:"p-1.5 text-[#22b0fc] hover:bg-blue-50 rounded-lg transition-colors",title:"عرض التفاصيل",children:o.jsx(fi,{size:18})}),y.status!=="approved"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(y.id,"approved"),className:"p-1.5 text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"قبول الطلب",children:o.jsx(et,{size:18})}),y.status!=="rejected"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(y.id,"rejected"),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"رفض الطلب",children:o.jsx(tt,{size:18})}),o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(y.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"حذف الطلب",children:o.jsx(Dt,{size:18})})]})})]},y.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:[o.jsx(Vt,{className:"w-10 h-10 mx-auto mb-2 opacity-40"}),o.jsx("p",{className:"text-sm",children:"لا توجد طلبات متطابقة مع معايير البحث"})]})})})]})})}),r&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>s(null),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",onClick:y=>y.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تفاصيل طلب التدريب"}),o.jsx("button",{onClick:()=>s(null),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"إغلاق",children:"×"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الاسم الكامل"}),o.jsx("p",{className:"font-medium",children:r.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"العمر"}),o.jsxs("p",{className:"font-medium",children:[r.age," سنة"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),o.jsx("p",{className:"font-medium",dir:"ltr",children:r.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),o.jsx("p",{className:"font-medium",children:r.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الولاية"}),o.jsx("p",{className:"font-medium",children:r.wilaya})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المعلومات الأكاديمية"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"التخصص"}),o.jsx("p",{className:"font-medium",children:r.major})]})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"تفاصيل التدريب"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"القسم المطلوب"}),o.jsx("p",{className:"font-medium",children:r.department})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ التقديم"}),o.jsx("p",{className:"font-medium",children:ke(r.applicationDate,"yyyy/MM/dd HH:mm",{locale:nt})})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المهارات والمشاريع"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"المهارات التقنية"}),o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.skills})]}),r.projects&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"المشاريع السابقة"}),o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.projects})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"الدافع للتدريب"}),o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.motivation})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-end pt-4 border-t",children:[o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(r.id,"approved"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="approved"?"bg-green-100 text-green-800":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:r.status==="approved",children:[o.jsx(et,{size:18}),r.status==="approved"?"تم القبول":"قبول الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(r.id,"rejected"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="rejected"?"bg-red-100 text-red-800":"bg-red-500 hover:bg-red-600 text-white"}`,disabled:r.status==="rejected",children:[o.jsx(tt,{size:18}),r.status==="rejected"?"تم الرفض":"رفض الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x(r.id),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Dt,{size:18}),"حذف الطلب"]})]})]})]})})]})}):o.jsx("div",{className:"p-8 text-center text-gray-500",children:"ليس لديك صلاحية الوصول إلى طلبات التدريب."})},S8=({isAdmin:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState(null),[i,a]=D.useState(!0),[l,c]=D.useState("");D.useEffect(()=>{if(!t)return;const b=Tt(Ie(ne,"clubApplications"),e0("clubName","==","The Office"),Qn("applicationDate","desc")),N=Nt(b,C=>{const y=[];C.forEach(g=>{var k,M,O;const w=g.data();y.push({id:g.id,fullName:w.fullName,age:((k=w.age)==null?void 0:k.toString())||"",phone:w.phone,englishLevel:w.englishLevel,email:w.email,preferredSession:w.preferredSession,attendanceConfirmation:w.attendanceConfirmation,status:w.status||"pending",applicationDate:((O=(M=w.applicationDate)==null?void 0:M.toDate)==null?void 0:O.call(M))||new Date})}),n(y),a(!1)});return()=>N()},[t]);const d=e.filter(b=>!l||b.fullName.toLowerCase().includes(l.toLowerCase())||b.phone.includes(l)||b.email&&b.email.toLowerCase().includes(l.toLowerCase())),h=async(b,N)=>{try{await gs(ht(ne,"clubApplications",b),{status:N})}catch(C){console.error("Error updating status:",C)}},f=async b=>{if(window.confirm("هل أنت متأكد من حذف هذا الطلب؟"))try{await ys(ht(ne,"clubApplications",b))}catch(N){console.error("Error deleting application:",N)}},m=()=>{const b=["الاسم الكامل","العمر","الهاتف","مستوى الإنجليزية","الحصة المفضلة","تأكيد الحضور","البريد الإلكتروني","الحالة","تاريخ التقديم"].join(","),N=d.map(k=>[`"${k.fullName}"`,`"${k.age}"`,`"${k.phone}"`,`"${k.englishLevel}"`,`"${k.preferredSession||""}"`,`"${k.attendanceConfirmation||""}"`,`"${k.email||""}"`,k.status==="pending"?"قيد المراجعة":k.status==="approved"?"مقبول":"مرفوض",`"${ke(k.applicationDate,"yyyy-MM-dd HH:mm",{locale:nt})}"`].join(",")),C=[b,...N].join(`
`),y=new Blob(["\uFEFF"+C],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(y),w=document.createElement("a");w.href=g,w.setAttribute("download",`طلبات_The_Office_${ke(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(w),w.click(),document.body.removeChild(w)},x={total:e.length,pending:e.filter(b=>b.status==="pending").length,approved:e.filter(b=>b.status==="approved").length,rejected:e.filter(b=>b.status==="rejected").length};return i?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center text-gray-800",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc] mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"جاري تحميل طلبات The Office..."})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",dir:"rtl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"طلبات نادي The Office"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة ومتابعة طلبات نادي The Office"})]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:m,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm",children:[o.jsx(ti,{size:18}),"تصدير البيانات"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"إجمالي الطلبات",value:x.total,icon:$e,color:"bg-[#22b0fc]"},{title:"قيد المراجعة",value:x.pending,icon:$e,color:"bg-yellow-500"},{title:"مقبولة",value:x.approved,icon:et,color:"bg-green-500"},{title:"مرفوضة",value:x.rejected,icon:tt,color:"bg-red-500"}].map((b,N)=>o.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:`${b.color} text-white rounded-xl p-4 shadow-md`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-90",children:b.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:b.value})]}),o.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:o.jsx(b.icon,{className:"w-5 h-5"})})]})},b.title))}),o.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:o.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"ابحث بالاسم أو الهاتف أو البريد...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",value:l,onChange:b=>c(b.target.value)}),o.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الاسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"العمر"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الهاتف"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"مستوى الإنجليزية"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الحصة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الحالة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"التاريخ"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الإجراءات"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:d.length>0?d.map((b,N)=>o.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:N*.05},className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800 font-medium",children:b.fullName}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:b.age}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",dir:"ltr",children:b.phone}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:b.englishLevel}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:b.preferredSession||"غير محدد"}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${b.status==="pending"?"bg-yellow-100 text-yellow-800":b.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.status==="pending"?"قيد المراجعة":b.status==="approved"?"مقبول":"مرفوض"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:ke(b.applicationDate,"yyyy/MM/dd",{locale:nt})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(b),className:"p-1.5 text-[#22b0fc] hover:bg-blue-50 rounded-lg transition-colors",title:"عرض التفاصيل",children:o.jsx(fi,{size:18})}),b.status!=="approved"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>h(b.id,"approved"),className:"p-1.5 text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"قبول الطلب",children:o.jsx(et,{size:18})}),b.status!=="rejected"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>h(b.id,"rejected"),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"رفض الطلب",children:o.jsx(tt,{size:18})}),o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f(b.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"حذف الطلب",children:o.jsx(Dt,{size:18})})]})})]},b.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:[o.jsx($e,{className:"w-10 h-10 mx-auto mb-2 opacity-40"}),o.jsx("p",{className:"text-sm",children:"لا توجد طلبات متطابقة مع معايير البحث"})]})})})]})})}),r&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>s(null),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-xl",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تفاصيل طلب The Office"}),o.jsx("button",{onClick:()=>s(null),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"إغلاق",children:"×"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الاسم الكامل"}),o.jsx("p",{className:"font-medium",children:r.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"العمر"}),o.jsx("p",{className:"font-medium",children:r.age})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),o.jsx("p",{className:"font-medium",dir:"ltr",children:r.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"مستوى الإنجليزية"}),o.jsx("p",{className:"font-medium",children:r.englishLevel})]}),r.preferredSession&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الحصة المفضلة"}),o.jsx("p",{className:"font-medium",children:r.preferredSession})]}),r.attendanceConfirmation&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تأكيد الحضور"}),o.jsx("p",{className:"font-medium",children:r.attendanceConfirmation})]}),r.email&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),o.jsx("p",{className:"font-medium",children:r.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ التقديم"}),o.jsx("p",{className:"font-medium",children:ke(r.applicationDate,"yyyy/MM/dd HH:mm",{locale:nt})})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-end pt-4 border-t",children:[o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(r.id,"approved"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="approved"?"bg-green-100 text-green-800":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:r.status==="approved",children:[o.jsx(et,{size:18}),r.status==="approved"?"تم القبول":"قبول الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(r.id,"rejected"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${r.status==="rejected"?"bg-red-100 text-red-800":"bg-red-500 hover:bg-red-600 text-white"}`,disabled:r.status==="rejected",children:[o.jsx(tt,{size:18}),r.status==="rejected"?"تم الرفض":"رفض الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>f(r.id),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Dt,{size:18}),"حذف الطلب"]})]})]})]})})]})})};class I8 extends ep.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){}render(){return this.state.hasError?o.jsxs("div",{style:{padding:40,textAlign:"center",color:"#b91c1c",background:"#fff"},children:[o.jsx("h1",{style:{fontSize:32,marginBottom:16},children:"حدث خطأ في لوحة التحكم"}),o.jsx("p",{style:{fontSize:18},children:"يرجى إعادة تحميل الصفحة أو التواصل مع الدعم الفني."}),o.jsx("pre",{style:{color:"#991b1b",marginTop:24,direction:"ltr",textAlign:"left",background:"#fee2e2",padding:16,borderRadius:8,overflowX:"auto"},children:String(this.state.error)})]}):this.props.children}}const k8=()=>{const[t,e]=D.useState([]),[n,r]=D.useState([]),[s,i]=D.useState("all"),[a,l]=D.useState("all"),[c,d]=D.useState(null),[h,f]=D.useState(!0),[m,x]=D.useState(""),[b,N]=D.useState("applications"),[C,y]=D.useState(null);D.useEffect(()=>{const _=$N(Uu,S=>{y(S)}),T=Tt(Ie(ne,"applications"),Qn("submissionDate","desc")),E=Nt(T,S=>{const P=[];S.forEach(R=>{var ae;const I=R.data();P.push({id:R.id,...I,status:I.status||"pending",submissionDate:(ae=I.submissionDate)==null?void 0:ae.toDate()})}),e(P),f(!1)});return()=>{E(),_()}},[]),D.useEffect(()=>{let _=t;if(s!=="all"&&(_=_.filter(T=>T.status===s)),a!=="all"&&(_=_.filter(T=>typeof T.registrationType=="string"&&T.registrationType.toLowerCase()===a)),m){const T=m.toLowerCase();_=_.filter(E=>{const S=typeof E.fullName=="string"&&E.fullName.toLowerCase().includes(T),P=typeof E.phone=="string"&&E.phone.includes(T),R=typeof E.email=="string"&&E.email.toLowerCase().includes(T);return S||P||R})}r(_)},[t,s,a,m]);const g=async()=>{try{await l5(Uu)}catch(_){console.error("Error signing out:",_)}},w=async(_,T)=>{try{await gs(ht(ne,"applications",_),{status:T,reviewedAt:new Date,reviewedBy:C==null?void 0:C.uid})}catch(E){console.error("Error updating status:",E)}},k=async _=>{if(window.confirm("هل أنت متأكد من حذف هذا الطلب؟"))try{await ys(ht(ne,"applications",_))}catch(T){console.error("Error deleting application:",T)}},M=()=>{const _=["الاسم الكامل","الهاتف","البريد الإلكتروني","الدورة","نوع التسجيل","الحالة","تاريخ التسجيل"].join(","),T=n.map(I=>[`"${I.fullName||""}"`,`"${I.phone||""}"`,`"${I.email||""}"`,`"${I.course||""}"`,I.registrationType==="Basic"?"أولي":"كامل",I.status==="pending"?"قيد المراجعة":I.status==="approved"?"مقبول":"مرفوض",`"${ke(I.submissionDate,"yyyy-MM-dd HH:mm",{locale:nt})}"`].join(",")),E=[_,...T].join(`
`),S=new Blob(["\uFEFF"+E],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(S),R=document.createElement("a");R.href=P,R.setAttribute("download",`طلبات_التسجيل_${ke(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(R),R.click(),document.body.removeChild(R)},O={total:t.length,pending:t.filter(_=>_.status==="pending").length,approved:t.filter(_=>_.status==="approved").length,rejected:t.filter(_=>_.status==="rejected").length,basic:t.filter(_=>_.registrationType==="Basic").length,full:t.filter(_=>_.registrationType==="Full").length,thisMonth:t.filter(_=>{const T=new Date(_.submissionDate),E=new Date;return T.getMonth()===E.getMonth()&&T.getFullYear()===E.getFullYear()}).length};return h?o.jsx("div",{className:"min-h-screen flex items-center justify-center",dir:"rtl",children:o.jsxs("div",{className:"text-center text-gray-800",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#22b0fc] mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"جاري تحميل البيانات..."})]})}):o.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gray-50 p-4 md:p-8",dir:"rtl",children:[o.jsx("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-md",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"لوحة التحكم الإدارية"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة جميع طلبات التسجيل والخدمات"})]}),o.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[b==="applications"&&o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm",children:[o.jsx(ti,{size:18}),"تصدير البيانات"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:g,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm",children:[o.jsx(hF,{size:18}),"تسجيل الخروج"]})]})]})}),o.jsx("div",{className:"bg-white rounded-2xl p-2 mb-6 shadow-md",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-2",children:[o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("applications"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="applications"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(dF,{size:16}),"طلبات الدورات"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("statistics"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="statistics"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(sj,{size:16}),"الإحصائيات"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("workshops"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="workshops"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(mF,{size:16}),"إدارة الورش"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("workshop-applications"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="workshop-applications"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(pF,{size:16}),"تسجيلات الورش"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("clubs"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="clubs"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx($e,{size:16}),"إدارة النوادي"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("club-applications"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="club-applications"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(rj,{size:16}),"طلبات النوادي"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("job-applications"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="job-applications"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(go,{size:16}),"طلبات التوظيف"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("intern-applications"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="intern-applications"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(jo,{size:16}),"طلبات التدريب"]}),o.jsxs(A.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N("theoffice-applications"),className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2 transition-all text-sm ${b==="theoffice-applications"?"bg-[#22b0fc] text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx($e,{size:16}),"طلبات The Office"]})]})}),b==="workshops"?o.jsx(w8,{}):b==="statistics"?o.jsx(N8,{isAdmin:!0}):b==="intern-applications"?o.jsx(j8,{isAdmin:!0}):b==="workshop-applications"?o.jsx(b8,{isAdmin:!0}):b==="clubs"?o.jsx(_8,{}):b==="club-applications"?o.jsx(T8,{isAdmin:!0}):b==="job-applications"?o.jsx(E8,{isAdmin:!0}):b==="theoffice-applications"?o.jsx(S8,{isAdmin:!0}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{title:"إجمالي الطلبات",value:O.total,icon:$e,color:"bg-[#22b0fc]"},{title:"طلبات أولية",value:O.basic,icon:$e,color:"bg-cyan-500"},{title:"طلبات كاملة",value:O.full,icon:aj,color:"bg-green-500"},{title:"هذا الشهر",value:O.thisMonth,icon:In,color:"bg-purple-500"},{title:"قيد المراجعة",value:O.pending,icon:p0,color:"bg-yellow-500"},{title:"مقبولة",value:O.approved,icon:et,color:"bg-green-500"},{title:"مرفوضة",value:O.rejected,icon:tt,color:"bg-red-500"}].map((_,T)=>o.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.1},className:`${_.color} text-white rounded-xl p-4 shadow-md`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-90",children:_.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:_.value})]}),o.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:o.jsx(_.icon,{className:"w-5 h-5"})})]})},_.title))}),o.jsx("div",{className:"bg-white rounded-2xl p-4 mb-6 shadow-md",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"ابحث بالاسم أو الهاتف أو البريد...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#22b0fc] focus:border-[#22b0fc] outline-none",value:m,onChange:_=>x(_.target.value)}),o.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),o.jsx("div",{className:"flex gap-2",children:[{key:"all",label:"الكل",color:"bg-gray-200 hover:bg-gray-300 text-gray-800"},{key:"pending",label:"قيد المراجعة",color:"bg-yellow-100 hover:bg-yellow-200 text-yellow-800"},{key:"approved",label:"مقبولة",color:"bg-green-100 hover:bg-green-200 text-green-800"},{key:"rejected",label:"مرفوضة",color:"bg-red-100 hover:bg-red-200 text-red-800"}].map(_=>o.jsx(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>i(_.key),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${_.color} ${s===_.key?"ring-2 ring-offset-2 ring-[#22b0fc]":""}`,children:_.label},_.key))}),o.jsx("div",{className:"flex gap-2",children:[{key:"all",label:"الكل",color:"bg-gray-200 hover:bg-gray-300 text-gray-800"},{key:"basic",label:"أولي",color:"bg-blue-100 hover:bg-blue-200 text-blue-800"},{key:"full",label:"كامل",color:"bg-green-100 hover:bg-green-200 text-green-800"}].map(_=>o.jsx(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l(_.key),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${_.color} ${a===_.key?"ring-2 ring-offset-2 ring-[#22b0fc]":""}`,children:_.label},_.key))})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الاسم"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الهاتف"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الدورة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"النوع"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الحالة"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"التاريخ"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"الإجراءات"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:n.length>0?n.map((_,T)=>o.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:T*.05},className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800 font-medium",children:_.fullName}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",dir:"ltr",children:_.phone}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:_.course}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${_.registrationType==="Basic"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:_.registrationType==="Basic"?"أولي":"كامل"})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${!_.status||_.status==="pending"?"bg-yellow-100 text-yellow-800":_.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:!_.status||_.status==="pending"?"قيد المراجعة":_.status==="approved"?"مقبول":"مرفوض"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:ke(_.submissionDate,"yyyy/MM/dd",{locale:nt})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(_),className:"p-1.5 text-[#22b0fc] hover:bg-blue-50 rounded-lg transition-colors",title:"عرض التفاصيل",children:o.jsx(fi,{size:18})}),_.status!=="approved"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(_.id,"approved"),className:"p-1.5 text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"قبول الطلب",children:o.jsx(et,{size:18})}),_.status!=="rejected"&&o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(_.id,"rejected"),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"رفض الطلب",children:o.jsx(tt,{size:18})}),o.jsx(A.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(_.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"حذف الطلب",children:o.jsx(Dt,{size:18})})]})})]},_.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:[o.jsx($e,{className:"w-10 h-10 mx-auto mb-2 opacity-40"}),o.jsx("p",{className:"text-sm",children:"لا توجد طلبات متطابقة مع معايير البحث"})]})})})]})})}),c&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(null),children:o.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تفاصيل طلب التسجيل"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>window.print(),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"طباعة",children:o.jsx(fF,{size:18})}),o.jsx("button",{onClick:()=>d(null),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"إغلاق",children:"×"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"المعلومات الشخصية"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الاسم الكامل"}),o.jsx("p",{className:"font-medium",children:c.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),o.jsx("p",{className:"font-medium",dir:"ltr",children:c.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),o.jsx("p",{className:"font-medium",children:c.email||"غير متوفر"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"العمر"}),o.jsx("p",{className:"font-medium",children:c.age})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الولاية"}),o.jsx("p",{className:"font-medium",children:c.wilaya})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"المستوى التعليمي"}),o.jsx("p",{className:"font-medium",children:c.education})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"معلومات الدورة"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الدورة المطلوبة"}),o.jsx("p",{className:"font-medium",children:c.course})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"نوع التسجيل"}),o.jsx("p",{className:"font-medium",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${c.registrationType==="Basic"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:c.registrationType==="Basic"?"أولي":"كامل"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"حالة الطلب"}),o.jsx("p",{className:"font-medium",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${!c.status||c.status==="pending"?"bg-yellow-100 text-yellow-800":c.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:!c.status||c.status==="pending"?"قيد المراجعة":c.status==="approved"?"مقبول":"مرفوض"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ التسجيل"}),o.jsx("p",{className:"font-medium",children:ke(c.submissionDate,"yyyy/MM/dd HH:mm",{locale:nt})})]})]})]}),(c.experience||c.comments)&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"معلومات إضافية"}),o.jsxs("div",{className:"space-y-4",children:[c.experience&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"الخبرة السابقة"}),o.jsx("p",{className:"font-medium",children:c.experience})]}),c.comments&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"ملاحظات إضافية"}),o.jsx("p",{className:"font-medium",children:c.comments})]})]})]}),c.registrationType==="Full"&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"مستندات التسجيل الكامل"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"معلومات الدفع"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"طريقة الدفع"}),o.jsx("p",{className:"font-medium",children:c.paymentMethod||"غير محدد"})]}),c.paymentProofUrl&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"إثبات الدفع"}),o.jsx("a",{href:c.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:o.jsx("img",{src:c.paymentProofUrl,alt:"إثبات الدفع",className:"h-24 object-contain border border-gray-200 rounded-lg"})})]})]})]}),(c.idFrontUrl||c.idBackUrl)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"صور بطاقة الهوية"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.idFrontUrl&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"الوجه الأمامي"}),o.jsx("a",{href:c.idFrontUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:o.jsx("img",{src:c.idFrontUrl,alt:"بطاقة الهوية - الوجه الأمامي",className:"h-24 object-contain border border-gray-200 rounded-lg"})})]}),c.idBackUrl&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"الوجه الخلفي"}),o.jsx("a",{href:c.idBackUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:o.jsx("img",{src:c.idBackUrl,alt:"بطاقة الهوية - الوجه الخلفي",className:"h-24 object-contain border border-gray-200 rounded-lg"})})]})]})]}),c.signature&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"التوقيع"}),o.jsx("a",{href:c.signature,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:o.jsx("img",{src:c.signature,alt:"توقيع المتقدم",className:"h-24 object-contain border border-gray-200 rounded-lg bg-white"})})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-end pt-4 border-t",children:[o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(c.id,"approved"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${c.status==="approved"?"bg-green-100 text-green-800":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:c.status==="approved",children:[o.jsx(et,{size:18}),c.status==="approved"?"تم القبول":"قبول الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(c.id,"rejected"),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${c.status==="rejected"?"bg-red-100 text-red-800":"bg-red-500 hover:bg-red-600 text-white"}`,disabled:c.status==="rejected",children:[o.jsx(tt,{size:18}),c.status==="rejected"?"تم الرفض":"رفض الطلب"]}),o.jsxs(A.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>k(c.id),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(Dt,{size:18}),"حذف الطلب"]})]})]})]})})]})]})};function C8(t){return o.jsx(I8,{children:o.jsx(k8,{...t})})}function A8(){const[t,e]=D.useState("choice"),[n,r]=D.useState(null),[s,i]=D.useState(!0);D.useEffect(()=>{const d=$N(Uu,h=>{r(h),i(!1),h&&t==="admin-login"&&e("admin-dashboard"),!h&&t==="admin-dashboard"&&e("choice")});return()=>d()},[t]);const a=d=>{e(d==="admin"?n?"admin-dashboard":"admin-login":d==="basic"?"basic-form":"full-form")},l=()=>{e("choice")},c=()=>{e("admin-dashboard")};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-[#22b0fc] to-indigo-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{children:"جاري التحميل..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-[#22b0fc] to-indigo-900 relative overflow-hidden",children:[o.jsx(aF,{}),o.jsx("div",{className:"relative z-10 container mx-auto px-4",children:o.jsxs(AR,{mode:"wait",children:[t==="choice"&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:o.jsx(LF,{onChoiceSelect:a})},"choice"),(t==="basic-form"||t==="full-form")&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:o.jsx(Qm,{type:t==="basic-form"?"basic":"full",onBack:l})},"form"),t==="admin-login"&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:o.jsx(FF,{onBack:l,onLoginSuccess:c})},"admin-login"),t==="admin-dashboard"&&n&&o.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:o.jsx(C8,{})},"admin-dashboard")]})})]})}D1(document.getElementById("root")).render(o.jsx(D.StrictMode,{children:o.jsx(A8,{})}));
